(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+IzI":function(e,t,n){},"1GCN":function(e,t,n){},"1JZ3":function(e,t,n){"use strict";var r=n("1Tl6"),o=n("S4vP"),i=o("Object.prototype.propertyIsEnumerable"),a=o("Array.prototype.push");e.exports=function(e){var t=r(e),n=[];for(var o in t)i(t,o)&&a(n,t[o]);return n}},"1Tl6":function(e,t,n){"use strict";e.exports=n("wszz")},"1v+d":function(e,t,n){"use strict";var r,o=n("ERkP"),i=n.n(o),a=n("RWM8"),l=n.n(a),c=n("B79d"),s=n("L5fd"),u=(n("bIcD"),n("bIW9"));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return o.createElement("svg",d({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.4 8.6V14h1.2V8.6H14V7.4H8.6V2H7.4v5.4H2v1.2h5.4z",fill:"#7D8085"})))}var h,m=function(e){var t=e.className;return i.a.createElement(f,{className:t})};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return o.createElement("svg",p({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),h||(h=o.createElement("path",{d:"M3 5v8.2a.8.8 0 00.8.8h8.4a.8.8 0 00.8-.8V5M8 6v5M1 3.5h14M5 3.5l.462-1.849a.2.2 0 01.194-.151h4.688a.2.2 0 01.194.151L11 3.5",stroke:"#7D8085",strokeWidth:1.2})))}var g=function(e){var t=e.className;return i.a.createElement(v,{className:t})},y=n("W5cf");function S(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E,C=c.f.api.getEventApi();!function(e){e.CHECKED="CHECKED",e.NONE="NONE",e.INDETERMINATE="INDETERMINATE"}(E||(E={}));t.a=function(e){var t=e.mailList,n=(e.isMerge,e.Close),r=e.onChange,a=c.f.api.requireLogicalApi(c.h.mailConfApiImpl),d=Object(u.o)((function(e){return e.mailReducer.mailTagList})),f=window.location.pathname,h=b(Object(o.useState)({}),2),p=h[0],v=h[1],w=Object(o.useMemo)((function(){return function(){if("/readMailComb"===f){var e=sessionStorage.getItem("tags");if(!e)return[];try{var t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(n){return[]}}return d}()}),[d]);Object(o.useEffect)((function(){var e={};if(w&&w.length&&w.map((function(t){e[t[0]]=E.NONE})),t&&t.length){var n={},r=t.length;null==t||t.forEach((function(e){var t=(null==e?void 0:e.tags)||[];null==t||t.forEach((function(e){n[e]?n[e]+=1:n[e]=1}))}));for(var o=0,i=Object.entries(n);o<i.length;o++){var a=b(i[o],2),l=a[0],c=a[1];e[l]=c===r?E.CHECKED:E.INDETERMINATE}}v(e)}),[t,w]),Object(o.useEffect)((function(){"/"!==location.pathname&&(null==a||a.requestTaglist())}),[]);var _=function(e){r&&r(e)},x=function(e){var t={};return e.forEach((function(e){var n=e.entry,r=n.id;n.threadMessageCount,n.threadMessageIds,e.isThread;r&&(t[r]=e)})),S(Object.values(t))},I=function(){n&&n()};Object(u.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode}));return i.a.createElement("div",{className:"mt-footer-menu-wrap"},w&&w.length?i.a.createElement("div",{className:"mt-list"},w.map((function(e){var n=p[e[0]],r=c.p.find((function(t){var n;return t.nums.includes(null===(n=e[1])||void 0===n?void 0:n.color)})),o=(null==r?void 0:r.className)||"color1";return i.a.createElement("div",{className:"mt-item",onClick:function(r){r.stopPropagation();var o=e[1].tagId;!function(e,n,r){var o=Object.assign({},p);e?(s.a.loading({content:"标记中",duration:35,key:n}),C.sendSysEvent({eventName:"mailTagChanged",eventData:{tagNames:[n],mailList:x(t),tagIds:[r]},eventStrData:"tag"}),o[n]=1,_({eventName:"mailTagChanged",eventStrData:"tag"})):(s.a.loading({content:"取消标记中",duration:35,key:n}),C.sendSysEvent({eventName:"mailTagChanged",eventData:{tagNames:[n],mailList:x(t),tagIds:[r]},eventStrData:"untag"}),o[n]=0,_({eventName:"mailTagChanged",eventStrData:"untag"})),v(o),I()}(n!==E.CHECKED,e[0],o)}},i.a.createElement("div",{className:"mt-oper-wrap"},i.a.createElement(l.a,{className:"checkbox ".concat(o),indeterminate:n===E.INDETERMINATE,checked:n===E.CHECKED},i.a.createElement(y.b,{className:"tag-icon",strokeColor:null==r?void 0:r.color}))),i.a.createElement("div",{className:"mt-content-warp",title:e[0]},e[0]),n===E.CHECKED&&i.a.createElement(y.c,{strokeColor:"#000"}))}))):i.a.createElement("div",{className:"mt-none"},"暂无标签"),i.a.createElement("div",{className:"mt-line"}),i.a.createElement("div",{className:"mt-footer-btns"},"/readMailComb"!==f&&i.a.createElement("div",{className:"mt-item",onClick:function(){C.sendSysEvent({eventName:"mailTagChanged",eventData:{tagNames:[],mailList:[]},eventStrData:"addtag"}),_({eventName:"mailTagChanged",eventStrData:"addTag"}),I()}},i.a.createElement("div",{className:"mt-oper-wrap"},i.a.createElement(m,{className:"add-svg"})),i.a.createElement("div",{className:"mt-content-warp"},"新建标签并标记")),w&&w.length?i.a.createElement("div",{className:"mt-item",onClick:function(){var e=w.filter((function(e){return[E.CHECKED,E.INDETERMINATE].includes(p[e[0]])})).map((function(e){return e[0]}));if(!(e.length<=0)){var n=e.join(",");s.a.loading({content:"标记清除中",duration:35,key:n}),C.sendSysEvent({eventName:"mailTagChanged",eventData:{tagNames:e,mailList:x(t),successMsg:"清空已有标签成功",failMsg:"清空已有标签失败"},eventStrData:"untag"}),_({eventName:"mailTagChanged",eventStrData:"clearAllTag"}),I()}}},i.a.createElement("div",{className:"mt-oper-wrap"},i.a.createElement(g,{className:"delete-svg"})),i.a.createElement("div",{className:"mt-content-warp"},"清空已有的标签")):""))}},"3mOf":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o=n("ERkP");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return o.createElement("svg",i({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M3.5 12.5L8 8m0 0L3.5 3.5M8 8l4.5 4.5M8 8l4.5-4.5",stroke:"#7D8085",strokeWidth:1.2,strokeLinejoin:"round"})))}},"48gJ":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},"4v0Q":function(e,t,n){"use strict";var r=n("ERkP"),o=n("B79d").f.api.getEventApi();t.a=function(e,t){Object(r.useEffect)((function(){var n=o.registerSysEventObserver(e,(function(e){t&&t(e)}));return function(){o.unregisterSysEventObserver(e,n)}}),[])}},"5L5q":function(e,t,n){"use strict";var r=n("8iDC");e.exports=Function.prototype.bind||r},"78cO":function(e,t,n){"use strict";(function(e){function r(t,n){var r,o,i,a=void 0!==(r=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&r.document.attachEvent;if(!a){var l=(i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)},function(e){return i(e)}),c=(o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(e){return o(e)}),s=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=l((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},d=!1,f="",h="animationstart",m="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=r.document.createElement("fakeelement");if(void 0!==v.style.animationName&&(d=!0),!1===d)for(var g=0;g<m.length;g++)if(void 0!==v.style[m[g]+"AnimationName"]){f="-"+m[g].toLowerCase()+"-",h=p[g],d=!0;break}var y="resizeanim",S="@"+f+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",b=f+"animation: 1ms "+y+"; "}return{addResizeListener:function(e,n){if(a)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,i=r.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(S||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.id="detectElementResize",o.type="text/css",null!=t&&o.setAttribute("nonce",t),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(e.createTextNode(n)),r.appendChild(o)}}(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var l='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var c=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return l}});e.__resizeTriggers__.innerHTML=c.createHTML("")}else e.__resizeTriggers__.innerHTML=l;e.appendChild(e.__resizeTriggers__),s(e),e.addEventListener("scroll",u,!0),h&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&s(e)},e.__resizeTriggers__.addEventListener(h,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(h,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}n.d(t,"a",(function(){return r}))}).call(this,n("fRV1"))},"7BoZ":function(e,t,n){"use strict";var r=n("zT+L"),o=n("f5W6"),i=n("1JZ3"),a=n("ghTS"),l=n("xQ8p"),c=o(a(),Object);r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},"8iDC":function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(r+t);for(var n,a=o.call(arguments,1),l=function(){if(this instanceof n){var r=t.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(o.call(arguments)))},c=Math.max(0,t.length-a.length),s=[],u=0;u<c;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},BmoJ:function(e,t,n){e.exports=n("YXMc")},F3Ih:function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n("cTt9"),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),s=l.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),l=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var m=s&&n;if(l&&e.length>0&&!o.call(e,0))for(var p=0;p<e.length;++p)f.push(String(p));if(r&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var g in e)m&&"prototype"===g||!o.call(e,g)||f.push(String(g));if(c)for(var y=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}}(e),S=0;S<u.length;++S)y&&"constructor"===u[S]||!o.call(e,u[S])||f.push(u[S]);return f}}e.exports=r},HPZX:function(e,t,n){},Jdrj:function(e,t,n){e.exports={attachmentCard:"index-module--attachment-card--32HDc",isChat:"index-module--isChat--Pv9Ue",content:"index-module--content--3imhc",info:"index-module--info--2BVI0",name:"index-module--name--2UBwo",error:"index-module--error--3YH7b",infoIcon:"index-module--info-icon--2lr7u",infoRight:"index-module--info-right--GNqzK",operate:"index-module--operate--2ruoR",leftIcon:"index-module--left-icon--M7Pby",hide:"index-module--hide--2lTSJ",operateItem:"index-module--operate-item--3A2ZH",size:"index-module--size--YK9yD",itemBox:"index-module--item-box--2d9Ti",mail:"index-module--mail--3DZng",itemOpe:"index-module--item-ope--2IoF5",hidden:"index-module--hidden--3nfSt",moreBtn:"index-module--more-btn--1cBB8",processBox:"index-module--process-box--3y-Pb",process:"index-module--process--1GLDy",netFolderTag:"index-module--netFolderTag--lsM0z",operateMenu:"index-module--operate-menu--2tS-C",item:"index-module--item--1PVgX",separateLine:"index-module--separate-line--gAgiv",antDropdown:"index-module--ant-dropdown--1G2Uq"}},McaJ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r,o=!("undefined"==typeof window||!window.document||!window.document.createElement);function i(e){if((!r&&0!==r||e)&&o){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}},Nbvm:function(e,t,n){"use strict";var r=n("ERkP");t.a=function(e){var t=Object(r.useRef)(e);t.current=e;return function(){return t.current&&t.current.apply(t,arguments)}}},OoOd:function(e,t,n){"use strict";n("nndn"),n("NhDJ");var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(I){l=null}var c=function(){throw new i},s=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(t){return c}}}():c,u=n("V+Bs")(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?void 0:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":s,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n("5L5q"),g=n("wSS7"),y=v.call(Function.call,Array.prototype.concat),S=v.call(Function.apply,Array.prototype.splice),b=v.call(Function.call,String.prototype.replace),w=v.call(Function.call,String.prototype.slice),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,C=function(e){var t=w(e,0,1),n=w(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return b(e,_,(function(e,t,n,r){o[o.length]=n?b(r,E,"$1"):t||e})),o},x=function(e,t){var n,o=e;if(g(p,o)&&(o="%"+(n=p[o])[0]+"%"),g(m,o)){var l=m[o];if(l===f&&(l=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return m[t]=n,n}(o)),void 0===l&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:l}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var n=C(e),o=n.length>0?n[0]:"",a=x("%"+o+"%",t),c=a.name,s=a.value,u=!1,d=a.alias;d&&(o=d[0],S(n,y([0,1],d)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f],v=w(p,0,1),b=w(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===b||"'"===b||"`"===b)&&v!==b)throw new r("property names with quotes must have matching quotes");if("constructor"!==p&&h||(u=!0),g(m,c="%"+(o+="."+p)+"%"))s=m[c];else if(null!=s){if(!(p in s)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var _=l(s,p);s=(h=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:s[p]}else h=g(s,p),s=s[p];h&&!u&&(m[c]=s)}}return s}},PXhU:function(e,t,n){"use strict";function r(){return null}function o(){return r}r.isRequired=r,e.exports={and:o,between:o,booleanSome:o,childrenHavePropXorChildren:o,childrenOf:o,childrenOfType:o,childrenSequenceOf:o,componentWithName:o,disallowedIf:o,elementType:o,empty:o,explicitNull:o,forbidExtraProps:Object,integer:o,keysOf:o,mutuallyExclusiveProps:o,mutuallyExclusiveTrueProps:o,nChildren:o,nonNegativeInteger:r,nonNegativeNumber:o,numericString:o,object:o,or:o,predicate:o,range:o,ref:o,requiredBy:o,restrictedProp:o,sequenceOf:o,shape:o,stringEndsWith:o,stringStartsWith:o,uniqueArray:o,uniqueArrayOf:o,valuesOf:o,withShape:o}},Pvw5:function(e,t,n){var r,o;"undefined"!=typeof self&&self,e.exports=(r=n("ERkP"),o=n("7nmT"),function(){"use strict";var e={655:function(e,t,n){n.r(t),n.d(t,{__extends:function(){return o},__assign:function(){return i},__rest:function(){return a},__decorate:function(){return l},__param:function(){return c},__metadata:function(){return s},__awaiter:function(){return u},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return h},__values:function(){return m},__read:function(){return p},__spread:function(){return v},__spreadArrays:function(){return g},__spreadArray:function(){return y},__await:function(){return S},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return _},__makeTemplateObject:function(){return E},__importStar:function(){return x},__importDefault:function(){return I},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return O}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function l(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function l(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=o[e](t)).value instanceof S?Promise.resolve(n.value.v).then(c,s):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){l("next",e)}function s(e){l("throw",e)}function u(e,t){e(t),i.shift(),i.length&&l(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return C(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}},156:function(e){e.exports=r},111:function(e){e.exports=o}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.useReactToPrint=e.PrintContextConsumer=void 0;var t=n(655),r=n(156),o=n(111),a=Object.prototype.hasOwnProperty.call(r,"createContext"),l=Object.prototype.hasOwnProperty.call(r,"useMemo")&&Object.prototype.hasOwnProperty.call(r,"useCallback"),c=a?r.createContext({}):null;e.PrintContextConsumer=c?c.Consumer:function(){return null};var s={copyStyles:!0,pageStyle:"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }",removeAfterPrint:!1,suppressErrors:!1},u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.startPrint=function(e){var t=n.props,r=t.onAfterPrint,o=t.onPrintError,i=t.print,a=t.documentTitle;setTimeout((function(){var t,l;if(e.contentWindow){if(e.contentWindow.focus(),i)i(e).then(n.handleRemoveIframe).catch((function(e){o?o("print",e):n.logMessages(["An error was thrown by the specified `print` function"])}));else if(e.contentWindow.print){var c=null!==(l=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==l?l:"",s=e.ownerDocument.title;a&&(e.ownerDocument.title=a,e.contentDocument&&(e.contentDocument.title=a)),e.contentWindow.print(),a&&(e.ownerDocument.title=s,e.contentDocument&&(e.contentDocument.title=c)),r&&r()}else n.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);n.handleRemoveIframe()}else n.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])}),500)},n.triggerPrint=function(e){var t=n.props,r=t.onBeforePrint,o=t.onPrintError;if(r){var i=r();i&&"function"==typeof i.then?i.then((function(){n.startPrint(e)})).catch((function(e){o&&o("onBeforePrint",e)})):n.startPrint(e)}else n.startPrint(e)},n.handleClick=function(){var e=n.props,t=e.onBeforeGetContent,r=e.onPrintError;if(t){var o=t();o&&"function"==typeof o.then?o.then(n.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):n.handlePrint()}else n.handlePrint()},n.handlePrint=function(){var e=n.props,r=e.bodyClass,i=e.content,a=e.copyStyles,l=e.fonts,c=e.pageStyle,s=e.nonce,u=i();if(void 0!==u)if(null!==u){var d=document.createElement("iframe");d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.id="printWindow",d.srcdoc="<!DOCTYPE html>";var f=(0,o.findDOMNode)(u);if(f){var h=f.cloneNode(!0),m=h instanceof Text,p=document.querySelectorAll("link[rel='stylesheet']"),v=m?[]:h.querySelectorAll("img"),g=m?[]:h.querySelectorAll("video");n.linkTotal=p.length+v.length+g.length,n.linksLoaded=[],n.linksErrored=[],n.fontsLoaded=[],n.fontsErrored=[];var y=function(e,t){t?n.linksLoaded.push(e):(n.logMessages(['"react-to-print" was unable to load a linked node. It may be invalid. "react-to-print" will continue attempting to print the page. The linked node that errored was:',e]),n.linksErrored.push(e)),n.linksLoaded.length+n.linksErrored.length+n.fontsLoaded.length+n.fontsErrored.length===n.linkTotal&&n.triggerPrint(d)};d.onload=function(){var e,o,i,u;d.onload=null;var p=d.contentDocument||(null===(o=d.contentWindow)||void 0===o?void 0:o.document);if(p){p.body.appendChild(h),l&&((null===(i=d.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(u=d.contentWindow)||void 0===u?void 0:u.FontFace)?l.forEach((function(e){var t=new FontFace(e.family,e.source);d.contentDocument.fonts.add(t),t.loaded.then((function(e){n.fontsLoaded.push(e)})).catch((function(e){n.fontsErrored.push(t),n.logMessages(['"react-to-print" was unable to load a font. "react-to-print" will continue attempting to print the page. The font that failed to load is:',t,"The error from loading the font is:",e])}))})):n.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API']));var S="function"==typeof c?c():c;if("string"!=typeof S)n.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof S,'". Styles from `pageStyle` will not be applied.')]);else{var b=p.createElement("style");s&&(b.setAttribute("nonce",s),p.head.setAttribute("nonce",s)),b.appendChild(p.createTextNode(S)),p.head.appendChild(b)}if(r&&(e=p.body.classList).add.apply(e,(0,t.__spreadArray)([],(0,t.__read)(r.split(" ")),!1)),!m){for(var w=m?[]:f.querySelectorAll("canvas"),_=p.querySelectorAll("canvas"),E=0;E<w.length;++E){var C=w[E],x=_[E].getContext("2d");x&&x.drawImage(C,0,0)}for(E=0;E<v.length;E++){var I=v[E],T=I.getAttribute("src");T?((R=new Image).onload=y.bind(null,I,!0),R.onerror=y.bind(null,I,!1),R.src=T):(n.logMessages(['"react-to-print" encountered an <img> tag with an empty "src" attribute. It will not attempt to pre-load it. The <img> is:',I],"warning"),y(I,!1))}for(E=0;E<g.length;E++){var O=g[E];O.preload="auto";var R,M=O.getAttribute("poster");M?((R=new Image).onload=y.bind(null,O,!0),R.onerror=y.bind(null,O,!1),R.src=M):O.readyState>=2?y(O,!0):(O.onloadeddata=y.bind(null,O,!0),O.onerror=y.bind(null,O,!1),O.onstalled=y.bind(null,O,!1))}var k="input",A=f.querySelectorAll(k),z=p.querySelectorAll(k);for(E=0;E<A.length;E++)z[E].value=A[E].value;var P="input[type=checkbox],input[type=radio]",N=f.querySelectorAll(P),L=p.querySelectorAll(P);for(E=0;E<N.length;E++)L[E].checked=N[E].checked;var j="select",D=f.querySelectorAll(j),F=p.querySelectorAll(j);for(E=0;E<D.length;E++)F[E].value=D[E].value}if(a)for(var W=document.querySelectorAll("style, link[rel='stylesheet']"),H=(E=0,W.length);E<H;++E){var G=W[E];if("STYLE"===G.tagName){var U=p.createElement(G.tagName),B=G.sheet;if(B){var V="";try{for(var q=B.cssRules.length,K=0;K<q;++K)"string"==typeof B.cssRules[K].cssText&&(V+="".concat(B.cssRules[K].cssText,"\r\n"))}catch(e){n.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",G],"warning")}U.setAttribute("id","react-to-print-".concat(E)),s&&U.setAttribute("nonce",s),U.appendChild(p.createTextNode(V)),p.head.appendChild(U)}}else if(G.getAttribute("href")){U=p.createElement(G.tagName),K=0;for(var Y=G.attributes.length;K<Y;++K){var $=G.attributes[K];$&&U.setAttribute($.nodeName,$.nodeValue||"")}U.onload=y.bind(null,U,!0),U.onerror=y.bind(null,U,!1),s&&U.setAttribute("nonce",s),p.head.appendChild(U)}else n.logMessages(['"react-to-print" encountered a <link> tag with an empty "href" attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',G],"warning"),y(G,!0)}}0!==n.linkTotal&&a||n.triggerPrint(d)},n.handleRemoveIframe(!0),document.body.appendChild(d)}else n.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else n.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else n.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},n.handleRemoveIframe=function(e){var t=n.props.removeAfterPrint;if(e||t){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},n.logMessages=function(e,t){void 0===t&&(t="error"),n.props.suppressErrors||("error"===t?console.error(e):"warning"===t&&console.warn(e))},n}return(0,t.__extends)(n,e),n.prototype.render=function(){var e=this.props,t=e.children,n=e.trigger;if(n)return r.cloneElement(n(),{onClick:this.handleClick});if(!c)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var o={handlePrint:this.handleClick};return r.createElement(c.Provider,{value:o},t)},n.defaultProps=s,n}(r.Component);e.default=u,e.useReactToPrint=function(e){if(!l)return e.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var n=r.useMemo((function(){return new u((0,t.__assign)((0,t.__assign)({},s),e))}),[e]);return r.useCallback((function(){return n.handleClick()}),[n])}}(),i}())},RbKB:function(e,t,n){"use strict";var r=n("c2re"),o=n.n(r),i=n("bIW9");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(i.o)((function(t){return t.mailReducer[e]})),r=t?Object(i.m)(i.g)[t]:null,a=function(e){if("function"==typeof e){var t=o()(n);r(e(t))}else r(e)};return[n,a]}},S33Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("ERkP"),o=n.n(r),i=n("ty1+"),a=n("4v0Q");Object(i.configure)({ignoreRepeatedEventsWhenKeyHeldDown:!1});var l=function(e){var t=Object(r.useRef)(null);return Object(a.a)("keyboard",(function(n){var r=window.location.hash;"#".concat(e)===r&&t.current&&t.current(n.eventData)})),Object(r.useCallback)((function(e){return o.a.createElement(i.HotKeys,Object.assign({},Object.assign(Object.assign({},e),{children:void 0}),{getEventForward:function(e){t.current=e}}),e.children)}),[])},c=n("tXYs");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=o.a.createContext(),f=function(e){var t=e.handlers,n=Object(r.useContext)(d),i=Object(r.useRef)(!1);return Object(r.useEffect)((function(){i.current||(i.current=!0,n&&n(t))}),[t]),o.a.createElement("div",null,e.children)};t.b=function(e){var t=l("mailbox"),n=s(Object(r.useState)(),2),i=n[0],a=n[1];Object(r.useCallback)((function(e){a(e)}),[]);return o.a.createElement(d.Provider,{value:a},o.a.createElement(t,{keyMap:c.b,handlers:i,allowChanges:!0,style:{width:"100%"}},e.children))}},S4vP:function(e,t,n){"use strict";var r=n("OoOd"),o=n("f5W6"),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},T8uR:function(e,t,n){(function(r){var o,i,a,l;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}l=function(e,t,n){"use strict";var o="default"in t?t.default:t;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");var n,r;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(n=e,r=t,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(n,r))}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!=c(t)&&"function"!=typeof t?p(e):t}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e,t){var n,o,i,a=void 0!==(n=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:r).document&&n.document.attachEvent;if(!a){var l=(i=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)},function(e){return i(e)}),c=(o=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(e){return o(e)}),s=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=l((function(){!function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}(t)||(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},d=!1,f="",h="animationstart",m="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=n.document.createElement("fakeelement");if(void 0!==v.style.animationName&&(d=!0),!1===d)for(var g=0;g<m.length;g++)if(void 0!==v.style[m[g]+"AnimationName"]){f="-"+m[g].toLowerCase()+"-",h=p[g],d=!0;break}var y="resizeanim",S="@"+f+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",b=f+"animation: 1ms "+y+"; "}return{addResizeListener:function(t,r){if(a)t.attachEvent("onresize",r);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,i=n.getComputedStyle(t);i&&"static"==i.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(S||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(t.createTextNode(n)),r.appendChild(o)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var l=o.createElement("div");l.className="expand-trigger",l.appendChild(o.createElement("div"));var c=o.createElement("div");c.className="contract-trigger",t.__resizeTriggers__.appendChild(l),t.__resizeTriggers__.appendChild(c),t.appendChild(t.__resizeTriggers__),s(t),t.addEventListener("scroll",u,!0),h&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==y&&s(t)},t.__resizeTriggers__.addEventListener(h,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(h,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}var S=function(){function e(){var t,n;i(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return s(p(n=v(this,(t=m(e)).call.apply(t,[this].concat(o)))),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),s(p(n),"_parentNode",void 0),s(p(n),"_autoSizer",void 0),s(p(n),"_window",void 0),s(p(n),"_detectElementResize",void 0),s(p(n),"_onResize",(function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,o=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,l=(n._window||window).getComputedStyle(n._parentNode)||{},c=parseInt(l.paddingLeft,10)||0,s=parseInt(l.paddingRight,10)||0,u=parseInt(l.paddingTop,10)||0,d=parseInt(l.paddingBottom,10)||0,f=i-u-d,h=a-c-s;(!t&&n.state.height!==f||!r&&n.state.width!==h)&&(n.setState({height:i-u-d,width:a-c-s}),o({height:i,width:a}))}})),s(p(n),"_setRef",(function(e){n._autoSizer=e})),n}return h(e,t.Component),l(e,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=y(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,n=e.children,r=e.className,o=e.disableHeight,i=e.disableWidth,a=e.style,l=this.state,c=l.height,s=l.width,u={overflow:"visible"},d={};return o||(u.height=0,d.height=c),i||(u.width=0,d.width=s),t.createElement("div",{className:r,ref:this._setRef,style:f({},u,{},a)},n(d))}}]),e}();s(S,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var b=function(){function e(){var t,n;i(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return s(p(n=v(this,(t=m(e)).call.apply(t,[this].concat(o)))),"_child",void 0),s(p(n),"_measure",(function(){var e=n.props,t=e.cache,r=e.columnIndex,o=void 0===r?0:r,i=e.parent,a=e.rowIndex,l=void 0===a?n.props.index||0:a,c=n._getCellMeasurements(),s=c.height,u=c.width;s===t.getHeight(l,o)&&u===t.getWidth(l,o)||(t.set(l,o,u,s),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:l}))})),s(p(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),(n._child=e)&&n._maybeMeasureCell()})),n}return h(e,t.PureComponent),l(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||n.findDOMNode(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var r=t.style.width,o=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var i=Math.ceil(t.offsetHeight),a=Math.ceil(t.offsetWidth);return r&&(t.style.width=r),o&&(t.style.height=o),{height:i,width:a}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var l=this._getCellMeasurements(),c=l.height,s=l.width;t.set(a,r,s,c),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),e}();s(b,"__internalCellMeasurerFlag",!1),b.__internalCellMeasurerFlag=!0;var w=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,e),s(this,"_cellHeightCache",{}),s(this,"_cellWidthCache",{}),s(this,"_columnWidthCache",{}),s(this,"_rowHeightCache",{}),s(this,"_defaultHeight",void 0),s(this,"_defaultWidth",void 0),s(this,"_minHeight",void 0),s(this,"_minWidth",void 0),s(this,"_keyMapper",void 0),s(this,"_hasFixedHeight",void 0),s(this,"_hasFixedWidth",void 0),s(this,"_columnCount",0),s(this,"_rowCount",0),s(this,"columnWidth",(function(e){var n=e.index,r=t._keyMapper(0,n);return void 0!==t._columnWidthCache[r]?t._columnWidthCache[r]:t._defaultWidth})),s(this,"rowHeight",(function(e){var n=e.index,r=t._keyMapper(n,0);return void 0!==t._rowHeightCache[r]?t._rowHeightCache[r]:t._defaultHeight}));var r=n.defaultHeight,o=n.defaultWidth,a=n.fixedHeight,l=n.fixedWidth,c=n.keyMapper,u=n.minHeight,d=n.minWidth;this._hasFixedHeight=!0===a,this._hasFixedWidth=!0===l,this._minHeight=u||0,this._minWidth=d||0,this._keyMapper=c||_,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:100),!1===this._hasFixedHeight&&!1===this._hasFixedWidth&&console.warn("CellMeasurerCache should only measure a cell's width or height. You have configured CellMeasurerCache to measure both. This will result in poor performance."),!1===this._hasFixedHeight&&0===this._defaultHeight&&console.warn("Fixed height CellMeasurerCache should specify a :defaultHeight greater than 0. Failing to do so will lead to unnecessary layout and poor performance."),!1===this._hasFixedWidth&&0===this._defaultWidth&&console.warn("Fixed width CellMeasurerCache should specify a :defaultWidth greater than 0. Failing to do so will lead to unnecessary layout and poor performance.")}return l(e,[{key:"clear",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:0,r=this._keyMapper(e,n);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(e,n)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(e,n);return void 0!==this._cellHeightCache[r]?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(e,n);return void 0!==this._cellWidthCache[r]?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:0,r=this._keyMapper(e,n);return void 0!==this._cellHeightCache[r]}},{key:"set",value:function(e,t,n,r){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var l=this._keyMapper(e,0);this._rowHeightCache[l]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function _(e,t){return"".concat(e,"-").concat(t)}function E(e){var t,n,r="";if(e)if("object"==c(e))if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=E(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(n=E(t))&&(r&&(r+=" "),r+=n);else"boolean"==typeof e||e.call||(r&&(r+=" "),r+=e);return r}function C(){for(var e,t=0,n="";t<arguments.length;)(e=E(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}function x(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,l=e.nextScrollToIndex,c=e.scrollToIndex,s=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),0<=c&&c===l&&s())}var I=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;i(this,e),s(this,"_cellSizeAndPositionData",{}),s(this,"_lastMeasuredIndex",-1),s(this,"_lastBatchedIndex",-1),s(this,"_cellCount",void 0),s(this,"_cellSizeGetter",void 0),s(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return l(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return 0<=this._lastMeasuredIndex?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,l=this.getSizeAndPositionOfCell(i),c=l.offset,s=c-r+l.size;switch(n){case"start":a=c;break;case"end":a=s;break;case"center":a=c-(r-l.size)/2;break;default:a=Math.max(s,Math.min(c,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:n<o&&(e=r-1)}return 0<t?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),T=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?"undefined"!=typeof window&&window.chrome?16777100:15e5:n,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["maxScrollSize"]);i(this,e),s(this,"_cellSizeAndPositionManager",void 0),s(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new I(o),this._maxScrollSize=r}return l(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}]),e}();function O(e){var t=!(0<arguments.length&&void 0!==e)||e,n={};return function(e){var r=e.callback,o=e.indices,i=Object.keys(o),a=!t||i.every((function(e){var t=o[e];return Array.isArray(t)?0<t.length:0<=t})),l=i.length!==Object.keys(n).length||i.some((function(e){var t=n[e],r=o[e];return Array.isArray(r)?t.join(",")!==r.join(","):t!==r}));n=o,a&&l&&r(o)}}function R(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,l=e.previousSize,c=e.scrollOffset,s=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,f=e.sizeJustIncreasedFromZero,h=e.updateScrollIndexCallback,m=n.getCellCount(),p=0<=u&&u<m;p&&(d!==l||f||!o||"number"==typeof t&&t!==o||s!==i||u!==a)?h(u):!p&&0<m&&(d<l||m<r)&&c>n.getTotalSize()-d&&h(m-1)}function M(e,t){t&&(t.type&&t.type.__internalCellMeasurerFlag&&(t=t.props.children),t&&t.props&&void 0===t.props.style&&!0!==e.__warnedAboutMissingStyle&&(e.__warnedAboutMissingStyle=!0,console.warn("Rendered cell should include style property for positioning.")))}var k,A,z=!("undefined"==typeof window||!window.document||!window.document.createElement);function P(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function N(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function L(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}L.__suppressDeprecationWarning=N.__suppressDeprecationWarning=P.__suppressDeprecationWarning=!0;var j=(A="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||A.msRequestAnimationFrame||function(e){return A.setTimeout(e,1e3/60)},D=A.cancelAnimationFrame||A.webkitCancelAnimationFrame||A.mozCancelAnimationFrame||A.oCancelAnimationFrame||A.msCancelAnimationFrame||function(e){A.clearTimeout(e)},F=j,W=D,H=function(e){return W(e.id)},G=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:F((function o(){Date.now()-n>=t?e.call():r.id=F(o)}))};return r};function U(e,t,n){t=t||600;var r,o=null;return function(){o=o||(new Date).getTime();var i=this,a=arguments;if(n&&o&&(new Date).getTime()-o>=n)return r&&clearTimeout(r),e.apply(i,a),o=null,!1;r&&clearTimeout(r),r=setTimeout((function(){r=null,e.apply(i,a),o=null}),t)}}var B=function(){function e(t){var n;i(this,e),s(p(n=v(this,m(e).call(this,t))),"_onGridRenderedMemoizer",O()),s(p(n),"_onScrollMemoizer",O(!1)),s(p(n),"_deferredInvalidateColumnIndex",null),s(p(n),"_deferredInvalidateRowIndex",null),s(p(n),"_recomputeScrollLeftFlag",!1),s(p(n),"_recomputeScrollTopFlag",!1),s(p(n),"_horizontalScrollBarSize",0),s(p(n),"_verticalScrollBarSize",0),s(p(n),"_scrollbarPresenceChanged",!1),s(p(n),"_scrollingContainer",void 0),s(p(n),"_childrenToDisplay",void 0),s(p(n),"_columnStartIndex",void 0),s(p(n),"_columnStopIndex",void 0),s(p(n),"_rowStartIndex",void 0),s(p(n),"_rowStopIndex",void 0),s(p(n),"_renderedColumnStartIndex",0),s(p(n),"_renderedColumnStopIndex",0),s(p(n),"_renderedRowStartIndex",0),s(p(n),"_renderedRowStopIndex",0),s(p(n),"_initialScrollTop",void 0),s(p(n),"_initialScrollLeft",void 0),s(p(n),"_disablePointerEventsTimeoutId",void 0),s(p(n),"_styleCache",{}),s(p(n),"_cellCache",{}),s(p(n),"_pullRefreshAnimationId",0),s(p(n),"_canPullRefresh",!0),s(p(n),"_listMaxHeight",0),s(p(n),"_listHeight",0),s(p(n),"_loadMoreAnimationId",0),s(p(n),"_couldLoadMore",!0),s(p(n),"_initLoadMoreMax",10),s(p(n),"_initLoadMoreNums",0),s(p(n),"_noMoreIsShow",!1),s(p(n),"_mouseWheelSum",0),s(p(n),"_isPullRefreshing",!1),s(p(n),"_pullRefreshTimer",null),s(p(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),s(p(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),s(p(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),s(p(n),"_onScroll",(function(e){n.props.onLoadMore&&"default"==n.state.loadMoreState&&n.props.data.length<n.props.total&&n._handleListPreLoad(e),e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)})),s(p(n),"_onWheel",(function(e){if(n.props.onPullRefresh){if(n.state.scrollTop<=0&&!n._isPullRefreshing)return n.setCanPullRefres(!0),n._canPullRefresh&&n._handleListTopWheel(e),!1;n._canPullRefresh=!1}n.props.onLoadMore&&(n.props.data.length<n.props.total?n._handleListPreLoad(e):n._handleListBottomWheelNoAnimation(e))})),s(p(n),"_handleListTopWheel",(function(e){var t=n.props.pullRefreshLoadingHeight;n._debouncePullRefreshEnd(e),n._mouseWheelSum+=e.deltaY||0;var r=-n._mouseWheelSum/1.2;if(r=t<r?t:r>n.state.extraTopDeltaY?r:n.state.extraTopDeltaY,n.setState({extraTopDeltaY:r,isScrolling:!0,scrollPositionChangeReason:"observed"}),t<=r&&"default"==n.state.pullRefreshState&&!n._isPullRefreshing){n._isPullRefreshing=!0,n._pullRefreshTimer=setTimeout((function(){n._isPullRefreshing=!1,n._pullRefreshTimer=null}),2e4),n.setState({pullRefreshState:"loading"});var o=n.props.onPullRefresh();null!=o.then?o.then((function(e){n._pullRefreshEnd("success")})).catch((function(){n._pullRefreshEnd("failed")})).finally((function(){setTimeout((function(){n._isPullRefreshing=!1,n._pullRefreshTimer&&(clearTimeout(n._pullRefreshTimer),n._pullRefreshTimer=null)}),1e3)})):(n._isPullRefreshing=!1,n._pullRefreshTimer&&(clearTimeout(n._pullRefreshTimer),n._pullRefreshTimer=null),console.error("List pullRefreshState() should return Promise!"))}})),s(p(n),"_handleListPreLoad",(function(e){var t=n.props.loadMoreLoadingHeight,r=n.props.height||0,o=n._listMaxHeight-r,i=n.props.threshold;return!!(n.state.scrollTop>=o-i&&n._listMaxHeight>=r&&n.props.data.length<n.props.total&&n._couldLoadMore&&"default"==n.state.loadMoreState)&&(n.setState({loadMoreState:"loading",extraBottomDeltaY:-t}),n._loadMore(),!0)})),s(p(n),"_handleListBottomWheel",(function(e){var t=n.props.loadMoreLoadingHeight,r=n.props.height||0,o=n._listMaxHeight-r;if(n.state.scrollTop>=o&&n._listMaxHeight>=r){n._debounceLoadMoreEnd(e);var i=e.deltaY||0;if(i<=0)return;var a=-i/.5;a=a<-t?-t:a<n.state.extraBottomDeltaY?a:n.state.extraBottomDeltaY,n.setState({extraBottomDeltaY:a,isScrolling:!0,scrollPositionChangeReason:"observed"})}})),s(p(n),"_handleListBottomWheelNoAnimation",(function(e){var t=n.props.loadMoreLoadingHeight,r=n.props.height||0,o=n._listMaxHeight-r;n.state.scrollTop>=o&&n._listMaxHeight>=r&&!n._noMoreIsShow&&(n._noMoreIsShow=!0,n.setState({extraBottomDeltaY:-t,isScrolling:!0,scrollPositionChangeReason:"observed"}))})),s(p(n),"setCanPullRefres",U((function(e){n.state.scrollTop<=0&&(n._canPullRefresh=e)}),300,1e3)),s(p(n),"_retryLoadMore",(function(){n.setState({loadMoreState:"loading"}),n._loadMore()})),s(p(n),"_initLoadMore",(function(){var e=g(n._getLoadMoreParams(),2),t=e[0],r=e[1],o=n.props.onLoadMore(t,r);return o&&null!=o.then?o.then((function(){n._loadMoreSuccess(!1),setTimeout((function(){var e=n.state,t=e.instanceProps,r=(e.needToResetStyleCache,t.rowSizeAndPositionManager.getTotalSize());n.props.data.length<n.props.total&&n.props.height>=r&&n._initLoadMoreNums<n._initLoadMoreMax?(n._initLoadMoreNums++,n._initLoadMore()):n._initLoadMoreNums=0}),0)})).catch((function(){n._loadMoreFail()})):(console.error("loadMore() must be Promise"),Promise.reject())})),s(p(n),"_loadMore",(function(){var e=g(n._getLoadMoreParams(),2),t=e[0],r=e[1],o=n.props.onLoadMore(t,r);return o&&null!=o.then?o.then((function(){n._loadMoreSuccess()})).catch((function(){n._loadMoreFail()})):(console.error("loadMore() must be Promise"),Promise.reject())})),s(p(n),"_debouncePullRefreshEnd",U((function(e){n._mouseWheelSum=0;var t=n.props.scrollingResetTimeInterval;n._pullRefreshAnimationId&&H(n._pullRefreshAnimationId),"loading"!=n.state.pullRefreshState&&(n._pullRefreshAnimationId=G((function(){n._pullRefreshAnimation()}),t))}),300)),s(p(n),"_debounceLoadMoreEnd",U((function(e){var t=n.props.scrollingResetTimeInterval;n._loadMoreAnimationId&&H(n._loadMoreAnimationId),"loading"!=n.state.loadMoreState&&"failed"!=n.state.loadMoreState&&(n._loadMoreAnimationId=G((function(){n._loadMoreAnimation()}),t))}),300)),s(p(n),"_animationCallback",(function(e,t,r,o){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){},a=(new Date).getTime();i(requestAnimationFrame((function l(){var c=(new Date).getTime()-a,s=Math.floor(n.easeInOut(c,r,o,t));!isNaN(s)&&e&&e(s),c<t?i(requestAnimationFrame(l)):e(r+o,!0)})))})),s(p(n),"easeInOut",(function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t})),s(p(n),"_pullRefreshEnd",(function(e){"success"===e&&"failed"===n.state.loadMoreState&&(n.setState({loadMoreState:"default",extraBottomDeltaY:0,isScrolling:!0,scrollPositionChangeReason:"observed"}),setTimeout((function(){n.setState({isScrolling:!1,scrollPositionChangeReason:"observed"})}),10)),n.setState({pullRefreshState:e}),setTimeout((function(){n._pullRefreshAnimation(),setTimeout((function(){n.setState({pullRefreshState:"default"})}),1e3)}),200)})),s(p(n),"_loadMoreSuccess",(function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];setTimeout((function(){n._couldLoadMore=!0}),1500),n.setState({loadMoreState:"default"}),e&&n._loadMoreAnimationClose()})),s(p(n),"_loadMoreFail",(function(e){n._couldLoadMore=!1,n.setState({loadMoreState:"failed",isScrolling:!1})})),s(p(n),"_pullRefreshAnimation",(function(){n._pullRefreshAnimationId&&H(n._pullRefreshAnimationId);var e=Math.abs(n.state.extraTopDeltaY)/n.props.pullRefreshLoadingHeight*200;n._animationCallback((function(e,t){isNaN(e)||t||n.setState({extraTopDeltaY:e,isScrolling:!0,scrollPositionChangeReason:"observed"}),t&&n.setState({extraTopDeltaY:0,isScrolling:!1,scrollPositionChangeReason:"observed"})}),e,n.state.extraTopDeltaY,-n.state.extraTopDeltaY,(function(e){n._pullRefreshAnimationId=e}))})),s(p(n),"_loadMoreAnimation",(function(){n._loadMoreAnimationsId&&H(n._loadMoreAnimationId);var e=Math.abs(n.state.extraBottomDeltaY)/n.props.pullRefreshLoadingHeight*200;n._animationCallback((function(e,t){isNaN(e)||n.setState({extraBottomDeltaY:e,isScrolling:!t,scrollPositionChangeReason:"observed"})}),e,n.state.extraBottomDeltaY,-n.state.extraBottomDeltaY,(function(e){n._loadMoreAnimationId=e}))})),s(p(n),"_loadMoreAnimationClose",(function(){n.setState({scrollTop:n.state.scrollTop+n.props.loadMoreLoadingHeight,extraBottomDeltaY:0,isScrolling:!1,scrollPositionChangeReason:"observed"})})),s(p(n),"_getLoadMoreParams",(function(){return n.props.total,[n.props.data.length,n.props.batchSize]}));var r=new T({cellCount:t.columnCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.columnWidth)(n)},estimatedCellSize:e._getEstimatedColumnSize(t)}),o=new T({cellCount:t.rowCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.rowHeight)(n)},estimatedCellSize:e._getEstimatedRowSize(t)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1,extraTopDeltaY:0,extraBottomDeltaY:0,pullRefreshState:"default",loadMoreState:"default"},0<t.scrollToRow&&(n._initialScrollTop=n._getCalculatedScrollTop(t,n.state)),0<t.scrollToColumn&&(n._initialScrollLeft=n._getCalculatedScrollLeft(t,n.state)),n}return h(e,t.PureComponent),l(e,[{key:"getOffsetForCell",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.alignment,r=void 0===n?this.props.scrollToAlignment:n,o=t.columnIndex,i=void 0===o?this.props.scrollToColumn:o,a=t.rowIndex,l=void 0===a?this.props.scrollToRow:a,c=f({},this.props,{scrollToAlignment:r,scrollToColumn:i,scrollToRow:l});return{scrollLeft:this._getCalculatedScrollLeft(c),scrollTop:this._getCalculatedScrollTop(c)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,l=i.autoWidth,c=i.height,s=i.width,u=this.state.instanceProps,d=u.scrollbarSize,f=u.rowSizeAndPositionManager.getTotalSize(),h=u.columnSizeAndPositionManager.getTotalSize(),m=Math.min(Math.max(0,h-s+d),n),p=Math.min(Math.max(0,f-c+d),o);if(this.state.scrollLeft!==m||this.state.scrollTop!==p){var v={isScrolling:!0,scrollDirectionHorizontal:m!==this.state.scrollLeft?m>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:p!==this.state.scrollTop?p>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};a||(v.scrollTop=p),l||(v.scrollLeft=m),v.needToResetStyleCache=!1,this.setState(v)}this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:p,totalColumnsWidth:h,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.columnIndex,r=void 0===n?0:n,o=t.rowIndex,i=void 0===o?0:o,a=this.props,l=a.scrollToColumn,c=a.scrollToRow,s=this.state.instanceProps;s.columnSizeAndPositionManager.resetCell(r),s.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=0<=l&&(1===this.state.scrollDirectionHorizontal?r<=l:l<=r),this._recomputeScrollTopFlag=0<=c&&(1===this.state.scrollDirectionVertical?i<=c:c<=i),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;1<r&&void 0!==t&&this._updateScrollLeftForScrollToColumn(f({},o,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(f({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var t=this.props,n=t.getScrollbarSize,r=t.height,o=t.scrollLeft,i=t.scrollToColumn,a=t.scrollTop,l=t.scrollToRow,c=t.width,s=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),s.scrollbarSizeMeasured||this.setState((function(e){var t=f({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&0<=o||"number"==typeof a&&0<=a){var u=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=0<r&&0<c;0<=i&&d&&this._updateScrollLeftForScrollToColumn(),0<=l&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:s.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:s.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange(),this.props.initLoadMore&&this.props.onLoadMore&&(this.setState({loadMoreState:"loading"}),this._initLoadMore())}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,l=r.height,c=r.rowCount,s=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,f=r.width,h=this.state,m=h.scrollLeft,p=h.scrollPositionChangeReason,v=h.scrollTop,g=h.instanceProps;this._handleInvalidatedGridSize();var y=0<a&&0===e.columnCount||0<c&&0===e.rowCount;"requested"===p&&(!i&&0<=m&&(m!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=m),!o&&0<=v&&(v!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=v));var S=(0===e.width||0===e.height)&&0<l&&0<f;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):R({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:m,scrollToAlignment:s,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):R({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:v,scrollToAlignment:s,scrollToIndex:d,size:l,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),m!==t.scrollLeft||v!==t.scrollTop){var b=g.rowSizeAndPositionManager.getTotalSize(),w=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:v,totalColumnsWidth:w,totalRowsHeight:b})}this._maybeCallOnScrollbarPresenceChange(),this._noMoreIsShow&&this.props.data.length<this.props.total&&(this._noMoreIsShow=!1,this.setState({extraBottomDeltaY:0}))}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&H(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,n=e.autoContainerWidth,r=e.autoHeight,o=e.autoWidth,i=e.className,a=e.containerProps,l=e.containerRole,c=e.containerStyle,s=e.height,d=e.id,h=e.noContentRenderer,m=e.role,p=e.style,v=e.tabIndex,g=e.width,y=this.state,S=y.instanceProps,b=y.needToResetStyleCache,w=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:r?"auto":s,position:"relative",width:o?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var E=S.columnSizeAndPositionManager.getTotalSize(),x=S.rowSizeAndPositionManager.getTotalSize();this._listMaxHeight=x;var I=(this._listHeight=s)<x?S.scrollbarSize:0,T=g<E?S.scrollbarSize:0;T===this._horizontalScrollBarSize&&I===this._verticalScrollBarSize||(this._horizontalScrollBarSize=T,this._verticalScrollBarSize=I,this._scrollbarPresenceChanged=!0),_.overflowX=E+I<=g?"hidden":"auto",_.overflowY=x+T<=s?"hidden":"auto";var O=this._childrenToDisplay,R=0===O.length&&0<s&&0<g,M=x-this.state.extraBottomDeltaY+this.state.extraTopDeltaY,k=this.props.data.length>=this.props.total,A=!k&&"failed"!=this.state.loadMoreState,z=!k&&"failed"==this.state.loadMoreState,P="failed"==this.state.loadMoreState,N="loading"==this.state.loadMoreState,L="default"==this.state.loadMoreState,j=this.props.initLoadMore&&0==this.props.data.length;return t.createElement("div",u({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:C("ReactVirtualized__Grid",i),id:d,onScroll:this._onScroll,onWheel:this._onWheel,role:m,style:f({},_,{},p),tabIndex:v}),j&&t.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}},P&&this.props.initLoadLoadingFailRender(this._retryLoadMore),N&&this.props.loadMoreLoadingRender()),0<O.length&&t.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:f({width:n?"auto":E,height:M,maxWidth:E,maxHeight:M,overflow:"hidden",pointerEvents:w?"none":"",position:"relative"},c)},t.createElement("div",{className:"pull-refresh-warp",style:{overflow:"hidden",position:"absolute",top:"0",left:"0",width:"100%",height:"".concat(this.state.extraTopDeltaY,"px"),display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement("div",{style:{minHeight:"".concat(this.props.pullRefreshLoadingHeight,"px"),position:"absolute",bottom:0,left:0,width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},this.props.pullRefreshRender(this.state.pullRefreshState))),O,t.createElement("div",{className:"load-more-warp",style:{overflow:"hidden",position:"absolute",top:"".concat(x+this.state.extraTopDeltaY,"px"),left:"0",width:"100%",height:"".concat(Math.abs(this.state.extraBottomDeltaY),"px"),display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement("div",{style:{minHeight:"".concat(this.props.loadMoreLoadingHeight,"px"),position:"absolute",top:0,left:0,width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},A?this.props.loadMoreLoadingRender():t.createElement(t.Fragment,null),z?this.props.loadMoreLoadingFailRender(this._retryLoadMore):t.createElement(t.Fragment,null),k&&this.props.noMoreRender?this.props.noMoreRender():t.createElement(t.Fragment,null)))),L&&R&&h())}},{key:"_calculateChildrenToRender",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:this.props,r=1<arguments.length&&void 0!==t?t:this.state,o=n.cellRenderer,i=n.cellRangeRenderer,a=n.columnCount,l=n.deferredMeasurementCache,c=n.height,s=n.overscanColumnCount,u=n.overscanIndicesGetter,d=n.overscanRowCount,f=n.rowCount,h=n.width,m=n.isScrollingOptOut,p=r.scrollDirectionHorizontal,v=r.scrollDirectionVertical,g=r.instanceProps,y=0<this._initialScrollTop?this._initialScrollTop:r.scrollTop,S=0<this._initialScrollLeft?this._initialScrollLeft:r.scrollLeft,b=this._isScrolling(n,r);if(this._childrenToDisplay=[],0<c&&0<h){var w=g.columnSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:S}),_=g.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:y-this.state.extraTopDeltaY}),E=g.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:h,offset:S}),C=g.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:y});C+=0<r.extraTopDeltaY?r.extraTopDeltaY:0,this._renderedColumnStartIndex=w.start,this._renderedColumnStopIndex=w.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var x=u({direction:"horizontal",cellCount:a,overscanCellsCount:s,scrollDirection:p,startIndex:"number"==typeof w.start?w.start:0,stopIndex:"number"==typeof w.stop?w.stop:-1}),I=u({direction:"vertical",cellCount:f,overscanCellsCount:d,scrollDirection:v,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),T=x.overscanStartIndex,O=x.overscanStopIndex,R=I.overscanStartIndex,M=I.overscanStopIndex;if(l){if(!l.hasFixedHeight())for(var k=R;k<=M;k++)if(!l.has(k,0)){T=0,O=a-1;break}if(!l.hasFixedWidth())for(var A=T;A<=O;A++)if(!l.has(0,A)){R=0,M=f-1;break}}this._childrenToDisplay=i({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:g.columnSizeAndPositionManager,columnStartIndex:T,columnStopIndex:O,deferredMeasurementCache:l,horizontalOffsetAdjustment:E,isScrolling:b,isScrollingOptOut:m,parent:this,rowSizeAndPositionManager:g.rowSizeAndPositionManager,rowStartIndex:R,rowStopIndex:M,scrollLeft:S,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:C,visibleColumnIndices:w,visibleRowIndices:_}),this._columnStartIndex=T,this._columnStopIndex=O,this._rowStartIndex=R,this._rowStopIndex=M}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&H(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=G(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:this.props,r=1<arguments.length&&void 0!==t?t:this.state;return Object.hasOwnProperty.call(n,"isScrolling")?Boolean(n.isScrolling):Boolean(r.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:0<this._horizontalScrollBarSize,size:this.state.instanceProps.scrollbarSize,vertical:0<this._verticalScrollBarSize})}}},{key:"scrollToPosition",value:function(t){var n=t.scrollLeft,r=t.scrollTop,o=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(t,n){var r=0<arguments.length&&void 0!==t?t:this.props,o=1<arguments.length&&void 0!==n?n:this.state;return e._getCalculatedScrollLeft(r,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(t,n){var r=0<arguments.length&&void 0!==t?t:this.props,o=1<arguments.length&&void 0!==n?n:this.state,i=e._getScrollLeftForScrollToColumnStateUpdate(r,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollTop",value:function(t,n){var r=0<arguments.length&&void 0!==t?t:this.props,o=1<arguments.length&&void 0!==n?n:this.state;return e._getCalculatedScrollTop(r,o)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(t,n){var r=0<arguments.length&&void 0!==t?t:this.props,o=1<arguments.length&&void 0!==n?n:this.state,i=e._getScrollTopForScrollToRowStateUpdate(r,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r={};0===t.columnCount&&0!==n.scrollLeft||0===t.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(t.scrollLeft!==n.scrollLeft&&t.scrollToColumn<0||t.scrollTop!==n.scrollTop&&t.scrollToRow<0)&&Object.assign(r,e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,t.columnWidth===a.prevColumnWidth&&t.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:e._getEstimatedColumnSize(t),cellSizeGetter:e._wrapSizeGetter(t.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:e._getEstimatedRowSize(t),cellSizeGetter:e._wrapSizeGetter(t.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),x({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"==typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=e._getScrollLeftForScrollToColumnStateUpdate(t,n)}}),x({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"==typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=e._getScrollTopForScrollToRowStateUpdate(t,n)}}),a.prevColumnCount=t.columnCount,a.prevColumnWidth=t.columnWidth,a.prevIsScrolling=!0===t.isScrolling,a.prevRowCount=t.rowCount,a.prevRowHeight=t.rowHeight,a.prevScrollToColumn=t.scrollToColumn,a.prevScrollToRow=t.scrollToRow,a.scrollbarSize=t.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,f({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:"requested"};return"number"==typeof n&&0<=n&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&0<=r&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&0<=n&&n!==t.scrollLeft||"number"==typeof r&&0<=r&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,l=t.scrollLeft,c=t.instanceProps;if(0<n){var s=n-1,u=i<0?s:Math.min(s,i),d=c.rowSizeAndPositionManager.getTotalSize(),f=c.scrollbarSizeMeasured&&r<d?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(t,n){var r=n.scrollLeft,o=e._getCalculatedScrollLeft(t,n);return"number"==typeof o&&0<=o&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,l=t.scrollTop,c=t.instanceProps;if(0<r){var s=r-1,u=i<0?s:Math.min(s,i),d=c.columnSizeAndPositionManager.getTotalSize(),f=c.scrollbarSizeMeasured&&a<d?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(t,n){var r=n.scrollTop,o=e._getCalculatedScrollTop(t,n);return"number"==typeof o&&0<=o&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),e}();s(B,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,a=e.columnStopIndex,l=e.deferredMeasurementCache,c=e.horizontalOffsetAdjustment,s=e.isScrolling,u=e.isScrollingOptOut,d=e.parent,f=e.rowSizeAndPositionManager,h=e.rowStartIndex,m=e.rowStopIndex,p=e.styleCache,v=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,y=e.visibleRowIndices,S=[],b=r.areOffsetsAdjusted()||f.areOffsetsAdjusted(),w=!s&&!b,_=h;_<=m;_++)for(var E=f.getSizeAndPositionOfCell(_),C=i;C<=a;C++){var x=r.getSizeAndPositionOfCell(C),I=C>=g.start&&C<=g.stop&&_>=y.start&&_<=y.stop,T="".concat(_,"-").concat(C),O=void 0;w&&p[T]?O=p[T]:l&&!l.has(_,C)?O={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(O={height:E.size,left:x.offset+c,position:"absolute",top:E.offset+v,width:x.size},p[T]=O);var R={columnIndex:C,isScrolling:s,isVisible:I,key:T,parent:d,rowIndex:_,style:O},k=void 0;null!=(k=!u&&!s||c||v?n(R):(t[T]||(t[T]=n(R)),t[T]))&&!1!==k&&(M(d,k),k.props.role||(k=o.cloneElement(k,{role:"gridcell"})),S.push(k))}return S},containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:function(e){if((!k&&0!==k||e)&&z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),k=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return k},noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1,threshold:300,initLoadMore:!1,batchSize:20,pullRefreshRender:function(e){return t.createElement("div",{style:{fontSize:"12px",color:"#bbbbbb",width:"100%",textAlign:"center"}},"default"==e?"下拉刷新":"loading"==e?"刷新中":"success"==e?"刷新成功":"failed"==e?"刷新失败":"")},loadMoreLoadingRender:function(){return t.createElement("div",{style:{fontSize:"12px",color:"#bbbbbb",width:"100%",textAlign:"center"}},"加载中...")},loadMoreLoadingFailRender:function(e){return t.createElement("div",{style:{fontSize:"12px",color:"#bbbbbb",width:"100%",textAlign:"center"}},"加载失败，请",t.createElement("span",{onClick:e,style:{color:"#1890ff",marginLeft:"2px",cursor:"pointer"}},"重试"))},initLoadLoadingFailRender:function(e){return t.createElement("div",{style:{fontSize:"12px",color:"#bbbbbb",width:"100%",textAlign:"center"}},"加载失败，请",t.createElement("span",{onClick:e,style:{color:"#1890ff",marginLeft:"2px",cursor:"pointer"}},"重试"))},noMoreRender:function(){return t.createElement("div",{style:{fontSize:"12px",color:"#bbbbbb",width:"100%",textAlign:"center"}},"到底了")},pullRefreshLoadingHeight:60,loadMoreLoadingHeight:60}),function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"==typeof e.getDerivedStateFromProps||"function"==typeof t.getSnapshotBeforeUpdate){var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=P,t.componentWillReceiveProps=N),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=L;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}}}(B);var V=function(){function e(){var t,n;i(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return s(p(n=v(this,(t=m(e)).call.apply(t,[this].concat(o)))),"Grid",void 0),s(p(n),"_cellRenderer",(function(e){var t=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,l=e.key,c=n.props.rowRenderer,s=Object.getOwnPropertyDescriptor(o,"width");return s&&s.writable&&(o.width="100%"),c({index:r,style:o,isScrolling:i,isVisible:a,key:l,parent:t})})),s(p(n),"_setRef",(function(e){n.Grid=e})),s(p(n),"_onScroll",(function(e){var t=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:o})})),s(p(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:i})})),n}return h(e,t.PureComponent),l(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.columnIndex,r=void 0===n?0:n,o=t.rowIndex,i=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:r})}},{key:"recomputeRowHeights",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.noRowsRenderer,o=e.scrollToIndex,i=e.width,a=e.data,l=void 0===a?[]:a,c=C("ReactVirtualized__List",n);return t.createElement(B,u({},this.props,{rowCount:l.length,autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:c,columnWidth:i,columnCount:1,noContentRenderer:r,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o,onPullRefresh:this.props.onPullRefresh}))}}]),e}();function q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K(e,t){return e(t={exports:{}},t.exports),t.exports}s(V,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Y=K((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==c(e)&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case f:case i:case l:case a:case m:return e;default:switch(e=e&&e.$$typeof){case u:case h:case s:return e;default:return t}}case g:case v:case o:return t}}}function _(e){return w(e)===f}t.typeOf=w,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=l,t.StrictMode=a,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===l||e===a||e===m||e===p||"object"==c(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===s||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===S||e.$$typeof===b)},t.isAsyncMode=function(e){return _(e)||w(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==c(e)&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===m}}));q(Y),Y.typeOf,Y.AsyncMode,Y.ConcurrentMode,Y.ContextConsumer,Y.ContextProvider,Y.Element,Y.ForwardRef,Y.Fragment,Y.Lazy,Y.Memo,Y.Portal,Y.Profiler,Y.StrictMode,Y.Suspense,Y.isValidElementType,Y.isAsyncMode,Y.isConcurrentMode,Y.isContextConsumer,Y.isContextProvider,Y.isElement,Y.isForwardRef,Y.isFragment,Y.isLazy,Y.isMemo,Y.isPortal,Y.isProfiler,Y.isStrictMode,Y.isSuspense;var $=K((function(e,t){!function(){Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function b(e){if("object"==c(e)&&null!==e){var t=e.$$typeof;switch(t){case n:var m=e.type;switch(m){case u:case d:case o:case a:case i:case h:return m;default:var g=m&&m.$$typeof;switch(g){case s:case f:case l:return g;default:return t}}case v:case p:case r:return t}}}var w=u,_=d,E=s,C=l,x=n,I=f,T=o,O=v,R=p,M=r,k=a,A=i,z=h,P=!1;function N(e){return b(e)===d}t.typeOf=b,t.AsyncMode=w,t.ConcurrentMode=_,t.ContextConsumer=E,t.ContextProvider=C,t.Element=x,t.ForwardRef=I,t.Fragment=T,t.Lazy=O,t.Memo=R,t.Portal=M,t.Profiler=k,t.StrictMode=A,t.Suspense=z,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===i||e===h||e===m||"object"==c(e)&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===l||e.$$typeof===s||e.$$typeof===f||e.$$typeof===g||e.$$typeof===y||e.$$typeof===S)},t.isAsyncMode=function(e){return P||function(e,t){if(void 0===t)throw new Error("`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(a){}}).apply(void 0,[t].concat(r))}}(!(P=!0),"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."),N(e)||b(e)===u},t.isConcurrentMode=N,t.isContextConsumer=function(e){return b(e)===s},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==c(e)&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===a},t.isStrictMode=function(e){return b(e)===i},t.isSuspense=function(e){return b(e)===h}}()}));q($),$.typeOf,$.AsyncMode,$.ConcurrentMode,$.ContextConsumer,$.ContextProvider,$.Element,$.ForwardRef,$.Fragment,$.Lazy,$.Memo,$.Portal,$.Profiler,$.StrictMode,$.Suspense,$.isValidElementType,$.isAsyncMode,$.isConcurrentMode,$.isContextConsumer,$.isContextProvider,$.isElement,$.isForwardRef,$.isFragment,$.isLazy,$.isMemo,$.isPortal,$.isProfiler,$.isStrictMode,$.isSuspense;var J,X=K((function(e){e.exports=$})),Z=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))Q.call(n,a)&&(o[a]=n[a]);if(Z){r=Z(n);for(var l=0;l<r.length;l++)ee.call(n,r[l])&&(o[r[l]]=n[r[l]])}}return o},ne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",re={},oe=Function.call.bind(Object.prototype.hasOwnProperty);function ie(e,t,n,r,o){for(var i in e)if(oe(e,i)){var a;try{if("function"!=typeof e[i]){var l=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+c(e[i])+"`.");throw l.name="Invariant Violation",l}a=e[i](t,i,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(u){a=u}if(!a||a instanceof Error||J((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+c(a)+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in re)){re[a.message]=!0;var s=o?o():"";J("Failed "+n+" type: "+a.message+(null!=s?s:""))}}}J=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},ie.resetWarningCache=function(){re={}};var ae,le=ie,ce=Function.call.bind(Object.prototype.hasOwnProperty);function se(){return null}ae=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(n){}};var ue=K((function(e){var t=X;e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:a(se),arrayOf:function(e){return a((function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var l=t[n];if(!Array.isArray(l))return new i("Invalid "+o+" `"+a+"` of type `"+u(l)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<l.length;c++){var s=e(l,c,r,o,a+"["+c+"]",ne);if(s instanceof Error)return s}return null}))},element:a((function(t,n,r,o,a){var l=t[n];return e(l)?null:new i("Invalid "+o+" `"+a+"` of type `"+u(l)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:a((function(e,t,n,r,o){var a=e[t];return X.isValidElementType(a)?null:new i("Invalid "+r+" `"+o+"` of type `"+u(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return a((function(t,n,r,o,a){if(t[n]instanceof e)return null;var l,c=e.name||"<<anonymous>>";return new i("Invalid "+o+" `"+a+"` of type `"+((l=t[n]).constructor&&l.constructor.name?l.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+c+"`.")}))},node:a((function(e,t,n,r,o){return s(e[t])?null:new i("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return a((function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var l=t[n],c=u(l);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var s in l)if(ce(l,s)){var d=e(l,s,r,o,a+"."+s,ne);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?a((function(t,n,r,a,l){for(var c=t[n],s=0;s<e.length;s++)if(o(c,e[s]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===d(t)?String(t):t}));return new i("Invalid "+a+" `"+l+"` of value `"+String(c)+"` supplied to `"+r+"`, expected one of "+u+".")})):(ae(1<arguments.length?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),se)},oneOfType:function(e){if(!Array.isArray(e))return ae("Invalid argument supplied to oneOfType, expected an instance of array."),se;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return ae("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+f(n)+" at index "+t+"."),se}return a((function(t,n,r,o,a){for(var l=0;l<e.length;l++)if(null==(0,e[l])(t,n,r,o,a,ne))return null;return new i("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return a((function(t,n,r,o,a){var l=t[n],c=u(l);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var s in e){var d=e[s];if(d){var f=d(l,s,r,o,a+"."+s,ne);if(f)return f}}return null}))},exact:function(e){return a((function(t,n,r,o,a){var l=t[n],c=u(l);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var s=te({},t[n],e);for(var d in s){var f=e[d];if(!f)return new i("Invalid "+o+" `"+a+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(l,d,r,o,a+"."+d,ne);if(h)return h}return null}))}};function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function i(e){this.message=e,this.stack=""}function a(e){var n={},r=0;function o(o,a,l,c,s,u,d){if(c=c||"<<anonymous>>",u=u||l,d!==ne){if(t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}if("undefined"!=typeof console){var h=c+":"+l;!n[h]&&r<3&&(ae("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[h]=!0,r++)}}return null==a[l]?o?null===a[l]?new i("The "+s+" `"+u+"` is marked as required in `"+c+"`, but its value is `null`."):new i("The "+s+" `"+u+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,l,c,s,u)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function l(e){return a((function(t,n,r,o,a,l){var c=t[n];return u(c)===e?null:new i("Invalid "+o+" `"+a+"` of type `"+d(c)+"` supplied to `"+r+"`, expected `"+e+"`.")}))}function s(t){switch(c(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(s);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!s(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!s(a[1]))return!1}return!0;default:return!1}}function u(e){var t=c(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function d(e){if(null==e)return""+e;var t=u(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function f(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,r.checkPropTypes=le,r.resetWarningCache=le.resetWarningCache,r.PropTypes=r}(t.isElement,!0)})),de=function(){function e(t,n){var r;return i(this,e),(r=v(this,m(e).call(this,t,n))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(p(r)),r}return h(e,t.PureComponent),l(e,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,o=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,l=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:l})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),e}();s(de,"propTypes",{children:ue.func.isRequired});var fe=[],he=null,me=null;function pe(){me&&(me=null,document.body&&null!=he&&(document.body.style.pointerEvents=he),he=null)}function ve(){pe(),fe.forEach((function(e){return e.__resetIsScrolling()}))}function ge(e){e.currentTarget===window&&null==he&&document.body&&(he=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){me&&H(me);var e=0;fe.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),me=G(ve,e)}(),fe.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function ye(e,t){fe.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",ge),fe.push(e)}function Se(e,t){(fe=fe.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",ge),me&&(H(me),pe()))}var be=function(e){return e===window},we=function(e){return e.getBoundingClientRect()};function _e(e,t){if(e){if(be(e)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return we(e)}return{height:t.serverHeight,width:t.serverWidth}}function Ee(e){return be(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var Ce=function(){return"undefined"!=typeof window?window:void 0},xe=function(){function e(){var t,n;i(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return s(p(n=v(this,(t=m(e)).call.apply(t,[this].concat(o)))),"_window",Ce()),s(p(n),"_isMounted",!1),s(p(n),"_positionFromTop",0),s(p(n),"_positionFromLeft",0),s(p(n),"_detectElementResize",void 0),s(p(n),"_child",void 0),s(p(n),"state",f({},_e(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),s(p(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()})),s(p(n),"_onChildScroll",(function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var r=n.props.scrollElement;r&&("function"==typeof r.scrollTo?r.scrollTo(0,t+n._positionFromTop):r.scrollTop=t+n._positionFromTop)}})),s(p(n),"_registerResizeListener",(function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)})),s(p(n),"_unregisterResizeListener",(function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)})),s(p(n),"_onResize",(function(){n.updatePosition()})),s(p(n),"__handleWindowScrollEvent",(function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var r=Ee(t),o=Math.max(0,r.left-n._positionFromLeft),i=Math.max(0,r.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),e({scrollLeft:o,scrollTop:i})}}})),s(p(n),"__resetIsScrolling",(function(){n.setState({isScrolling:!1})})),n}return h(e,t.PureComponent),l(e,[{key:"updatePosition",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.scrollElement,r=this.props.onResize,o=this.state,i=o.height,a=o.width,l=this._child||n.findDOMNode(this);if(l instanceof Element&&t){var c=function(e,t){if(be(t)&&document.documentElement){var n=document.documentElement,r=we(e),o=we(n);return{top:r.top-o.top,left:r.left-o.left}}var i=Ee(t),a=we(e),l=we(t);return{top:a.top+i.top-l.top,left:a.left+i.left-l.left}}(l,t);this._positionFromTop=c.top,this._positionFromLeft=c.left}var s=_e(t,this.props);i===s.height&&a===s.width||(this.setState({height:s.height,width:s.width}),r({height:s.height,width:s.width})),!0===this.props.updateScrollTopOnUpdatePosition&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=y(),this.updatePosition(e),e&&(ye(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollElement,n=e.scrollElement;n!==t&&null!=n&&null!=t&&(this.updatePosition(t),Se(this,n),ye(this,t),this._unregisterResizeListener(n),this._registerResizeListener(t))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(Se(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,o=t.scrollLeft,i=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:o,scrollTop:r,width:a})}}]),e}();s(xe,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Ce(),serverHeight:0,serverWidth:0}),e.AutoSizer=S,e.CellMeasurer=b,e.CellMeasurerCache=w,e.List=V,e.ScrollSync=de,e.WindowScroller=xe,Object.defineProperty(e,"__esModule",{value:!0})},"object"==c(t)&&void 0!==e?l(t,n("ERkP"),n("7nmT")):(i=[t,n("ERkP"),n("7nmT")],void 0===(a="function"==typeof(o=l)?o.apply(t,i):o)||(e.exports=a))}).call(this,n("fRV1"))},UZRo:function(e,t,n){"use strict";var r=n("zT+L"),o=n("jbjd"),i=n("cmVu"),a=i(),l=function(e,t){return a.apply(e,[t])};r(l,{getPolyfill:i,implementation:o,shim:n("kI3F")}),e.exports=l},"V+Bs":function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n("48gJ");e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},W5cf:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l}));var r=n("ERkP"),o=n.n(r),i=function(e){var t=e.strokeColor,n=void 0===t?"#AA90F4":t,r=e.className;return o.a.createElement("svg",{width:"12",height:"14",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r},o.a.createElement("path",{d:"M11 11.727C11 12.3165 10.3842 12.7036 9.85302 12.4479L6.34698 10.7602C6.1277 10.6547 5.8723 10.6547 5.65302 10.7602L2.14699 12.4479C1.61585 12.7036 1 12.3165 1 11.7271L1 1.8C1 1.35817 1.35817 1 1.8 1L10.2 0.999999C10.6418 0.999999 11 1.35817 11 1.8L11 11.727Z",stroke:n,strokeWidth:"1.2"}))},a=function(){return o.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M11.4813 5.06895H6.51586V0.517326C6.51586 0.232586 6.2833 0 5.99859 0C5.71388 0 5.48132 0.232586 5.48132 0.517326V5.06895H0.517266C0.232558 5.06895 0 5.30154 0 5.58628C0 5.87102 0.232558 6.10361 0.517266 6.10361H5.48273V11.4827C5.48273 11.7674 5.71529 12 6 12C6.28471 12 6.51727 11.7674 6.51727 11.4827V6.10361H11.4827C11.7674 6.10361 12 5.87102 12 5.58628C11.9986 5.30154 11.766 5.06895 11.4813 5.06895Z",fill:"#939498"}))},l=function(e){var t=e.strokeColor,n=void 0===t?"#fff":t,r=e.className;return o.a.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r},o.a.createElement("path",{d:"M13 1L5 9L1 5",stroke:n,strokeWidth:"2.42424",strokeLinejoin:"round"}))}},WqIs:function(e,t,n){"use strict";var r=n("ERkP");t.a=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(null),o=function(e){return function(){t&&n.current&&n&&n.current&&n.current("请求已被用户取消");var r=e.apply(void 0,arguments);if(r instanceof Promise){var o=t,i=Promise.race([r,new Promise((function(e,t){n.current=t}))]);return o.current=r,i.then((function(e){return n.current=null,e}))}throw new Error("函数必须返回Promise")}};return e?o(e):function(e){return o(e)}}},"X/nh":function(e,t,n){},XnQv:function(e,t,n){"use strict";var r=n("c2re"),o=n.n(r),i=n("ERkP"),a=n.n(i),l=n("DuHN"),c=n("SCaQ"),s=n("B79d"),u=n("PXmc"),d=(n("r0UG"),n("/zI6")),f=n("Ksdk"),h=n("ANDW"),m=n.n(h),p=n("bIW9"),v=n("Zm5h");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(){var e=g(Object(i.useState)(960),2),t=e[0],n=e[1],r=Object(p.o)((function(e){return e.attachmentReducer.attachmentsPreview.visible}));return Object(i.useEffect)((function(){var e=document.body.clientWidth;n(e-30)}),[]),a.a.createElement(d.a,{visible:r,className:"".concat(m.a.modal),closable:!1,centered:!0,footer:null,width:t,maskClosable:!1,destroyOnClose:!0,closeIcon:a.a.createElement(v.o,null)},a.a.createElement(f.a,{hash:"",type:"attachment",attachmentsInfo:{}}))},b=n("kJkU"),w=n("79zX"),_=n("9xBf"),E=n("O94r"),C=n.n(E),x=n("Luec"),I=(n("1GCN"),n("zwwd"));function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.visible,n=e.readListData,r=e.refreshData,o=e.onClose,l=T(Object(i.useState)(0),2),c=l[0],s=l[1],u=T(Object(i.useState)([]),2),f=u[0],h=u[1],m=T(Object(i.useState)(),2),p=m[0],v=m[1],g=T(Object(i.useState)(),2),y=g[0],S=g[1];return Object(i.useEffect)((function(){var e,t=y?null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.filter((function(e){return"unread"===y?"unread"===e.status||"unkown"===e.status:e.status===y})):null==n?void 0:n.data;v(t)}),[y]),Object(i.useEffect)((function(){var e,t=[],r=[],o=[],i=[],a=[];n&&(v(n.data),(null===(e=n.data)||void 0===e?void 0:e.length)&&n.data.map((function(e){"suc"==e.status?t.push(e):"fail"==e.status?r.push(e):"read"==e.status?o.push(e):"unread"==e.status?i.push(e):a.push(e)})),n.isrcl?h(["全部","撤回成功(".concat(t.length,")"),"撤回失败(".concat(r.length,")")]):h(["全部","已读(".concat(o.length,")"),"未读(".concat(i.length+a.length,")")]))}),[n]),a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{footer:null,visible:t,width:480,closeIcon:a.a.createElement("div",{className:"u-status-icon"},a.a.createElement("span",{className:"icons",onClick:function(){r&&(s(0),S(""),r())}},a.a.createElement(x.b.RefreshSvg,null)),a.a.createElement("span",{className:"icons",onClick:function(){o(),s(0)}},a.a.createElement(x.b.ModalCloseSvg,null)))},a.a.createElement("div",{className:"u-status"},a.a.createElement("div",{className:"u-status-header"},a.a.createElement("div",{className:"u-status-title"},(null==n?void 0:n.isrcl)?"撤回结果":"阅读状态",!(null==n?void 0:n.isrcl)&&a.a.createElement("span",{className:"u-status-tips"},"企业外收件人阅读状态追踪功能，限时开放中")),a.a.createElement("div",{className:"u-status-tab"},f.map((function(e,t){return a.a.createElement("span",{className:C()(["u-status-text",t==c?"on":""]),onClick:function(e){return function(e){s(e),(null==n?void 0:n.isrcl)?S(["","suc","fail"][e]):S(["","read","unread","unkown"][e])}(t)},key:t},e)})))),a.a.createElement("div",{className:"u-status-list"},a.a.createElement(w.b,{itemLayout:"horizontal",header:"unkown"==y?null:(null==n?void 0:n.isrcl)&&"fail"!==y?"撤回成功后，对方将只能看到主题，并得到已被撤回的提示":"",dataSource:p,locale:{emptyText:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"u-status-empty-img"}),"没有内容")},renderItem:function(e){var t,r,o;return a.a.createElement(w.b.Item,null,a.a.createElement(w.b.Item.Meta,{avatar:a.a.createElement(I.a,{style:{marginRight:"12px"},size:32,user:{name:null===(t=null==e?void 0:e.contact)||void 0===t?void 0:t.contact.contactName,avatar:null===(r=null==e?void 0:e.contact)||void 0===r?void 0:r.contact.avatar,color:null===(o=null==e?void 0:e.contact)||void 0===o?void 0:o.contact.color}}),title:a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{title:e.contactName,mouseEnterDelay:1,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-item-name"},e.contactName)),a.a.createElement("div",{className:C()(["u-item-status","suc"==e.status?"u-suc":""]),style:{color:e.color}},"suc"==e.status?"撤回成功":"fail"==e.status?"撤回失败":e.text)),description:a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{title:e.email,mouseEnterDelay:1,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-item-email"},e.email)),a.a.createElement("div",{className:"u-item-time"},(null==n?void 0:n.isrcl)?e.text:e.modifiedTime))}))}})))))},M=n("ERsz"),k=n("A/2O"),A=n("hNyY"),z=n("/Oqt"),P=n("2srY"),N=n.n(P),L=n("S0yW"),j=n("1v+d"),D=n("wWVJ"),F=n("RbKB"),W=n("xgAC");function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t,n,r=e.item,o=e.isMerge,i=e.listData,l=e.folder,c=(e.folderSelected,e.onMove),d=e.onDelete,f=e.onRemark,h=e.onWithDraw,m=e.setVisible,v=e.visible,g=e.printMail,y=e.top,S=e.onTop,b=e.onExport,w=e.openNewWindow,_=s.f.api.requireLogicalApi(s.h.mailApiImpl),E=L.a.SubMenu,C=H(Object(F.a)("mailListStateTab","doUpdateMailListStateTab"),1)[0],x=(null==r?void 0:r.entry)||{},I=x.id,T=x.mark,O=x.readStatus,R=x.attachment,M=N()(r,["sender","contactItem","contactItemVal"],""),k=(s.f.api.getSystemApi().isElectron(),R&&R.some((function(e){return!e.inlined&&"ics"!==e.fileType}))),A=function(e){return!(!e||!e.length)&&e.some((function(e){return e==l}))},z=function(e){m(!1),_.doReplayMail(I,e)},P=function(e){m(!1),_.doReplayMailWithAttach(I,e)},G=function(){m(!1),d&&d(I)},U=function(e,t,n){e&&e.stopPropagation(),m(!1),f&&f(t,I,n)},B=function(e){m(!1),h&&h(e)},V=function(){m(!1),S&&S(!y,I)},q=a.a.createElement(E,{key:"3-3",title:a.a.createElement("span",null,"打标签"),popupOffset:[17,0]},a.a.createElement("div",{hidden:!v},a.a.createElement(j.a,{mailList:[r],Close:function(){m(!1)}}))),K=Object(p.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode}));return a.a.createElement(L.a,{selectable:!1},A([u.a.DRAFT,u.a.SENT])?[a.a.createElement(L.a.Item,{key:"1-1",onClick:function(){m(!1),_.doEditMail(I,2==l)}},"再次编辑"),3!=l||o?"":(null==i?void 0:i.isrcl)?a.a.createElement(L.a.Item,{key:"1-2",onClick:function(){return B(I)}},"查看撤回结果"):a.a.createElement(L.a.Item,{key:"1-2",onClick:function(){return B()}},"撤回"),a.a.createElement(L.a.Divider,{key:"1-3"})]:"",A([u.a.DRAFT])?"":[r&&r.receiver.length>1?[a.a.createElement(L.a.Item,{key:"2-1",onClick:function(){return z(!1)}},"回复")]:[a.a.createElement(L.a.Item,{key:"2-2",onClick:function(){return z(!0)}},"回复全部")],k&&[a.a.createElement(L.a.Item,{key:"2-5",onClick:function(){return P(!1)}},"带附件回复"),a.a.createElement(L.a.Item,{key:"2-6",onClick:function(){return P(!0)}},"带附件回复全部")],a.a.createElement(L.a.Item,{key:"2-3",onClick:function(){return m(!1),void _.doForwardMail(I)}},"转发"),a.a.createElement(L.a.Divider,{key:"2-4"})],A([u.a.DELETED,u.a.SPAM])?"":[(t="read"===O,n="redFlag"===T,[a.a.createElement(L.a.Item,{key:"3-1",onClick:function(e){e.domEvent.stopPropagation(),U(e.domEvent,"none"==T,"redFlag")}},n?"取消":"标为","红旗"),A([u.a.DRAFT,u.a.SENT])?"":a.a.createElement(L.a.Item,{key:"3-2",onClick:function(e){return U(e.domEvent,"unread"==O,"read")}},t?"标为未读":"标为已读")]),A([u.a.DRAFT])||o||K?null:q,!S||A([u.a.REDFLAG,u.a.DELETED,u.a.SPAM,u.a.DRAFT])||0!==C?null:a.a.createElement(L.a.Item,{onClick:V},y?"取消置顶":"置顶"),a.a.createElement(L.a.Divider,{key:"3-5"})],A([u.a.DRAFT,u.a.WAITINGISSUE,u.a.READYISSUE])||o?"":a.a.createElement(L.a.Item,{key:"4-1",onClick:function(){m(!1),c&&c(I,l,o)}},"移动"),A([u.a.DELETED])?a.a.createElement(L.a.Item,{key:"4-3",onClick:function(){return G()}},a.a.createElement("div",{className:"menu-content-wrap"},a.a.createElement("div",{className:"menu-name"},"彻底删除"),a.a.createElement("div",{className:"menu-icon"},a.a.createElement(W.a,null)))):a.a.createElement(L.a.Item,{key:"4-2",onClick:function(){return G()}},a.a.createElement("div",{className:"menu-content-wrap"},a.a.createElement("div",{className:"menu-name"},"删除"),a.a.createElement("div",{className:"menu-icon"},a.a.createElement(W.a,null)))),!K&&l!==u.a.SENT&&2!==l&&a.a.createElement(L.a.Item,{key:"report",onClick:function(e){m(!1)}},a.a.createElement(D.a,{mailId:I,hasReport:l===u.a.SPAM,senderEmail:M})),l===u.a.SPAM&&2!==l&&a.a.createElement(L.a.Item,{key:"report-1",onClick:function(e){m(!1)}},a.a.createElement(D.a,{mailId:I,hasReport:!1,senderEmail:M})),a.a.createElement(L.a.Divider,{key:"divider2"}),a.a.createElement(L.a.Item,{key:"1-9",hidden:l==u.a.DRAFT||o,onClick:function(){return w([I])}},"新窗口打开"),A([u.a.DRAFT])?"":[a.a.createElement(L.a.Item,{key:"5-2",onClick:function(e){e.domEvent.stopPropagation(),m(!1),g(r)}},"打印邮件")],K?null:a.a.createElement(L.a.Item,{key:"6-1",onClick:function(){return m(!1),void(b&&b(I))}},"导出邮件"))};n("HPZX");function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){e.mid,e.fid;var t,n=e.content,r=e.dataList,o=e.refreshData,l=s.f.api.requireLogicalApi(s.h.dataTrackerApiImp),c=B(Object(i.useState)(!1),2),u=c[0],d=c[1],f=B(Object(i.useState)(),2),h=f[0],m=f[1],p=B(Object(i.useState)(""),2),v=p[0],g=p[1];return Object(i.useEffect)((function(){var e,t=[],o=[],i=[],a=[],l=[];r&&(m(r),(null===(e=r.data)||void 0===e?void 0:e.length)?(r.data.map((function(e){"suc"==e.status?t.push(e):"fail"==e.status?o.push(e):"read"==e.status?i.push(e):"unread"==e.status?a.push(e):l.push(e)})),r.isrcl?g("撤回成功".concat(t.length,"人，撤回失败").concat(o.length,"人")):g("已读".concat(i.length,"人，未读").concat(a.length+l.length,"人"))):n.entry.rclStatus?g("无法查看撤回详情"):n.entry.readStatus?g("无法查看阅读状态"):g("无法查看邮件状态"))}),[r]),a.a.createElement("div",{onClick:function(e){e.stopPropagation()}},a.a.createElement("div",{className:"m-sticky"},a.a.createElement("div",{className:"u-sticky"},a.a.createElement("div",{className:"u-sticky-content",onClick:function(){!function(){var e;(null===(e=r.data)||void 0===e?void 0:e.length)&&(d(!0),(null==h?void 0:h.isrcl)||l.track("pcMail_click_mailReadingState_readMailPage"))}()},hidden:!v},a.a.createElement("span",{className:"u-sticky-title",hidden:!v},(null==h?void 0:h.isrcl)?"撤回结果":"阅读状态"),a.a.createElement("span",{className:"u-sticky-list"},v),a.a.createElement("span",{className:"u-sticky-icon",hidden:!(null===(t=r.data)||void 0===t?void 0:t.length)},a.a.createElement(x.b.TriangleSvg,null))))),u?a.a.createElement(R,{readListData:h,onClose:function(){return d(!1)},visible:u,refreshData:o}):null)},K=n("aci1"),Y=n("bO7B"),$=n.n(Y),J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=t.getSelection(),o=n.createRange();o.selectNodeContents(e),null==r||r.removeAllRanges(),null==r||r.addRange(o)},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";navigator.clipboard.writeText(e)},Z=function(e){var t=e.children,n=e.targetNode,r=Object(i.useRef)();return a.a.createElement(z.a,{onVisibleChange:function(e){var t,n;e&&(null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&(r.current=null===(n=document.getSelection())||void 0===n?void 0:n.toString())},overlay:a.a.createElement(L.a,{className:$.a.dropdownMenu},a.a.createElement(L.a.Item,{key:"1",onClick:function(){r.current&&X(r.current)}},"复制"),a.a.createElement(L.a.Item,{key:"2",onClick:function(){n&&J(n)}},"全选")),trigger:["contextMenu"]},t)};Z.defaultProps={targetNode:null,children:void 0};var Q,ee=Z,te=n("NwOV"),ne=n("vVVv");function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e){return i.createElement("svg",re({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Q||(Q=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.333A6.333 6.333 0 108 1.667a6.333 6.333 0 000 12.666zM7.667 9V5h1v4h-1zm0 1v1h1v-1h-1z",fill:"#F74F4F"})))}var ie=n("3mOf"),ae=n("qL1L"),le=n.n(ae),ce=n("WBJb");function se(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){se(i,r,o,a,l,"next",e)}function l(e){se(i,r,o,a,l,"throw",e)}a(void 0)}))}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=function(e){var t=e.senderMail,n=e.senderName,r=e.visible,o=e.setVisible,u=(e.alwaysShow,de(Object(i.useState)(0),2)),f=u[0],h=u[1],m=de(Object(i.useState)(!1),2),p=m[0],v=m[1],g=s.f.api.requireLogicalApi(s.h.contactApiImpl),y=s.f.api.requireLogicalApi(s.h.mailConfApiImpl),S=function(){var e=ue(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==g?void 0:g.doInsertContact({name:n,emailList:[t]});case 3:(null==(r=e.sent)?void 0:r.success)?(l.b.success("已添加至通讯录，该联系人不再提醒"),o(!1)):l.b.error("添加失败"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.b.error("添加失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=ue(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=f){e.next=7;break}return e.next=3,y.updateRiskReminderStatus(!1);case 3:e.sent?o(!1):l.b.warn("管理员已设置强制开启，不能关闭"),e.next=8;break;case 7:o(!1);case 8:v(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:le.a.riskReminder,hidden:!r},a.a.createElement(ce.a,{tagName:s.d.CONTACT_RECV_NOTIFY},a.a.createElement("div",{style:{position:"relative"}},a.a.createElement(oe,null),a.a.createElement("div",{className:le.a.text},"检测到该发件人",a.a.createElement("span",{className:le.a.riskEmail},t),"不在你的通讯录中，请注意防范风险"),a.a.createElement("div",{className:le.a.btnClose,onClick:function(){v(!0)}},a.a.createElement(ie.a,null))),a.a.createElement("div",null,a.a.createElement("div",{className:le.a.btnComfirm,onClick:S},"信任此联系人"))),a.a.createElement(d.a,{visible:p,footer:null,closable:!1,closeIcon:!1,wrapClassName:le.a.reminderModal,destroyOnClose:!0},a.a.createElement("div",null,a.a.createElement("div",{className:le.a.title},"确认关闭陌生人来信提醒吗？"),a.a.createElement(te.a.Group,{onChange:function(e){return h(e.target.value)},value:f},a.a.createElement(ne.b,{direction:"vertical"},a.a.createElement(te.a,{value:0},"仅关闭此次提醒"),a.a.createElement(te.a,{value:1},"所有陌生人来信均不再提示"))),a.a.createElement("div",{className:le.a.footer},a.a.createElement(c.a,{onClick:function(){return v(!1)}},"取消"),a.a.createElement(c.a,{type:"primary",style:{marginLeft:16},onClick:b},"确认")))))},me=n("R8Pv");function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ge=s.f.api.getEventApi(),ye=s.f.api.requireLogicalApi("mailConfApiImpl"),Se=(s.f.api.requireLogicalApi(s.h.mailApiImpl),["to","cc","bcc"]),be=["发给","抄送","密送"],we=["收件人","抄　送","密　送"],_e=["kf@qiye.163.com","notice@qiye.163.com","postmaster@qiye.163.com","postmaster@lx.elysys.net","Postmaster@qiye.163.com","join163@qiye.163.com","service@v.qiye.163.com","abuse@qiye.163.com","mail@ym.163.com"],Ee=function(e){var t,n,r,o,l,c,d,f,h,m,v,g,y,S,b,w,E,C,T,O,R,M,k,P,N,L,j,D,F,W=e.content,H=e.isMerge,G=e.listData,B=e.selectedKeys,V=void 0===B?[1]:B,Y=e.mid,$=e.priority,J=e.folder,X=e.handleApply,Z=e.handleMove,Q=e.handleDelete,te=e.handleMailTop,ne=e.handleWithDraw,re=e.refreshData,oe=e.onMark,ie=e.onScrollToAttacth,ae=void 0===ie?function(){}:ie,le=e.printMail,ce=e.handleExport,se=e.openNewWindow,ue=s.f.api.getSystemApi(),de=pe(Object(i.useState)(!1),2),fe=de[0],ve=de[1],Ee=pe(Object(i.useState)(!1),2),Ce=Ee[0],xe=Ee[1],Ie=pe(Object(i.useState)(!1),2),Te=Ie[0],Oe=Ie[1],Re=pe(Object(i.useState)(!1),2),Me=Re[0],ke=Re[1],Ae=pe(Object(i.useState)(!1),2),ze=Ae[0],Pe=Ae[1],Ne=[1,5,4].includes(J)||J>=100,Le=(null===(n=null===(t=null==W?void 0:W.sender)||void 0===t?void 0:t.contactItem)||void 0===n?void 0:n.contactId)||"",je=(null===(l=null===(o=null===(r=null==W?void 0:W.sender)||void 0===r?void 0:r.contact)||void 0===o?void 0:o.contact)||void 0===l?void 0:l.id)||"",De=null===(c=null==W?void 0:W.entry)||void 0===c?void 0:c.suspiciousSpam,Fe=null===(d=null==W?void 0:W.sender)||void 0===d?void 0:d.inContactBook,We=_e.includes(Le),He=Object(p.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode}));Object(i.useEffect)((function(){He||ye.getRiskReminderStatus().then((function(e){Oe(2===e),xe([0,2].includes(e))}))}),[Y]),Object(i.useEffect)((function(){Pe(!1)}),[G,W]),Object(i.useEffect)((function(){He||"/"!==window.location.pathname&&ye.requestTaglist()}),[]),Object(i.useEffect)((function(){var e,t,n;Object(s.m)()&&(null===(e=null==W?void 0:W.entry)||void 0===e?void 0:e.title)&&(null===(n=null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.pathname)||void 0===n?void 0:n.includes("readMail"))&&(window.document.title="读信-"+(null==W?void 0:W.entry.title))}),[null==W?void 0:W.entry.title]);var Ge=null===(h=null===(f=null==W?void 0:W.entry)||void 0===f?void 0:f.attachment)||void 0===h?void 0:h.filter((function(e){return!e.inlined&&"ics"!==e.fileType})).length,Ue=ue.getCurrentUser(),Be=function(e,t){var n=[];W&&W.receiver&&W.receiver.forEach((function(r){if(r.mailMemberType===e){var o=(null==Ue?void 0:Ue.id)===r.contact.contact.accountName?"我":r.originName||r.contact.contact.contactName||r.contact.contact.accountName;"nameCard"===t?n.push("无收件人"!==r.originName?a.a.createElement(K.a,{contact:r.contact,type:"avatar",trigger:"click"},o):a.a.createElement("div",{className:"u-card"},r.originName)):n.push(r.contactItem.contactItemVal?a.a.createElement(K.a,{contact:r.contact,trigger:"click"}):a.a.createElement("span",null,"无收件人"))}}));var r=Se.indexOf(e),o="name"===t?be[r]:we[r];return n.length||"to"===e&&!t?a.a.createElement("div",{className:"name"===t||"nameCard"===t?"u-info-top":"u-info-item"},a.a.createElement("span",{className:"name"},o,"name"===t?"":"："),n.length?a.a.createElement("span",{className:"detail"},n.map((function(e,t){return a.a.createElement(a.a.Fragment,null,t?"、":"",e)}))):a.a.createElement("span",{className:"detail"},"无收件人")):""},Ve=function(e,t,n,r){oe&&oe(e,t,n,r)},qe=Object(i.useRef)(null),Ke=function(){var e=null==W?void 0:W.headers;if(e&&e.Sender){var t=!!e["Resent-From"],n=t?e["Resent-From"][0]:e.Sender[0];return"(由".concat(n).concat(t?"转发":"代发",")")}return null},Ye=null;H&&(Ye="redFlag"===(null===(m=null==W?void 0:W.entry)||void 0===m?void 0:m.mark)?a.a.createElement("span",{className:"operator-btn read-flag",onClick:function(e){var t;e.stopPropagation(),Ve(!1,null===(t=null==W?void 0:W.entry)||void 0===t?void 0:t.id,"redFlag")}},a.a.createElement(x.b.RedFlagSvg,null)):a.a.createElement("span",{className:"operator-btn read-flag flag",onClick:function(e){var t;e.stopPropagation(),Ve(!0,null===(t=null==W?void 0:W.entry)||void 0===t?void 0:t.id,"redFlag")}},a.a.createElement(x.b.FlagSvg_Cof,{color:"rgba(60, 63, 71, 1)"})));var $e=(null==Ue?void 0:Ue.id)===(null===(y=null===(g=null===(v=null==W?void 0:W.sender)||void 0===v?void 0:v.contact)||void 0===g?void 0:g.contact)||void 0===y?void 0:y.accountName)&&3!==J;return a.a.createElement("div",{className:"header-box"},a.a.createElement("div",{className:"u-info"},a.a.createElement(ee,{targetNode:qe.current},a.a.createElement("div",{ref:qe,className:"u-info-title",hidden:H},(null==W?void 0:W.entry.title)||"无主题")),a.a.createElement("div",{className:"mail-head-tag-warp",hidden:H||!((null==W?void 0:W.tags)&&(null==W?void 0:W.tags.length))},null===(S=null==W?void 0:W.tags)||void 0===S?void 0:S.map((function(e){return a.a.createElement(A.a,{className:"tag",closeable:!0,color:ye.getTagColor(e),onClose:function(){var t,n;t=e,n=[W],ge.sendSysEvent({eventName:"mailTagChanged",eventData:{tagNames:[t],mailList:n},eventStrData:"untag"})}},e)}))),a.a.createElement("div",{className:"u-item"},a.a.createElement(K.a,{contact:null===(b=null==W?void 0:W.sender)||void 0===b?void 0:b.contact,type:"avatar",trigger:"hover"},a.a.createElement("div",{style:{marginRight:"12px",cursor:"pointer",display:"flex",alignItems:"center"}},a.a.createElement(I.a,{size:32,user:{name:null===(E=null===(w=null==W?void 0:W.sender)||void 0===w?void 0:w.contact)||void 0===E?void 0:E.contact.contactName,avatar:null===(T=null===(C=null==W?void 0:W.sender)||void 0===C?void 0:C.contact)||void 0===T?void 0:T.contact.avatar,color:null===(R=null===(O=null==W?void 0:W.sender)||void 0===O?void 0:O.contact)||void 0===R?void 0:R.contact.color}}))),a.a.createElement("div",{className:"u-item-content"},a.a.createElement("div",{className:"u-item-info"},"number"==typeof $&&$<2&&a.a.createElement(_.a,{title:"紧急邮件",placement:"top"},a.a.createElement("div",{className:"alarm"},a.a.createElement(me.a,{type:"alarm"}))),a.a.createElement("div",{className:"name"},a.a.createElement(K.a,{contact:null===(M=null==W?void 0:W.sender)||void 0===M?void 0:M.contact,type:"avatar",trigger:"click"},(null==Ue?void 0:Ue.id)===(null===(k=null==W?void 0:W.sender)||void 0===k?void 0:k.contact.contact.accountName)?"我":(null===(P=null==W?void 0:W.sender)||void 0===P?void 0:P.originName)||(null===(N=null==W?void 0:W.sender)||void 0===N?void 0:N.contact.contact.contactName)||(null===(L=null==W?void 0:W.sender)||void 0===L?void 0:L.contact.contact.accountId)),a.a.createElement("span",{className:"name-Forward"},Ke())),a.a.createElement("div",{className:"time"},Object(u.i)("YYYY-mm-dd HH:MM",null==W?void 0:W.entry.sendTime)),a.a.createElement("div",{className:"attach",hidden:!Ge,onClick:function(e){e.stopPropagation(),ae()}},a.a.createElement(x.b.AttachSvgLarge,null),a.a.createElement("span",{className:"text"},Ge)),a.a.createElement("div",{style:{flex:"1"}}),a.a.createElement("div",{className:"u-operator",onClick:function(e){e&&e.stopPropagation()}},Ye,a.a.createElement(_.a,{placement:"bottom",title:W&&(null===(j=null==W?void 0:W.receiver)||void 0===j?void 0:j.length)>1?"回复全部":"回复",mouseEnterDelay:.3,mouseLeaveDelay:.15},W&&W.receiver.length>1?a.a.createElement("span",{className:"operator-btn",onClick:function(e){e.stopPropagation(),X(Y,!0)},hidden:2===(null==W?void 0:W.entry.folder)},a.a.createElement(x.b.ReplyAllSvgCof,{color:"rgba(60, 63, 71, 1)"})):a.a.createElement("span",{className:"operator-btn",onClick:function(e){e.stopPropagation(),X(Y,!1)},hidden:2===(null==W?void 0:W.entry.folder)},a.a.createElement(x.b.ReplySvgCof,{color:"rgba(60, 63, 71, 1)"}))),a.a.createElement(_.a,{visible:Me,onVisibleChange:function(e){ke(!fe&&e)},placement:"bottom",title:"更多操作",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement(z.a,{visible:fe,onVisibleChange:function(e){ve(e),e&&ke(!1)},overlayClassName:"u-tree-dropmenu",overlay:a.a.createElement(U,{isMerge:H,listData:G,top:null===(D=null==W?void 0:W.entry)||void 0===D?void 0:D.top,folder:null==W?void 0:W.entry.folder,folderSelected:V[0],item:W,onMove:Z,onDelete:Q,onTop:te,onWithDraw:ne,onRemark:oe,visible:fe,setVisible:ve,printMail:le,onExport:ce,openNewWindow:se}),trigger:["click","contextMenu"]},a.a.createElement("span",{className:"more",onClick:function(e){e.stopPropagation()}},a.a.createElement(x.b.MoreSvg_Cof,{color:"rgba(60, 63, 71, 1)"})))))),a.a.createElement("div",{className:"u-item-sender"},a.a.createElement("span",{className:"detail contains no-select"},W&&W.receiver.length?a.a.createElement(a.a.Fragment,null,Be("to","nameCard"),Be("cc","nameCard"),$e?"":Be("bcc","nameCard")):"无联系人"),a.a.createElement("span",{className:"u-item-detail contains",onClick:function(e){e.stopPropagation(),Pe(!ze)}},ze?"收起":"详情")))),ze?a.a.createElement("div",{className:"u-info-detail",onClick:function(e){e.stopPropagation()}},a.a.createElement("div",{className:"u-info-item"},a.a.createElement("span",{className:"title"},"发件人："),a.a.createElement("span",{className:"content"},a.a.createElement(K.a,{contact:null===(F=null==W?void 0:W.sender)||void 0===F?void 0:F.contact,trigger:"click"}))),a.a.createElement("p",{className:"u-info-item-Forward"},Ke()),Be("to"),Be("cc"),$e?"":Be("bcc"),a.a.createElement("div",{className:"u-info-item",hidden:!H},a.a.createElement("span",{className:"title"},"主 题："),a.a.createElement("span",{className:"content"},null==W?void 0:W.entry.title)),a.a.createElement("div",{className:"u-info-item"},a.a.createElement("span",{className:"title"},"时 间："),a.a.createElement("span",{className:"content"},null==W?void 0:W.entry.sendTime))):""),function(){var e;return 3===(null==W?void 0:W.entry.folder)&&G&&!He?a.a.createElement(q,{mid:Y,fid:null===(e=null==W?void 0:W.entry)||void 0===e?void 0:e.folder,dataList:G,refreshData:re,content:W}):null}(),!He&&Ne&&!Fe&&!We&&Ce&&!De&&a.a.createElement(he,{senderMail:Le,senderName:je,visible:Ce,setVisible:xe,alwaysShow:Te}))},Ce=n("wgY5"),xe=n.n(Ce),Ie=n("7nmT"),Te=n.n(Ie),Oe=n("0cJW"),Re=n("nxFc"),Me=(n("vzvF"),n("xq5O")),ke=n("Wbzz"),Ae=n("/h0M"),ze=n("dI64"),Pe=n("SHXH"),Ne=n("HuvI"),Le=function(e){switch(e){case"NEEDS-ACTION":return 1;case"ACCEPTED":return 2;case"DECLINED":return 3;case"TENTATIVE":return 4;case"DELEGATED":return 5;default:return 1}};function je(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||We(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ge=s.f.api.requireLogicalApi(s.h.icsApiImpl),Ue=s.f.api.getSystemApi(),Be=s.f.api.requireLogicalApi(s.h.dataTrackerApiImp),Ve={"NEEDS-ACTION":"需要操作",ACCEPTED:"接受",DECLINED:"拒绝",TENTATIVE:"待定",DELEGATED:"已委派"},qe=function(e){var t=e.senderEmail,n=e.isIcsReply,r=void 0!==n&&n,o=e.sender,l=e.icsModel,c=Fe(Object(i.useState)(),2),s=c[0],u=c[1],d=Fe(Object(i.useState)(l.event.partStat),2),f=d[0],h=d[1],m=Fe(Object(i.useState)(!1),2),p=m[0],v=m[1],g=Fe(Object(i.useState)(!1),2),y=g[0],S=g[1],b=Fe(Object(i.useState)(""),2),w=b[0],_=b[1],E=Fe(Object(i.useState)(l),2),x=E[0],I=E[1];Object(i.useEffect)((function(){if(!r){var e=Ue.getCurrentUser(),n={partStat:"NEEDS-ACTION",email:e.id,nickname:e.nickName},o=l.event.organizer,i=o.extDesc===e.id,a=t===e.id;if(S(i),_(o.extNickname||""),v(a),i||h(l.event?l.event.partStat:"NEEDS-ACTION"),i&&!a||!i){var c,s=l.event.invitees;(null==s?void 0:s.length)&&(c=s.find((function(e){return e.email===t}))),u(c=c||n)}I(l)}}),[l,r]);var T=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Be.track("pc_click_mail_schedule",{category:Ve[t]}),!x.event){e.next=8;break}return e.next=4,Ge.doOperateIcs({uid:x.event.uid,sequence:x.event.sequence,lastModified:x.event.lastModified,organizer:x.event.organizer.extDesc,attendee:Ue.getCurrentUser().id,partStat:t,recurrenceId:x.event.recurrenceId});case 4:(n=e.sent).event||((r=x.event).partStat=t,n.event=r),I(n),h(t);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){De(i,r,o,a,l,"next",e)}function l(e){De(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return r&&o?a.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement("i",{className:C()("action-icon",{"action-icon-accept":"ACCEPTED"===o.partStat,"action-icon-reject":"DECLINED"===o.partStat,"action-icon-attentive":"TENTATIVE"===o.partStat})}),a.a.createElement("span",null,(null==o?void 0:o.nickname)||""),a.a.createElement("span",null,"已"+Ve[o.partStat]+"此日程")):y?function(){var e,t=x.cancel,n=x.change;e=t?"取消了此日程邀请":n?"更新了此日程邀请":p?"的日程邀请已发送":Ve[s.partStat]+"了此日程邀请";var r=t||n||p?"您":null==s?void 0:s.nickname;return x.expired?a.a.createElement("div",null,a.a.createElement("span",null,"日程已过期")):a.a.createElement("div",null,a.a.createElement("span",null,r),a.a.createElement("span",null,e))}():function(){var e=x.expired,t=x.cancel,n=x.change,r=t?"已取消此日程":"已更新此日程";a.a.Fragment;return t||n?a.a.createElement("div",null,a.a.createElement("span",null,w),a.a.createElement("span",null,r)):e?a.a.createElement("div",null,a.a.createElement("span",null,"日程已过期")):"NEEDS-ACTION"===f?a.a.createElement("div",{className:"action-btn-group"},a.a.createElement("button",{type:"button",onClick:function(){T("ACCEPTED")}},"接受"),a.a.createElement("button",{type:"button",onClick:function(){T("DECLINED")}},"拒绝"),a.a.createElement("button",{type:"button",onClick:function(){T("TENTATIVE")}},"待定")):a.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement("i",{className:C()("action-icon",{"action-icon-accept":"ACCEPTED"===f,"action-icon-reject":"DECLINED"===f,"action-icon-attentive":"TENTATIVE"===f})}),a.a.createElement("span",null,"已"+Ve[f]+"此日程"))}()},Ke=function(e){var t,n=e.mid,r=e.attachmentsIds,o=e.senderEmail,l=e.setIcsSuccess,c=Fe(Object(i.useState)(),2),s=c[0],u=c[1],d=Fe(Object(i.useState)(""),2),f=d[0],h=d[1],m=Fe(Object(i.useState)(""),2),p=m[0],v=m[1],g=Fe(Object(i.useState)(""),2),y=g[0],S=g[1],b=Fe(Object(i.useState)(!0),2),w=b[0],_=b[1],E=o===Ue.getCurrentUser().id,x=Fe(Object(i.useState)(),2),I=x[0],T=x[1],O=Object(i.useCallback)((function(e){var t,n=e.event.organizer.extDesc,r=Ue.getCurrentUser().id;u(e),h(n!==r?"您收到一个日程邀请":"日程邀请"),T(n===r);var o=Object(Ae.i)(new Date(e.event.startTime),new Date(e.event.endTime),!!(null===(t=e.event)||void 0===t?void 0:t.allDay),!0,!0),i=o.startStr,a=o.endStr,l=o.affixStr;v(i+a),S(l),_(!1)}),[]);Object(i.useEffect)((function(){var e=Ue.getCurrentUser();_(!0),Ge.doGetIcsInfo({attendee:o,sid:e.sessionId,mid:n,partId:r[0],domain:e.domain,_:(new Date).getTime()}).then(O).catch((function(e){console.error("doGetIcsInfo Error",e),l(!1)}))}),[n]);var R=null==s?void 0:s.event;if(!s||!R)return null;var M=R.meetingInfo||R.location,k=Boolean(R.description&&"<p></p>"!==R.description),A=!E&&!I&&!s.cancel,z=R.invitees.length>0,P=!E&&I,N=R.invitees.find((function(e){return e.email===o})),L="";if(z&&P){var j=R.invitees,D=0,F=0;j.forEach((function(e){"DECLINED"===e.partStat?D+=1:"TENTATIVE"===e.partStat&&(F+=1)}));var W=new Set([].concat(je(j.map((function(e){return e.email}))),[Ue.getCurrentUser().id])),H=new Set([].concat(je(j.filter((function(e){return"ACCEPTED"===e.partStat})).map((function(e){return e.email}))),[Ue.getCurrentUser().id]));L=["共".concat(W.size,"人，").concat(H.size,"人接受"),"".concat(D,"人不接受"),"".concat(F,"人待定"),"".concat(W.size-H.size-D-F,"人暂未回复")].join("、")}var G=null===(t=R.recur)||void 0===t?void 0:t.recurIntro;return a.a.createElement("div",{className:C()("ics-card",{"ics-card-reply":P})},w?a.a.createElement(Me.a,{paragraph:{rows:7},active:!0,loading:w}):a.a.createElement("div",{className:"ics-card-wrap"},a.a.createElement("div",{className:"card-header ".concat(!s.expired&&!s.cancel||P?"normal":"cancel")},a.a.createElement("div",{className:"title"},P?"日程回执":f)),a.a.createElement("div",{className:"sub-title"},a.a.createElement(qe,{sender:N,isIcsReply:P,icsModel:s,senderEmail:o})),a.a.createElement("div",{className:"card-content"},a.a.createElement("div",{className:"summary"},R.summary||"无主题"),a.a.createElement("div",{className:"time ics-card-row",onClick:function(){Object(Pe.a)((function(){Object(ke.navigate)("/#schedule")}))}},a.a.createElement("i",{className:"icon timeIcon"}),a.a.createElement("div",{className:"text1"},p),y&&a.a.createElement("div",{className:"text2"},y)),P?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"organize ics-card-row"},a.a.createElement("i",{className:"icon ics-reply"}),a.a.createElement("div",{onClick:function(){Object(Ne.b)(function(e){var t=e.event,n=t.organizer,r=t.invitees,o=[{id:n.extDesc,contactId:"",email:n.extDesc,scheduleId:"",partStat:Le("ACCEPTED"),isOwner:1,isOrganizer:1,isCreator:1,isInviter:0,simpleInfo:n}];return r.forEach((function(e){e.email!==n.extDesc&&o.push({id:e.email,contactId:"",email:e.email,scheduleId:"",partStat:Le(e.partStat),isOwner:0,isOrganizer:0,isCreator:0,isInviter:1,simpleInfo:{extDesc:e.email,extNickname:e.nickname,accountId:e.email}})})),o}(s))},className:"ics-reply-info"},a.a.createElement("span",null,L),a.a.createElement("i",{className:"arrow-right"})))):a.a.createElement(a.a.Fragment,null,!!G&&a.a.createElement("div",{className:"time ics-card-row"},a.a.createElement("i",{className:"icon rruleIcon"}),a.a.createElement("div",{className:"text1"},G)),A&&a.a.createElement("div",{className:"conflict ics-card-row",onClick:function(){Object(Pe.a)((function(){Object(ke.navigate)("/#schedule")}))}},a.a.createElement("i",{className:"icon conflictIcon"}),a.a.createElement("div",null,a.a.createElement("div",{className:"time-conflict ".concat(R.conflict.length>0?"red-color":"")},R.conflict.length>0?"与以下日程有冲突":"与您的日程无冲突"),R.conflict.map((function(e){var t=Object(Ae.i)(new Date(e.start),new Date(e.end),!!e.allDay,!1),n=t.startStr,r=t.endStr;return a.a.createElement("p",{className:"event-conflict",key:e.scheduleId},a.a.createElement("span",{className:"event-conflict-title",title:e.summary},e.summary||"无主题"),a.a.createElement("br",null),a.a.createElement("span",{className:"event-conflict-time"},"".concat(n," ").concat(r),e.allDay?"(全天)":""))})))),M&&a.a.createElement("div",{className:"location ics-card-row"},a.a.createElement("i",{className:"icon locationIcon"}),a.a.createElement("div",{className:"location-text"},R.meetingInfo?R.meetingInfo.name+","+R.meetingInfo.addr_name:R.location)),k&&a.a.createElement("div",{className:"remark ics-card-row"},a.a.createElement("i",{className:"icon remarkIcon"}),a.a.createElement("div",{className:"remark-text"},a.a.createElement(ze.a,{desc:R.description}))),a.a.createElement("div",{className:"organize ics-card-row"},a.a.createElement("i",{className:"icon organizeIcon"}),a.a.createElement("div",{className:"text1"},R.organizer.extNickname," ",a.a.createElement("span",{className:"light-text"},R.organizer.extDesc)),a.a.createElement("div",{className:"text2"},"发起者")),z&&a.a.createElement("div",{className:"invite ics-card-row"},a.a.createElement("i",{className:"icon inviteIcon"}),a.a.createElement("div",{className:"invite-list-wrap"},a.a.createElement("div",{className:"invite-list"},R.invitees.map((function(e){return a.a.createElement("div",{key:e.email,className:"text1"},"".concat(null==e?void 0:e.nickname)," ",a.a.createElement("span",{className:"light-text"},e.email))})))))))))},Ye=n("IGx9"),$e=n("rsKO"),Je=n("haBr"),Xe=n("5tKq"),Ze=n("bcPM");function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=s.f.api.requireLogicalApi(s.h.mailApiImpl),nt=s.f.api.requireLogicalApi(s.h.dataTrackerApiImp),rt=s.f.api.getDataStoreApi(),ot=s.f.api.getSystemApi(),it={getBoundingClientRect:function(){return{top:0,left:0,bottom:0,right:0,width:0,height:0}}},at=function(e){var t=e.icsMail,n=e.icsProps,r=e.handleReply,o=e.content,l=e.mid,c=e.merge,s=Qe(Object(i.useState)(!0),2),u=s[0],d=s[1],f=Qe(Object(i.useState)(!1),2),h=f[0],m=f[1],v=Qe(Object(i.useState)(!1),2),g=v[0],y=v[1],S=Object(i.useRef)(null),b=Object(Oe.a)(),w=b.width,_=void 0===w?500:w,E=b.ref,I=Qe(Object(i.useState)(!0),2),T=I[0],O=I[1],R=Qe(a.a.useState(null),2),M=R[0],A=R[1],z=Object(Re.a)(it,M,{placement:"right-start"}),P=z.styles,N=z.attributes,L=z.update,j=Object(i.useRef)(null),D=Object(i.useRef)(null),F=Object(i.useRef)(null),W=Object(i.useRef)(null),H=Object(i.useRef)(null),G=Object(i.useRef)(),U=Object(i.useRef)(null),B=Object(i.useRef)({id:1,step:0}),V=Qe(Object(i.useState)({top:0,left:0,bottom:0,right:0}),2),q=V[0],K=V[1],Y=Qe(Object(i.useState)(!1),2),$=Y[0],Z=Y[1],Q=Qe(Object(i.useState)(null),2),ee=Q[0],te=Q[1],ne=Object(p.o)((function(e){return e.mailReducer.replyExpandedId})),re=Object(i.useRef)(ne);Object(i.useEffect)((function(){T&&(G.current="")}),[T]),Object(i.useEffect)((function(){re.current=ne}),[ne]),Object(i.useEffect)((function(){var e,t;if(d(!1),null===(t=null===(e=null==o?void 0:o.entry)||void 0===e?void 0:e.content)||void 0===t?void 0:t.content){var n=document.createElement("div"),r=document.createDocumentFragment();n.innerHTML=o.entry.content.content,r.appendChild(n);var i=(!r.textContent||/^\s+$/.test(r.textContent))&&!r.querySelector("img");d(i)}(null==o?void 0:o.entry)&&m(o.entry.suspiciousSpam)}),[o]),Object(i.useEffect)((function(){o&&o.id&&rt.get("notShowSpamTipsForMail-"+o.id).then((function(e){y(!!e&&e.suc&&!!e.data&&"true"===e.data)}))}),[o]);var oe=function(e){var t,n,o,i,a=e.target,l=function e(t){var n=t.parentNode;return"A"===t.nodeName?t:!(!n||"BODY"===n.nodeName)&&e(n)}(a);if(l?function(e,t){var n=t.href;if(e.preventDefault(),null==n?void 0:n.match(/^mailto:/)){var r=n.slice(7);return tt.doWriteMailToContact([r]),void nt.track("pcMail_click_writeMailButton_topBar")}window.open(n)}(e,l):r(),"IMG"===a.nodeName&&a.src&&(re.current||Ye.a.preview({data:[{previewUrl:a.src,downloadUrl:a.src,name:a.alt||Object($e.e)()}],startIndex:0})),M&&M.contains(a))switch(a){case j.current:null!==U.current&&Object($e.d)(U.current);break;case D.current:null!==U.current&&Object($e.c)(U.current.src);break;case F.current:if(null!==U.current){var c=U.current.href||"";X(c.replace(/^mailto:/,""))}break;case W.current:var s=null===(n=null===(t=S.current)||void 0===t?void 0:t.contentDocument)||void 0===n?void 0:n.getElementById($e.a);(null===(o=S.current)||void 0===o?void 0:o.contentDocument)&&(null===(i=S.current)||void 0===i?void 0:i.contentWindow)&&s&&J(s,S.current.contentWindow,S.current.contentDocument);break;case H.current:X(G.current)}var u=document.createEvent("MouseEvents"),d=document.createEvent("MouseEvents");u.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),document.body.dispatchEvent(u),document.body.dispatchEvent(d),E.current.click()},ie=function(){y(!0),rt.put("notShowSpamTipsForMail-"+o.id,"true").then()},ae=null==o?void 0:o.entry.content.content;Object(i.useEffect)((function(){var e,t="img{max-width:".concat(_,"px}");if(null===(e=S.current)||void 0===e?void 0:e.contentDocument){var n=S.current.contentDocument,r=n.querySelectorAll("style#imgMaxWidth")[0];if(r)r.innerText=t;else{var o=n.createElement("style");o.id="imgMaxWidth",o.innerText=t,n.head.append(o)}}}),[_]);Object(i.useEffect)((function(){L&&L()}),[it.getBoundingClientRect]),Object(i.useEffect)((function(){window.addEventListener("click",(function(){O(!0)}))}),[]);var le=function(e){var t;if(null===(t=S.current)||void 0===t?void 0:t.contentDocument){var n=S.current.contentDocument;S.current.style.height=n.body.scrollHeight?"".concat(n.body.scrollHeight,"px"):"auto",e&&(S.current.style.minWidth="".concat(n.body.scrollWidth,"px"))}},ce=function(){var e,t,n,r,o,i,a,l,c,s,u,d,f;if(G.current="",B.current.id&&window.cancelAnimationFrame(B.current.id),null===(e=S.current)||void 0===e?void 0:e.contentDocument){var h=S.current.contentDocument;le(B.current.step<1);var m=null===(o=null===(r=null===(n=null===(t=null==S?void 0:S.current)||void 0===t?void 0:t.contentWindow)||void 0===n?void 0:n.document)||void 0===r?void 0:r.body)||void 0===o?void 0:o.querySelector("#lingxi-signature-v2-content"),p=null===(c=null===(l=null===(a=null===(i=null==S?void 0:S.current)||void 0===i?void 0:i.contentWindow)||void 0===a?void 0:a.document)||void 0===l?void 0:l.body)||void 0===c?void 0:c.querySelector("#lingxi-signature-v2-block"),v=null===(f=null===(d=null===(u=null===(s=null==S?void 0:S.current)||void 0===s?void 0:s.contentWindow)||void 0===u?void 0:u.document)||void 0===d?void 0:d.body)||void 0===f?void 0:f.querySelector("#lingxi-signature-block");null==v||v.addEventListener("click",(function(){var e=null==v?void 0:v.getAttribute("data-href");e&&ot.openNewWindow(e)})),null==m||m.addEventListener("click",(function(){var e=null==p?void 0:p.getAttribute("href");e&&ot.openNewWindow(e)})),h.body.addEventListener("click",oe),h.body.addEventListener("contextmenu",(function(e){ot.isElectron()&&null!==e.target&&(e.preventDefault(),U.current=e.target,function(e){var t,n,r,o=e.x,i=e.y;it.getBoundingClientRect=function(){return{top:i,bottom:i,left:o,right:o,width:0,height:0}},O(!1),G.current=null===(r=null===(n=null===(t=S.current)||void 0===t?void 0:t.contentWindow)||void 0===n?void 0:n.getSelection())||void 0===r?void 0:r.toString()}({x:e.clientX,y:e.clientY}))}))}},se=function(e){var t,n,r,o,i,a,l=e.target,c="a"===l.tagName.toLowerCase()&&"divNeteaseSiriusATContact"===l.className,s="span"===l.tagName.toLowerCase()&&l.getAttribute("data-mce-contact");if(c||s){e.preventDefault();var u=(t=l,n=S.current,r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=document.body.clientWidth,a=document.body.clientHeight,{top:r.top+o.top,right:i-(r.right+o.left),bottom:a-(r.bottom+o.top),left:r.left+o.left}),d=l.clientWidth+5;u.left+=d;var f=l.getAttribute("data-mce-contact-id"),h=l.getAttribute("data-mce-contact-type");h||(f=l.getAttribute("mail-address"),h="EMAIL"),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Ze.a.doGetContactByItem({type:t,value:[e]}).then((function(r){if(r.length)te(r[0]);else{var o=n.substr(1),i=tt.buildRawContactItem({item:e,email:e,type:t,name:o});te(i.contact)}}))}(f,h,l.textContent).then((function(){Z(!0),K(u)}))}};Object(i.useEffect)((function(){if(S.current){S.current.setAttribute("style","");var e=S.current.contentDocument;null==e||e.open(),null==e||e.write(Object($e.b)(ae)),null==e||e.close(),B.current.step=0,function e(){var t=B.current.step<1;le(t),B.current.id&&(B.current.id=window.requestAnimationFrame(e)),B.current.step+=1}(),S.current.contentDocument.addEventListener("click",se)}return function(){var e;null===(e=S.current)||void 0===e||e.contentDocument.removeEventListener("click",se)}}),[ae]);var ue,de,fe,he,me,pe,ve,ge=c?k.a:a.a.Fragment,ye=u&&!t,Se=a.a.createElement(a.a.Fragment,null,!g&&h?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"spam-alert-style"},a.a.createElement("span",null,"该邮件可能是诈骗邮件或钓鱼邮件！请仔细检查发件人和邮件内容，不要轻易泄露帐号密码等安全信息，请谨慎识别，万勿轻信！"),a.a.createElement("span",{className:"span-alert-Warn"},a.a.createElement(x.b.WarnSvg,null)),a.a.createElement("span",{className:"spam-alert-style-close",onClick:ie},a.a.createElement(x.b.SimpCloseSvg,null)))):null,a.a.createElement(a.a.Fragment,null,ye&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{margin:40}},a.a.createElement("div",{className:"u-empty-img"}),a.a.createElement("div",{className:"non-content"},"无邮件内容"))),a.a.createElement("div",{ref:E,className:C()(["mail-content read-mail-content"],{"read-mail-content-merge":c})},a.a.createElement(ge,null,a.a.createElement("iframe",{ref:S,title:l,width:"100%",height:"100%",src:"about:blank",scrolling:"no",frameBorder:"0",onLoad:ce})),a.a.createElement(Je.a,{top:q.top,left:q.left,right:q.right,bottom:q.bottom,visible:$,setVisible:Z},ee&&a.a.createElement(Xe.a,{contact:ee,dividerLine:!1,branch:!0,toolipShow:!0}))),!ye&&(null===(de=null===(ue=S.current)||void 0===ue?void 0:ue.contentDocument)||void 0===de?void 0:de.body)&&Te.a.createPortal(a.a.createElement("div",Object.assign({hidden:T,ref:A,className:"frame-context-menu",style:Object.assign({},P.popper)},N.popper),a.a.createElement("style",{scoped:!0},"\n                .frame-context-menu {\n                    position: relative; background: #FFFFFF;padding:8px 0;color: #262A33;font-size: 14px;\n                    box-shadow: 0px 2px 4px rgba(38, 42, 51, 0.1);border-radius: 4px;min-width:88px;\n                  }\n                .frame-context-menu::before{\n                    content:' ';position: absolute;top: 0;bottom: 0;left: 0;right: 0;width: calc(200% - 2px);height: 200%;\n                    border-radius: 8px;border: 1px solid rgba(38, 42, 51, 0.12);;transform-origin: 0 0;-webkit-transform-origin: 0 0;\n                    transform: scale(.5, .5);-webkit-transform: scale(.5, .5);\n                  }\n                .frame-context-menu p {margin:0;padding:8px 16px;cursor: pointer;line-height: 14px;position: relative;z-index:2;}\n                .frame-context-menu p:hover {background: #F0F0F1;}\n              "),"IMG"===(null===(fe=U.current)||void 0===fe?void 0:fe.tagName)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{ref:j},"复制图片"),a.a.createElement("p",{ref:D},"下载图片")),"A"===(null===(he=U.current)||void 0===he?void 0:he.tagName)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{ref:F},"复制链接")),G.current&&"IMG"!==(null===(me=U.current)||void 0===me?void 0:me.tagName)&&"A"!==(null===(pe=U.current)||void 0===pe?void 0:pe.tagName)&&a.a.createElement("p",{ref:H},"复制"),"IMG"!==(null===(ve=U.current)||void 0===ve?void 0:ve.tagName)&&a.a.createElement("p",{ref:W},"全选")),S.current.contentDocument.body)));return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(Ke,{senderEmail:n.senderEmail,setIcsSuccess:n.setIcsSuccess,mid:n.mid,attachmentsIds:n.attachmentsIds}),Se)};at.defaultProps={merge:!1};var lt=at,ct=n("uSCX"),st=n("L5fd"),ut=n("PAhL");function dt(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mt=s.f.api.getSystemApi().isElectron(),pt=s.f.api.getFileApi(),vt=s.f.api.requireLogicalApi(s.h.mailConfApiImpl),gt=s.f.api.requireLogicalApi(s.h.dataTrackerApiImp),yt=function(e,t){var n=e.mid,r=e.content,o=e.merge,l=ft(Object(i.useState)(!1),2),c=l[0],s=l[1],u=ft(Object(i.useState)([]),2),d=u[0],f=u[1],h=ft(Object(i.useState)(!0),2),m=h[0],v=h[1],g=ft(Object(i.useState)(""),2),y=g[0],S=g[1],b=ft(Object(i.useState)(!1),2),w=b[0],_=b[1],E=Object(i.useRef)(null),C=ft(Object(i.useState)({mid:"0",attachmentsIds:[],senderEmail:"",setIcsSuccess:v}),2),I=C[0],T=C[1],O=Object(i.useRef)(null),R=ft(Object(i.useState)(""),2),M=R[0],k=R[1];Object(i.useEffect)((function(){n&&pt.getAttachmentZipPath(n).then((function(e){S(e||"")}))}),[n]),Object(i.useEffect)((function(){if(r){var e=r.entry.attachment;if(e&&e.length){var t=e.filter((function(e){return!e.inlined})).map((function(e){return Object.assign(Object.assign({},e),{type:"download",cloudAttachment:"netfolder"===e.type,downloadId:e.id+";"+r.id,downloadContentId:r.id,size:e.fileSize,mailId:r.id})}));f((function(){return m?t.filter((function(e){return"ics"!==e.fileType})):t}));var n=t.filter((function(e){return"ics"!==e.fileType})).reduce((function(e,t){return e+=t.size}),0);k(n>0?Object(ut.a)(n,1024):"")}else k(""),f([])}}),[m,r]);Object(i.useEffect)((function(){var e,t,o,i,a,l,c;n&&r&&r.entry&&((null===(e=r.entry.attachment)||void 0===e?void 0:e.length)?(t=r.entry.attachment,o=r.id,i=r.sender.contactItem.contactItemVal,l=t.filter((function(e){return"ics"===e.fileType})),c=t.filter((function(e){return"ics"!==e.fileType})),l.length?(T({senderEmail:i,mid:o,setIcsSuccess:v,attachmentsIds:l.map((function(e){return e.id}))}),s(!0),v(!0),a="带ics附件"):(s(!1),a=c&&c.length>0?"带非ics的普通附件":"不带普通附件"),gt.track("pcMail_view_mailDetailPage",{category:a})):s(!1))}),[r,n]);var A=Object(p.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode})),z=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xe()().format("YYYYMMDD"),o=A?"Attachments-".concat(t):"".concat(r.entry.title,"的全部附件").concat(t),!mt){e.next=13;break}if(!w){e.next=5;break}return e.abrupt("return");case 5:return _(!0),e.next=8,pt.saveZip(d,o,n);case 8:(i=e.sent).success&&i.path?S(i.path):st.a.warn({content:"全部下载失败，请重试"}),_(!1),e.next=15;break;case 13:(a=vt.getReadMailPackUrl(r,d,o))&&window.open(a);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dt(i,r,o,a,l,"next",e)}function l(e){dt(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return a.a.useImperativeHandle(t,(function(){return{getAttachRef:function(){return O}}}),[O]),a.a.createElement(a.a.Fragment,null,a.a.createElement(lt,{merge:o,icsMail:c,icsProps:I,content:r,handleReply:function(){var e;null===(e=E.current)||void 0===e||e.update()},mid:n}),a.a.createElement("div",{ref:O,className:"readmail-attachments",hidden:!d.length},a.a.createElement("div",{className:"title"},a.a.createElement(x.b.AttachPinSvg,null),a.a.createElement("span",{style:{marginLeft:"4px"}},d.length,"个附件"),M&&a.a.createElement("span",null,"（",M,"）"),a.a.createElement("span",{className:"save-all",onClick:function(){return y?void(pt.openDir(y)||st.a.warn({content:"未找到文件所在目录，请重新下载"}).then((function(){S(""),pt.delAttachmentZipPath(n)}))):z()}},y?"打开文件夹":"全部下载")),a.a.createElement("div",{className:"attachment-list"},d.map((function(e){return a.a.createElement(ct.a,{key:e.downloadId,from:"mail",className:"card ",id:e.downloadId,downloadInfo:e,attachments:d,irrevocable:w})})))))},St=a.a.forwardRef(yt),bt=n("f/wd");function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=function(e){var t,n=e.isMerge,r=e.mark,o=e.readStatus,l=e.top,c=e.fid,d=e.mid,f=(e.folderSelected,e.listData),h=e.mailList,m=e.threadMail,v=e.handleWithDraw,g=e.handleMove,y=e.onMark,S=e.handleEdit,b=e.handleApply,w=e.handleApplyWithAttach,E=e.handleReward,C=e.handleDelete,I=e.openNewWindow,T=e.handleMailTop,O=e.printMail,R=e.handleExport,M=e.selected,k=wt(Object(i.useState)(!1),2),A=k[0],P=k[1],F=wt(Object(i.useState)(!1),2),W=F[0],H=F[1],G=N()(h,[0,"sender","contactItem","contactItemVal"],""),U="read"===o,B="redFlag"===r;if(!h||0==h.length)return a.a.createElement(a.a.Fragment,null);var V=Array.isArray(h)?h[0]:h,q=Object(p.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode})),K=q&&m&&(null===(t=null==m?void 0:m.entry)||void 0===t?void 0:t.threadMessageIds)&&m.entry.threadMessageIds.length>1,Y=(s.f.api.getSystemApi().isElectron(),(V||{entry:{}}).entry.attachment),$=Y&&Y.some((function(e){return!e.inlined&&"ics"!==e.fileType})),J=function(e){return!(!e||!e.length)&&e.some((function(e){return e==c}))},X=function(){y("unread"===o,d,"read")},Z=function(){y("redFlag"!==r,d,"redFlag")},Q=function(){y("redFlag"!==r,d,"redFlag")},ee=function(){if(n){var e=h.map((function(e){return e.id}));R(e)}else R(d)},te=function(){return a.a.createElement(L.a,{selectable:!1},q||J([u.a.DRAFT])||n?"":$&&[a.a.createElement(L.a.Item,{key:"1-6",onClick:function(){return w(d,!1)}},"带附件回复"),a.a.createElement(L.a.Item,{key:"1-7",onClick:function(){return w(d,!0)}},"带附件回复全部")],J([u.a.SENT])&&!n?(null==f?void 0:f.isrcl)?a.a.createElement(L.a.Item,{key:"1-1",onClick:function(){return v(d)}},"查看撤回结果"):a.a.createElement(L.a.Item,{key:"1-1",onClick:function(){return v()}},"撤回"):"",J([u.a.DRAFT,u.a.WAITINGISSUE,u.a.READYISSUE])||n?"":a.a.createElement(L.a.Item,{key:"1-2",onClick:function(){return g(d,n)}},"移动"),K||J([u.a.DRAFT,u.a.SENT,u.a.DELETED,u.a.SPAM])||n?"":a.a.createElement(L.a.Item,{key:"1-3",onClick:X},U?"标为未读":"标为已读"),!q&&3!==c&&!n&&2!==c&&a.a.createElement(L.a.Item,{key:"report"},a.a.createElement(D.a,{mailId:d,hasReport:5===c,senderEmail:G})),!q&&5===c&&!n&&2!==c&&a.a.createElement(L.a.Item,{key:"report-1"},a.a.createElement(D.a,{mailId:d,hasReport:!1,senderEmail:G})),K||J([u.a.REDFLAG,u.a.DELETED,u.a.SPAM,u.a.DRAFT])||!T||0!==M||n?"":a.a.createElement(L.a.Item,{key:"1-5",onClick:function(){T&&T(!l,d)}},l?"取消置顶":"置顶"),K||n?"":a.a.createElement(L.a.Divider,{key:"divider2"}),J([u.a.DRAFT])?"":a.a.createElement(L.a.Item,{key:"1-9",onClick:function(){return I([d])}},"新窗口打开"),n||J([u.a.DRAFT])?"":a.a.createElement(L.a.Item,{key:"1-4",onClick:function(){return O(h[0])}},"打印邮件"),!q&&a.a.createElement(L.a.Item,{key:"2-1",onClick:ee},n?"导出聚合邮件":"导出邮件"))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"u-tool",hidden:n,style:{backgroundColor:"#fff",top:Object(bt.g)(!0)}},J([u.a.DRAFT,u.a.SENT])?a.a.createElement("div",{className:"u-tool-group"},a.a.createElement(_.a,{placement:"bottom",title:"重新编辑",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return S(d)}},a.a.createElement(x.b.MailEditSvg_Cof,null))),a.a.createElement("div",{className:"u-tool-line"},a.a.createElement("div",{className:"line"}))):"",J([u.a.DRAFT])?"":a.a.createElement("div",{className:"u-tool-group"},a.a.createElement(_.a,{placement:"bottom",title:"回复",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return b(d,!1)}},a.a.createElement(x.b.ReplySvgCof,null))),a.a.createElement(_.a,{placement:"bottom",title:"回复全部",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return b(d,!0)}},a.a.createElement(x.b.ReplyAllSvgCof,null))),a.a.createElement(_.a,{placement:"bottom",title:"转发",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return E(d)}},a.a.createElement(x.b.TransmitSvg_Cof,null)))),K||J([u.a.DELETED,u.a.SPAM])?"":B?a.a.createElement(_.a,{placement:"bottom",title:"取消红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:Z},a.a.createElement(x.b.RedFlagSvg,null))):a.a.createElement(_.a,{placement:"bottom",title:"标为红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:Z},a.a.createElement(x.b.FlagSvg_Cof,null))),q||J([u.a.DRAFT,u.a.SPAM,u.a.DELETED])?"":a.a.createElement(z.a,{overlayClassName:"u-tree-dropmenu",overlay:a.a.createElement(j.a,{mailList:h,isMerge:n,Close:function(){P(!1)}}),trigger:["click"],placement:"bottomLeft",visible:A,onVisibleChange:function(e){P(e)}},a.a.createElement(_.a,{placement:"bottom",title:"打标签",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn"},a.a.createElement(x.b.TagSvg_Cof,null)))),J([u.a.DELETED])?a.a.createElement(_.a,{placement:"bottom",title:"彻底删除",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return C(d)}},a.a.createElement(x.b.RecycleSvg_Cof,null))):a.a.createElement(_.a,{placement:"bottom",title:"删除",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return C(d)}},a.a.createElement(x.b.RecycleSvg_Cof,null))),J([u.a.DRAFT])?"":a.a.createElement(_.a,{placement:"bottom",title:"更多操作",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement(z.a,{overlayClassName:"u-tree-dropmenu",overlay:te,trigger:["contextMenu","click"]},a.a.createElement("div",{className:"u-tool-btn"},a.a.createElement(x.b.MoreSvg_Cof,null))))),a.a.createElement("div",{className:"u-tool",hidden:!n,style:{backgroundColor:"#f4f4f5",top:Object(bt.g)(!0)}},K||J([u.a.DELETED,u.a.SPAM])?"":"redFlag"==r?a.a.createElement(_.a,{placement:"bottom",title:"取消红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:Q},a.a.createElement(x.b.RedFlagSvg,null))):a.a.createElement(_.a,{placement:"bottom",title:"标为红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:Q},a.a.createElement(x.b.FlagSvg_Cof,null))),q||J([u.a.DRAFT,u.a.SPAM,u.a.DELETED])?"":a.a.createElement(z.a,{overlayClassName:"u-tree-dropmenu",overlay:a.a.createElement(j.a,{isMerge:n,mailList:[m],Close:function(){H(!1)}}),trigger:["click"],placement:"bottomLeft",visible:W,onVisibleChange:function(e){H(e)}},a.a.createElement(_.a,{placement:"bottom",title:"打标签",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn"},a.a.createElement(x.b.TagSvg_Cof,null)))),J([u.a.DELETED])?a.a.createElement(_.a,{placement:"bottom",title:"彻底删除",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return C(d,!0)}},a.a.createElement(x.b.RecycleSvg_Cof,null))):a.a.createElement(_.a,{placement:"bottom",title:"删除",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return C(d,!0)}},a.a.createElement(x.b.RecycleSvg_Cof,null))),J([u.a.DRAFT])?"":a.a.createElement(_.a,{placement:"bottom",title:"移动",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){return g(d,!0)}},a.a.createElement(x.b.MoveSvg_Cof,null))),K||J([u.a.REDFLAG,u.a.DELETED,u.a.SPAM,u.a.DRAFT])||!T||0!==M?"":a.a.createElement(_.a,{placement:"bottom",title:l?"取消置顶":"置顶",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-tool-btn",onClick:function(){T&&T(!l,d)}},l?a.a.createElement(x.b.MailUnTopSvg,null):a.a.createElement(x.b.MailTopSvg,null))),q||J([u.a.DRAFT])?"":a.a.createElement(_.a,{placement:"bottom",title:"更多操作",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement(z.a,{overlayClassName:"u-tree-dropmenu",overlay:te,trigger:["contextMenu","click"]},a.a.createElement("div",{className:"u-tool-btn"},a.a.createElement(x.b.MoreSvg_Cof,null))))))},Ct=n("qxRK"),xt=n("BmoJ"),It=n.n(xt),Tt=n("33J5"),Ot=n("v8Vq");n("+IzI");function Rt(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rt(i,r,o,a,l,"next",e)}function l(e){Rt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zt=s.f.api.requireLogicalApi(s.h.mailApiImpl),Pt=["?","？",",","，","!","！",";","；",".","。",""],Nt=a.a.forwardRef((function(e,t){var n=e.mid,r=e.mailContent,o=Object(i.useRef)(null),l=Object(i.useRef)(),d=[{text:"好的",priority:100},{text:"收到",priority:99},{text:"太棒了",priority:98},{text:"谢谢",priority:97},{text:"OK",priority:96},{text:"辛苦了",priority:95},{text:"合作愉快",priority:94},{text:"同意",priority:93}],f=kt(Object(i.useState)([]),2),h=f[0],m=f[1],v=kt(Object(i.useState)(0),2),g=v[0],y=v[1],S=kt(Object(i.useState)(""),2),b=S[0],w=S[1],E=kt(Object(i.useState)(),2),I=E[0],T=E[1],O=Object(p.m)(p.g).doReplyChangeExpanded,R=Object(p.o)((function(e){return e.mailReducer.replyExpandedId})),M=kt(Object(i.useState)(!0),2),k=M[0],A=M[1],P=kt(Object(i.useState)(""),2),N=P[0],j=P[1],D=kt(Object(i.useState)(),2),F=D[0],W=D[1],H=s.f.api.getSystemApi(),G=kt(Object(i.useState)(!1),2),U=G[0],B=G[1],V=kt(Object(i.useState)(!1),2),q=V[0],K=V[1],Y=kt(Object(i.useState)({}),2),$=Y[0],J=Y[1],X=Object(i.useMemo)((function(){return null==r?void 0:r.receiver}),[q]);Object(i.useEffect)((function(){try{var e=window.localStorage.getItem("QuickRespondPhraseKey"),t=JSON.parse(e);Array.isArray(t)?m(t):(m(d),window.localStorage.setItem("QuickRespondPhraseKey",JSON.stringify(d)))}catch(n){m(d)}}),[n]),Object(i.useImperativeHandle)(t,(function(){return{update:function(){O("")}}}));var Z=function(e){Object(Tt.a)({type:"suc",content:"已切为“回复".concat(e?"全部":"","”")}),A(e)},Q=a.a.useCallback((function(){return o.current||document.body}),[o.current]),ee=function(e){var t=Object(u.D)(l.current),r=b[t.start-1]||"",o=Pt.includes(r)?e:", ".concat(e),i=(null==b?void 0:b.substring(0,t.start))+o+(null==b?void 0:b.substring(t.start,b.length));w(i),y(null==i?void 0:i.length),O(n)},te=function(e){try{var t=window.localStorage.getItem("QuickRespondPhraseKey"),n=JSON.parse(t),r=n.findIndex((function(t){return t.text===e}));n[r].priority=Date.now(),window.localStorage.setItem("QuickRespondPhraseKey",JSON.stringify(n))}catch(o){}},ne=function(){var e=Mt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,zt.doReplayMail(n,k,!0,b);case 3:t=e.sent,zt.doFastSend(t).then((function(e){var t=e.errMsg;if(t)return J(t),void K(!0);Object(Tt.a)({type:"suc",content:"发送成功"}),w(""),O("")})).finally((function(){setTimeout((function(){B(!1)}),1e3)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Mt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.next=3,zt.doReplayMail(n,k,!0,b);case 3:t=e.sent,zt.callWriteLetterFunc(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Object(u.Q)(l.current,g)}),[b]),Object(i.useEffect)((function(){R==n&&(l.current.focus(),Object(u.Q)(l.current,b.length))}),[R,n]);var oe=function(){var e=Mt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zt.doLoadMailInitParamLocal(n)){e.next=5;break}return e.next=4,zt.doReplayMail(n,k,!0,"");case 4:t=e.sent;case 5:T(t),w(t.originContent||""),zt.doGetReplayContentModel(t).then((function(e){var t,n=null===(t=H.getCurrentUser())||void 0===t?void 0:t.id,r=[];e.receiver.forEach((function(e){e.contact.contact.accountName!==n&&r.push(e.contact.contact.contactName)})),j(r.join("、")),W(e.receiver.filter((function(e){return e.contact.contact.accountName!==n})).length),e.receiver.length<=1&&A(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){n&&oe().then()}),[n]),Object(i.useEffect)((function(){}),[]),a.a.createElement(It.a,{onOutsideClick:function(){R&&O("")}},a.a.createElement("div",{className:"m-reply",ref:o},a.a.createElement("div",{className:"u-reply-text",hidden:R!=n},h.length>0&&h.sort((function(e,t){return t.priority-e.priority})).map((function(e){var t=e.text;return a.a.createElement("span",{onClick:function(){te(t),ee(t)},key:t,className:"text"},t)}))),a.a.createElement("div",{className:"u-reply-textarea",hidden:R!=n},a.a.createElement("textarea",{className:"textarea",ref:l,onChange:function(e){var t=Object(u.D)(l.current);w(e.target.value),y(t.start)},onBlur:function(){zt.doSaveMailInitParamLocal(Object.assign(Object.assign({},I),{originContent:b}))},value:b}),a.a.createElement(_.a,{getPopupContainer:Q,title:"打开完整回复窗口",mouseEnterDelay:.3,mouseLeaveDelay:.15},a.a.createElement("div",{className:"u-reply-expand",onClick:function(){return re()}},a.a.createElement(x.b.EditorSvg,null)))),a.a.createElement("div",{className:"u-reply"},a.a.createElement("div",{className:C()(["u-reply-input",R===n?"expand":""]),style:{maxWidth:R!=n?"calc(100% - 48px)":k?"calc(100% - 80px)":"calc(100% - 68px)"}},a.a.createElement(z.a,{getPopupContainer:Q,overlayClassName:"u-tree-dropmenu",overlay:function(){return a.a.createElement(L.a,{selectedKeys:[k?"2":"1"],className:"u-reply-tooltip-menu"},a.a.createElement(L.a.Item,{key:"1",onClick:function(){Z(!1)}},a.a.createElement("span",{className:"u-reply"},a.a.createElement(x.b.ReplySvgCof,{color:k?"#262A33":"#386EE7"})),a.a.createElement("span",{className:"u-status-menu-text menu",style:{color:k?"#262A33":"#386EE7"}},"回复")),a.a.createElement(L.a.Item,{key:"2",onClick:function(){return Z(!0)}},a.a.createElement("span",{className:"u-reply"},a.a.createElement(x.b.ReplyAllSvgCof,{color:k?"#386EE7":"#262A33"})),a.a.createElement("span",{className:"u-status-menu-text menu",style:{color:k?"#386EE7":"#262A33"}},"回复全部")))},trigger:["contextMenu","click"]},a.a.createElement(_.a,{getPopupContainer:Q,title:k?"回复全部":"回复",mouseLeaveDelay:.15,trigger:["hover","click"]},a.a.createElement("div",{className:"u-reply-menu"},a.a.createElement("span",{className:"u-reply-menu-reply"},k?a.a.createElement(x.b.ReplyAllSvgCof,null):a.a.createElement(x.b.ReplySvgCof,null)),a.a.createElement("span",{className:"u-reply-menu-xiala"},a.a.createElement(x.b.XialaSvg,null))))),a.a.createElement("div",{className:"u-reply-content",onClick:function(){return O(n)}},a.a.createElement("div",{className:"u-reply-content-name"},b&&R!=n?b:"快捷回复".concat(k?"全部":"").concat(k&&R!=n?"":"：".concat(k?N:null==r?void 0:r.sender.contact.contact.contactName))),a.a.createElement("div",{className:"u-reply-content-more",hidden:void 0===F||1===F||R!=n||!k},"共".concat(F,"人"))),a.a.createElement("div",{className:"u-reply-text",hidden:R==n||!!b},h.slice(0,4).map((function(e){var t=e.text;return a.a.createElement("span",{onClick:function(){te(t),ee(t)},key:t,className:"text"},t)})))),a.a.createElement("div",{className:"u-reply-btn",hidden:R==n,onClick:function(){zt.doForwardMail(n).then((function(e){return zt.callWriteLetterFunc(e)}))}},"转发"),a.a.createElement(c.a,{type:"primary",className:"u-send-btn",loading:U,onClick:ne,hidden:R!=n,disabled:!b||U,style:{width:k?"80px":"68px"}},k?"回复全部":"回复"))),q&&a.a.createElement(Ot.a,{visible:q,setVisible:K,receiver:X,errorMsg:$,confirm:function(e){},hideReSend:!0}))}));function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dt=function(e){var t=e.mid,n=e.content,r=e.nofix,o=Lt(Object(i.useState)(),2),l=o[0],c=o[1];return a.a.createElement(Ct.a,{bounds:!0,onResize:function(e){var t;c(null===(t=e.bounds)||void 0===t?void 0:t.width)}},(function(e){var o,i=e.measureRef;return a.a.createElement("div",{ref:i,style:r?{height:"64px"}:void 0},2===(null===(o=null==n?void 0:n.entry)||void 0===o?void 0:o.folder)?"":a.a.createElement("div",{className:r?"u-read-reply":"u-read-fixed",style:{width:r?"100%":l}},a.a.createElement(Nt,{mid:t,mailContent:n})))}))},Ft=n("D57K"),Wt=function(e){var t=e.children,n=Object(Ft.__rest)(e,["children"]),r=Object(i.useRef)(null);return a.a.createElement(ee,{targetNode:r.current},a.a.createElement("div",Object.assign({ref:r},n),t))};function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ut=M.a.Panel,Bt=s.f.api.requireLogicalApi("mailConfApiImpl"),Vt=(s.f.api.getEventApi(),function(e){var t,n,r,o=e.printMail,l=e.handleMove,c=e.handleEdit,d=e.handleApply,f=e.handleApplyWithAttach,h=e.handleReward,m=e.handleDelete,v=e.handleExport,g=e.handleRemark,y=e.onChangeMail,S=e.handleDeleteTag,b=e.handleWithDraw,w=e.onTop,_=e.openNewWindow,E=e.id,C=e.allFolder,T=e.isMerge,O=e.selectedKeys,R=e.activeKey,z=e.selected,P=e.content,N=e.mark,L=e.readStatus,j=e.groupTags,D=e.listData,F=e.mailList,W=e.mailDataList,H=s.f.api.getSystemApi(),G=Object(p.o)((function(e){return e.mailReducer.mailEditShow})),U=Object(i.useRef)([]),B=Object(i.useRef)(null),V=Ht(Object(i.useState)(),2),q=V[0],K=V[1],Y=Ht(Object(i.useState)([]),2),$=Y[0],J=Y[1];Object(i.useEffect)((function(){if(W&&W.length>0&&E){var e=W.find((function(e){return e.entry.id===E}));e&&K(e)}}),[E,W]),Object(i.useEffect)((function(){if(R.length>$.length){for(var e="",t=0;t<R.length;t++)if(!$.includes(R[t])){e=R[t];break}e&&Object(s.m)()&&setTimeout((function(){var t;null===(t=null==B?void 0:B.current)||void 0===t||t.osInstance().scroll(window.document.getElementById("collapse".concat(e)),200)}),500)}J(R)}),[R]);var X=function(e){F.length<=1?m&&m(E,!0,{threadId:E,showLoading:!1,showGlobalLoading:!0}):m&&m(e,!1,{isThreadSign:!0,threadId:E,showLoading:!0})};return a.a.createElement("div",{style:{visibility:G?"hidden":"visible"},className:"u-block thread-mail-warp"},a.a.createElement(Et,{mailList:[P],threadMail:q,isMerge:!0,mid:E,top:null===(t=null==P?void 0:P.entry)||void 0===t?void 0:t.top,mark:N,readStatus:L,fid:T?C:null==P?void 0:P.entry.folder,listData:D,handleWithDraw:b,handleMove:l,onMark:g,handleEdit:c,handleApply:d,handleApplyWithAttach:f,handleReward:h,handleDelete:function(e,t){m&&m(e,t,{showLoading:!1,showGlobalLoading:!0})},handleExport:v,handleMailTop:w,openNewWindow:_,folderSelected:O[0],selected:z}),a.a.createElement(k.a,{ref:B,options:{scrollbars:{autoHide:"leave",autoHideDelay:0}},className:"u-block-content"},a.a.createElement(Wt,{className:"u-block-title"},F[0].entry&&F[0].entry.title?a.a.createElement(a.a.Fragment,null,a.a.createElement("b",null,F[0].entry.title),"的所有邮件"):"无主题",F.length>1?"(".concat(F.length,")"):""),a.a.createElement("div",{className:"mail-group-tag-warp"},null==j?void 0:j.map((function(e){return a.a.createElement(A.a,{className:"tag",closeable:!0,color:Bt.getTagColor(e),onClose:function(){S(e,[P])}},e)}))),a.a.createElement("div",{className:"mail-group-wrap"},a.a.createElement(M.a,{activeKey:R,ghost:!0,onChange:y,defaultActiveKey:F&&F.length?[null===(r=null===(n=F[0])||void 0===n?void 0:n.entry)||void 0===r?void 0:r.id]:[]},F.map((function(e,t){var n,r,i,c,s,f;return a.a.createElement(Ut,{showArrow:!1,header:R.indexOf("".concat(e.entry.id))>-1?a.a.createElement(Ee,{content:e,mid:e.entry.id,folder:null==e?void 0:e.entry.folder,onScrollToAttacth:function(){return function(e){var t,n,r=null===(t=U.current[e])||void 0===t?void 0:t.getAttachRef().current;r&&(null===(n=B.current)||void 0===n||n.osInstance().scroll(r))}(t)},isMerge:T,selectedKeys:O,handleApply:d,handleMove:l,handleDelete:X,handleExport:v,handleWithDraw:b,onMark:g,printMail:o,openNewWindow:_}):a.a.createElement("div",{className:"u-item-block"},a.a.createElement(I.a,{size:32,user:{color:null===(n=null==e?void 0:e.sender.contact)||void 0===n?void 0:n.contact.color,name:null===(r=null==e?void 0:e.sender.contact)||void 0===r?void 0:r.contact.contactName,avatar:null===(i=null==e?void 0:e.sender.contact)||void 0===i?void 0:i.contact.avatar}}),a.a.createElement("div",{className:"u-item-block-content"},a.a.createElement("div",{className:"u-item-block-read",hidden:"read"===e.entry.readStatus}),(null===(c=H.getCurrentUser())||void 0===c?void 0:c.id)===(null==e?void 0:e.sender.contact.contact.accountName)?"我":null==e?void 0:e.sender.contact.contact.contactName),a.a.createElement("div",{className:"u-item-block-text"},null===(s=null==e?void 0:e.entry.brief)||void 0===s?void 0:s.trim()),a.a.createElement("div",{className:"u-item-block-svg"},e.entry.attachmentCount&&e.entry.attachmentCount>0?a.a.createElement(x.b.AttachSvgLarge,null):"","redFlag"===e.entry.mark?a.a.createElement("span",{onClick:function(t){t.stopPropagation(),g(!1,null==e?void 0:e.id,"redFlag")}},a.a.createElement(x.b.RedFlagSvg,null)):a.a.createElement("span",{onClick:function(t){t.stopPropagation(),g(!0,null==e?void 0:e.id,"redFlag")},className:"flag"},a.a.createElement(x.b.FlagSvg,null))),a.a.createElement("div",{className:"u-item-block-time"},Object(u.r)(null==e?void 0:e.entry.sendTime))),key:e.entry.id,id:"collapse"+e.entry.id},a.a.createElement(St,{merge:!0,ref:function(e){e&&(U.current[t]=e)},content:e,mid:E}),a.a.createElement(Dt,{content:e,mid:null===(f=null==e?void 0:e.entry)||void 0===f?void 0:f.id,nofix:F.length>0&&T}))}))))))});function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yt=function(e){var t=e.content,n=qt(Object(i.useState)(!1),2),r=n[0],o=n[1];return Object(i.useEffect)((function(){t&&xe()(t.entry.sendTime).unix()>xe()(t.entry.receiveTime).unix()&&xe()(t.entry.sendTime).unix()>xe()().unix()&&4!==t.entry.folder?o(!0):o(!1)}),[t]),r?a.a.createElement("div",{className:"mail-schedule"},a.a.createElement("span",{className:"pre-icon"},a.a.createElement(x.b.ScheduleSvgCof,{color:"#FFF"})),a.a.createElement("p",{className:"content"},"这封邮件将于",a.a.createElement("span",{className:"content-time"},xe()(t.entry.sendTime).format("YYYY-MM-DD HH:mm")),"投递到对方邮箱")):a.a.createElement(a.a.Fragment,null)},$t=function(e){var t,n,r,o=e.printMail,l=e.handleMove,c=e.handleEdit,s=e.handleApply,u=e.handleApplyWithAttach,d=e.handleReward,f=e.handleDelete,h=e.handleExport,m=e.handleRemark,p=e.handleWithDraw,v=e.onMark,g=e.onTop,y=e.openNewWindow,S=e.refreshData,b=e.id,w=e.selectedKeys,_=e.selected,E=e.content,C=e.mark,x=e.priority,I=e.readStatus,T=e.listData,O=e.mailListResizeProcessing,R=Object(i.useRef)([]),M=Object(i.useRef)(null);return a.a.createElement("div",{className:"mail-read-content-wrap single-mail-warp"},O&&a.a.createElement("div",{className:"mail-read-content-mask"}),a.a.createElement(Et,{mailList:[E],mid:b,mark:C,top:null===(t=null==E?void 0:E.entry)||void 0===t?void 0:t.top,readStatus:I,fid:null===(n=null==E?void 0:E.entry)||void 0===n?void 0:n.folder,listData:T,handleWithDraw:p,handleMove:l,onMark:m,handleEdit:c,handleApply:s,handleApplyWithAttach:u,handleReward:d,handleDelete:f,printMail:o,handleMailTop:g,handleExport:h,openNewWindow:y,folderSelected:w[0],selected:_}),a.a.createElement(k.a,{ref:M,options:{scrollbars:{autoHide:"leave",autoHideDelay:0}},className:"mail-read-content"},a.a.createElement(Ee,{content:E,listData:T,mid:b,priority:x,folder:null===(r=null==E?void 0:E.entry)||void 0===r?void 0:r.folder,onScrollToAttacth:function(){return function(e){var t,n,r=null===(t=R.current[e])||void 0===t?void 0:t.getAttachRef().current;r&&(null===(n=M.current)||void 0===n||n.osInstance().scroll(r))}(0)},selectedKeys:w,handleApply:s,handleMove:l,handleDelete:f,handleMailTop:g,handleWithDraw:p,onMark:v,refreshData:S,printMail:o,handleExport:h,openNewWindow:y}),a.a.createElement(Yt,{content:E}),a.a.createElement(St,{ref:function(e){e&&(R.current[0]=e)},content:E,mid:b})),a.a.createElement(Dt,{content:E,mid:b}))},Jt=function(){return a.a.createElement("div",{style:{padding:"30px",position:"absolute",left:0,top:0,width:"100%",background:"#FFFFFF",height:"100%",overflow:"hidden"}},a.a.createElement(ne.b,null,a.a.createElement(Me.a.Button,{active:!0,shape:"round"}),a.a.createElement(Me.a.Button,{active:!0,shape:"round"}),a.a.createElement(Me.a.Button,{active:!0,shape:"round"}),a.a.createElement(Me.a.Button,{active:!0,shape:"round"}),a.a.createElement(Me.a.Button,{active:!0,shape:"round"}),a.a.createElement(Me.a.Button,{active:!0,shape:"round"})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(Me.a,{paragraph:{rows:0},size:"large"}),a.a.createElement(Me.a,{avatar:!0,paragraph:{rows:1}}),a.a.createElement("br",null),a.a.createElement(Me.a,{active:!0,paragraph:{rows:100}}))},Xt=n("WsOz"),Zt=n("uXD/"),Qt=n("ps6S"),en=n("Pvw5"),tn=n("5EZz");function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var on=a.a.forwardRef((function(e,t){var n=e.content,r=nn(Object(i.useState)(0),2),o=r[0],l=r[1],s=nn(Object(i.useState)(!1),2),u=s[0],f=s[1],h=nn(Object(i.useState)(!1),2),m=h[0],p=h[1],g=nn(Object(i.useState)(null),2),y=g[0],S=g[1],b=(null==n?void 0:n.receiver)||[],w=Object(i.useRef)(null),_=function(e){var t=b.filter((function(t){return t.mailMemberType===e}));return t.length>0?a.a.createElement("p",{className:"detail"},a.a.createElement("span",{className:"detail-key"},"to"===e?"收件人":"cc"===e?a.a.createElement(a.a.Fragment,null,"抄 送"):"密&emsp;送","："),a.a.createElement("span",{className:"detail-val"},t.map((function(e,t){var n=e.contact.contact,r=n.contactName,o=n.accountName;return"".concat(t>0?"、":"").concat(r," ").concat(o)})))):""},E=Object(en.useReactToPrint)({content:function(){return w.current},onBeforePrint:function(){return clearInterval(y),S(null),l(100),setTimeout((function(){f(!1)}),200),m?(p(!1),Promise.reject()):Promise.resolve()},onBeforeGetContent:function(){l(20),S(setInterval((function(){l((function(e){return 80===e?80:e+5}))}),1e3)),f(!0)}});return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{onClick:E,ref:t,style:{display:"none"}},"打印邮件"),a.a.createElement(d.a,{footer:null,closable:!1,visible:u,width:"400px",closeIcon:a.a.createElement(v.o,null)},a.a.createElement("p",{style:{marginBottom:"16px"}},"正在生成要打印的内容..."),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a.a.createElement(tn.a,{percent:o,showInfo:!1,status:"active",style:{width:"240px"}}),a.a.createElement(c.a,{style:{width:"80px",height:"32px"},onClick:function(){p(!0),f(!1)}},"取消"))),a.a.createElement("div",{className:"printPageBox",style:{display:"none"}},a.a.createElement("div",{ref:w,className:"print"},a.a.createElement("p",{className:"title"},null==n?void 0:n.entry.title),a.a.createElement("p",{className:"detail"},a.a.createElement("span",{className:"detail-key"},"发件人："),a.a.createElement("span",{className:"detail-val"},null==n?void 0:n.sender.contact.contact.contactName," ",null==n?void 0:n.sender.contact.contact.accountName)),_("to"),_("cc"),a.a.createElement("p",{className:"detail"},a.a.createElement("span",{className:"detail-key"},"时 间："),a.a.createElement("span",{className:"detail-val"},null==n?void 0:n.entry.sendTime)),a.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:null==n?void 0:n.entry.content.content}}))))})),an=n("WqIs");function ln(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||un(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||un(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fn=s.f.api.requireLogicalApi(s.h.mailApiImpl),hn=s.f.api.getSystemApi(),mn=s.f.api.getEventApi();t.a=function(e){var t=e.id,n=e.onMove,r=e.onDelete,s=e.openNewWindow,d=e.empty,f=e.isMerge,h=e.canShowMultPanel,m=e.activeIds,v=e.mailDataList,g=e.selectedKeys,y=e.selected,w=e.mailListResizeProcessing,_=void 0!==w&&w,E=e.openInNewWindow,C=void 0!==E&&E,x=e.threadMailIds,I=void 0===x?[]:x,T=sn(Object(i.useState)(null),2),O=T[0],M=T[1],k=sn(Object(i.useState)(),2),A=k[0],z=k[1],P=sn(Object(i.useState)(!1),2),N=P[0],L=P[1],j=sn(Object(i.useState)(),2),D=j[0],F=j[1],W=sn(Object(i.useState)(),2),H=W[0],G=W[1],U=sn(Object(i.useState)([]),2),B=U[0],V=U[1],q=sn(Object(i.useState)(),2),K=q[0],Y=(q[1],sn(Object(i.useState)(),2)),$=Y[0],J=Y[1],X=sn(Object(i.useState)([]),2),Z=X[0],Q=X[1],ee=sn(Object(i.useState)([]),2),te=ee[0],ne=ee[1],re=sn(Object(i.useState)(!1),2),oe=re[0],ie=re[1],ae=sn(Object(i.useState)(),2),le=ae[0],ce=ae[1],se=Object(p.m)(Xt.g),ue=Object(an.a)(),de=ue(fn.doGetThreadMailContent.bind(fn)),fe=ue(fn.doGetThreadMailContentFromDb.bind(fn)),he=ue(fn.doGetMailContent.bind(fn)),me=ue(fn.doGetMailTypeById.bind(fn)),pe=Object(i.useRef)(null),ve=sn(Object(i.useState)(!1),2),ge=ve[0],ye=ve[1],Se=sn(Object(i.useState)(!1),2),be=Se[0],we=Se[1],_e=sn(Object(i.useState)(!!f),2),Ee=_e[0],Ce=_e[1],xe=Object(p.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode})),Ie=Object(p.o)((function(e){return e.mailReducer.onGuidePage})),Te=function(e){ye(!1),M(e),F(e.entry.mark),z(e.entry.priority),G(e.entry.readStatus),V(e.tags||[]),e.entry.folder===u.a.SENT&&fn.doCheckReadStatus(t).then((function(e){var t=Object(u.q)(e.detail);J(t)}))},Oe=function(e,t,n,r){var o="";"read"===n?o=e?"read":"unread":"redFlag"===n&&(o=e?"mark":"unmark"),mn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:t,type:n,hideMessage:r,ids:I},eventStrData:o})},Re=function(e,t,n,r){Oe&&(ie(!0),Oe(e,xe?I:t,n,r))},Me=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ee,e.prev=1,xe){e.next=7;break}return e.next=5,me(t);case 5:"thread"===(r=e.sent)?(Ce(!0),n=!0):"normal"===r&&(Ce(!1),n=!1);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:if(t&&null==O&&we(!0),t){e.next=14;break}return e.abrupt("return");case 14:n?(xe||fn.doGetThreadMailById(t).then((function(e){e&&Te(Object(u.k)(e))})),de(t,!1,null,I).then((function(e){e&&e.length&&(1===e.length?he(e[0].id,!1,oe).then((function(t){var n=Object(u.k)(t);e[0]=n,xe&&(n.isThread=f,Te(n)),ne(e),Q([t.entry.id]),"unread"===t.entry.readStatus&&Re(!0,t.id,"read",!0)})).catch((function(e){"请求已被用户取消"!==e&&ye(!0)})).finally((function(){we(!1)})):(ne(e),we(!1)))}))):he(t,!1,oe).then((function(e){var t=Object(u.k)(e);Te(t),ne([t]),"unread"===e.entry.readStatus&&Re(!0,e.id,"read",!0)})).catch((function(e){"请求已被用户取消"!==e&&ye(!0)})).finally((function(){we(!1)})),ie(!1);case 16:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cn(i,r,o,a,l,"next",e)}function l(e){cn(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();Object(i.useEffect)((function(){Me()}),[t]),Object(i.useEffect)((function(){var e=mn.registerSysEventObserver("mailSwitch",(function(e){"Start"===e.eventData&&se.doMailEditShow(!0),"End"===e.eventData&&se.doMailEditShow(!1)}));return function(){mn.unregisterSysEventObserver("mailSwitch",e)}}),[]);var ke=function(e,t){var n=e?"top":"unTop";mn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:t,isThread:Ee},eventStrData:n})};Object(Zt.a)("mailTagChanged",(function(e){!function(e,t,n){var r=e.eventData,o=e.eventStrData,i=r.tagNames,a=void 0===i?[]:i,l=r.oldTag,c=r.updateTag,s=(null==t?void 0:t.tags)||[];if(n&&n.length){var u=ln(n);"cleartag"===o?(u.forEach((function(e){e.tags&&(e.tags=e.tags.filter((function(e){return!a.includes(e)})))})),ne(u),M(Object.assign(Object.assign({},t),{tags:null==s?void 0:s.filter((function(e){return!a.includes(e)}))}))):"updateTag"===o&&(u.forEach((function(e){e.tags&&(e.tags=e.tags.map((function(e){return e===l?c:e})))})),ne(u),M(Object.assign(Object.assign({},t),{tags:s.map((function(e){return e===l?c:e}))})))}}(e,o()(O),o()(te))})),Object(Zt.a)("mailChanged",(function(e){var n=(e.eventData||{}).threadId;"refreshThreadContent"===e.eventStrData&&((n&&n instanceof Set?n.has(String(t)):n===t)&&fe(t).then((function(e){if(e&&e.length){var t=e.map((function(e){return Object(u.k)(e)}));1===e.length?he(t[0].id,!1,oe).then((function(e){var n=Object(u.k)(e);t[0]=n,ne(t),Q([e.entry.id]),"unread"===e.entry.readStatus&&Re(!0,e.id,"read",!0)})):ne(t)}})))}));var Ae=function(e){var t=e.eventData,n=e.eventStrData;t.params.id;if(te&&te.length){var r=ln(te);"redFlag"!==n||"local"!==t.status&&"fail"!==t.status?"read"!==n||"local"!==t.status&&"fail"!==t.status?"tag"!==n||"local"!==t.status&&"fail"!==t.status||r.forEach((function(e){var n=t.result.get(e.entry.id);n&&(e.tags=n.tags)})):(r.forEach((function(e){var n=t.result.get(e.entry.id);n&&(e.entry=Object.assign(Object.assign({},e.entry),{readStatus:n.readStatus?"read":"unread"}))})),ne(r)):(r.forEach((function(e){var n=t.result.get(e.entry.id);n&&(e.entry=Object.assign(Object.assign({},e.entry),{mark:n.redFlag?"redFlag":"none"}))})),ne(r))}if(O&&("local"===t.status||"fail"===t.status)&&t.result.get(O.id))if("redFlag"===n){var o=Object.assign(Object.assign({},O),{entry:Object.assign(Object.assign({},O.entry),{mark:t.result.get(O.id).redFlag?"redFlag":"none"})});Te(o)}else if("read"===n){var i=Object.assign(Object.assign({},O),{entry:Object.assign(Object.assign({},O.entry),{readStatus:t.result.get(O.id).readStatus?"read":"unread"})});Te(i)}else if("tag"===n){var a=Object.assign(Object.assign({},O),{tags:t.result.get(O.id).tags});Te(a)}};Object(Zt.a)("mailStatesChanged",(function(e){var t=e.eventData,n=e.eventStrData,r=t.id,o="string"==typeof r||"number"==typeof r?[r]:r;if(te&&te.length){var i=ln(te);if("top"===n||"unTop"===n)i.forEach((function(e){o.includes(e.entry.id)&&(e.entry.top=!0)})),ne(i);else if("reply"===n){var a=t.replayed,l=t.forwarded;i.forEach((function(e){o.includes(e.entry.id)&&(e.entry.replayed=a,e.entry.forwarded=l)})),ne(i)}else if("deleteThreadSignMailSucces"===n){var c=t.threadId;r&&c&&c&&fe(c).then((function(e){if(e&&e.length){var t=e.map((function(e){return Object(u.k)(e)}));if(ne(t),Z&&Z.length)for(var n=function(e){var t=Z[e];if(t!=r){var n=i.findIndex((function(e){return e.entry.id==t})),o=i[n];o&&!o.entry.content.content&&he(o.entry.id,!1).then((function(e){var t=Object(u.k)(e),r=[].concat(r);r[n]=t,ne(r)})).catch((function(e){"请求已被用户取消"!==e&&ye(!0)})).finally((function(){we(!1)}))}},o=0;o<Z.length;o++)n(o)}})),ne(i)}}if(O&&o&&o.length&&o.includes(O.id))if("top"===n||"unTop"===n){var s=t.mark,d=(t.id,Object.assign({},O));d.entry.top=s,Te(d)}else if("reply"===n){var f=t.replayed,h=t.forwarded,m=Object.assign({},O);m.entry.replayed=f,m.entry.forwarded=h,Te(m)}})),hn.isElectron()?Object(Zt.a)("mailOperation",Ae):Object(Zt.a)("mailOperationWeb",Ae);var ze,Pe=function(){fn.doCheckReadStatus(t).then((function(e){var t=Object(u.q)(e.detail);J(t)}))},Ne=function(e,t){if(n&&e){var r=e;xe&&(r=I),n(r,O.entry.folder,t)}},Le=function(e){fn.doEditMail(e,2==O.entry.folder)},je=function(e,t){fn.doReplayMail(e,t)},De=function(e,t){fn.doReplayMailWithAttach(e,t)},Fe=function(e){fn.doForwardMail(e)},We=function(e,t,n){if(r){var o=e;xe&&(o=I),r(o,t,Object.assign({isScheduleSend:!!Object(u.L)(O)},n))}},He=function(e){fn.doExportMail(e,O.entry.title).catch((function(){st.a.error({content:"导出失败，请稍后重试"})}))},Ge=function(e){var n,r,o,i,a,c=(null===(r=null===(n=hn.getCurrentUser())||void 0===n?void 0:n.prop)||void 0===r?void 0:r.accountAlias)||[],s=null===(a=null===(i=null===(o=null==O?void 0:O.sender)||void 0===o?void 0:o.contact)||void 0===i?void 0:i.contact)||void 0===a?void 0:a.accountName;if(null==c?void 0:c.includes(s))if((new Date).getTime()-new Date(null==O?void 0:O.entry.receiveTime).getTime()>1296e6)var d=b.a.warn({title:"撤回失败",content:"此邮件距发送时已超过15天，无法撤回",funcBtns:[{text:"确认",type:"primary",onClick:function(e,t){d.destroy()}}]});else if(e)fn.doCheckReadStatus(t).then((function(e){if(e.detail.length){var t=Object(u.q)(e.detail);J(t),L(!0)}}));else{if("true"==localStorage.getItem("backNmr")){var f="withdraw....";return l.b.loading({content:"正在撤回邮件...",key:f}),void fn.doWithdrawMail(t,null==$?void 0:$.tid).then((function(e){l.b.destroy(f),Ue(t)}))}var h=b.a.warn({title:"确定要撤回吗？",content:"撤回成功后，对方将只能看到主题，并得到已被撤回的提示",nmrText:"不再提醒",funcBtns:[{text:"取消",onClick:function(){return h.destroy()}},{text:"撤回",type:"primary",nmr:!0,onClick:function(e,n){n&&localStorage.setItem("backNmr","true");var r="withdraw....";l.b.loading({content:"正在撤回邮件...",key:r}),fn.doWithdrawMail(t,null==$?void 0:$.tid).then((function(e){l.b.destroy(r),h.destroy(),Ue(t)}))}}]})}else var m=b.a.warn({title:"撤回失败",content:"此邮件发件人不是当前帐号，无法撤回",funcBtns:[{text:"确认",type:"primary",onClick:function(e,t){m.destroy()}}]})},Ue=function(e){fn.doCheckReadStatus(e).then((function(e){var t,n;if(e.detail.length){var r=Object(u.q)(e.detail),o=null===(t=r.data)||void 0===t?void 0:t.filter((function(e){return"suc"===e.status}));J(r),(null==o?void 0:o.length)===(null===(n=r.data)||void 0===n?void 0:n.length)?l.b.success({content:"全部撤回成功",duration:2}):L(!0)}else l.b.warn({content:"全部撤回失败",duration:2})}))},Be=function(e){ce(e),setTimeout((function(){var e;null===(e=null==pe?void 0:pe.current)||void 0===e||e.click()}),0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{hidden:!h,className:"u-read-wrapper",style:{height:"/"!==window.location.pathname?"calc(100% - 32px)":"100%",backgroundColor:Ee&&te.length?"#f4f4f5":"#FFF"}},a.a.createElement(Qt.b,{mailDataList:v,selectedKeys:g,isMerge:Ee,onDelete:r,onMove:n,checkedMails:(ze=[],m&&v&&m.forEach((function(e){var t=v.find((function(t){return t.entry.id===e}));t&&ze.push(t)})),ze)})),a.a.createElement("div",{hidden:h,className:"u-read-wrapper",style:{height:"/"!==window.location.pathname?"calc(100% - 32px)":"100%",backgroundColor:Ee&&te.length?"#f4f4f5":"#FFF"}},t&&d&&te&&te.length?a.a.createElement(a.a.Fragment,null,Ee?a.a.createElement(Vt,{id:t,allFolder:K,isMerge:Ee,selectedKeys:g,selected:y,activeKey:Z,content:O,mark:D,readStatus:H,groupTags:B,listData:$,mailList:te,mailDataList:v,printMail:Be,handleMove:Ne,handleEdit:Le,handleApply:je,handleApplyWithAttach:De,handleReward:Fe,handleDelete:We,handleExport:He,handleRemark:Re,onChangeMail:function(e){if(e.length>Z.length){var t=e[e.length-1],n=te.find((function(e){return e.entry.id==t})),r=te.findIndex((function(e){return e.entry.id==t}));n.entry.content.content?Q(e):fn.doGetMailContent(n.id).then((function(t){ne((function(e){return e[r]=t,e})),Q(e)})),"unread"===(null==n?void 0:n.entry.readStatus)&&Re(!0,n.id,"read",!0)}else Q(e)},handleDeleteTag:function(e,t){mn.sendSysEvent({eventName:"mailTagChanged",eventData:{tagNames:[e],mailList:t},eventStrData:"untag"})},handleWithDraw:Ge,onTop:ke,openNewWindow:s}):a.a.createElement($t,{id:t,selected:y,selectedKeys:g,content:O,mark:D,priority:A,readStatus:H,listData:$,mailListResizeProcessing:_,printMail:Be,handleMove:Ne,handleEdit:Le,handleApply:je,handleApplyWithAttach:De,handleReward:Fe,handleDelete:We,handleExport:He,handleRemark:Re,handleWithDraw:Ge,onMark:Oe,onTop:ke,refreshData:Pe,openNewWindow:s})):a.a.createElement("div",{className:"u-message-empty no-select",hidden:C},a.a.createElement("img",{src:Ie.imgUrl,alt:"empty"}),a.a.createElement("div",{className:"u-empty-title"},Ie.title),a.a.createElement("div",{className:"u-empty-text"},Ie.desc),Ie.btn&&a.a.createElement("div",{className:"u-empty-btn"},Ie.btn.txt)),a.a.createElement(S,null),N?a.a.createElement(R,{readListData:$,onClose:function(){return L(!1)},visible:N,refreshData:Pe}):null,a.a.createElement("div",{hidden:!ge,className:"mail-detail-error-warp"},a.a.createElement("div",{className:"sirius-empty sirius-empty-doc"}),a.a.createElement("div",{className:"md-error-tip"},"加载失败"),a.a.createElement("div",{className:"md-btn-warp"},a.a.createElement(c.a,{type:"link",onClick:function(){we(!0),ye(!1),Me()}},"重试"))),be&&a.a.createElement(Jt,null)),le?a.a.createElement(on,{content:le,ref:pe}):"")}},YXMc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n("ERkP")),i=u(n("aWzz")),a=n("xu9V"),l=n("tsZ/"),c=u(n("7BoZ")),s=u(n("UZRo"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h={BLOCK:"block",FLEX:"flex",INLINE:"inline",INLINE_BLOCK:"inline-block",CONTENTS:"contents"},m=(0,a.forbidExtraProps)({children:i.default.node.isRequired,onOutsideClick:i.default.func.isRequired,disabled:i.default.bool,useCapture:i.default.bool,display:i.default.oneOf((0,c.default)(h))}),p={disabled:!1,useCapture:!0,display:h.BLOCK},v=function(e){function t(){var e;d(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.onMouseDown=i.onMouseDown.bind(i),i.onMouseUp=i.onMouseUp.bind(i),i.setChildNodeRef=i.setChildNodeRef.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.disabled,n=e.useCapture;t||this.addMouseDownEventListener(n)}},{key:"componentDidUpdate",value:function(e){var t=e.disabled,n=this.props,r=n.disabled,o=n.useCapture;t!==r&&(r?this.removeEventListeners():this.addMouseDownEventListener(o))}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"onMouseDown",value:function(e){var t=this.props.useCapture;this.childNode&&(0,s.default)(this.childNode,e.target)||(this.removeMouseUp&&(this.removeMouseUp(),this.removeMouseUp=null),this.removeMouseUp=(0,l.addEventListener)(document,"mouseup",this.onMouseUp,{capture:t}))}},{key:"onMouseUp",value:function(e){var t=this.props.onOutsideClick,n=this.childNode&&(0,s.default)(this.childNode,e.target);this.removeMouseUp&&(this.removeMouseUp(),this.removeMouseUp=null),n||t(e)}},{key:"setChildNodeRef",value:function(e){this.childNode=e}},{key:"addMouseDownEventListener",value:function(e){this.removeMouseDown=(0,l.addEventListener)(document,"mousedown",this.onMouseDown,{capture:e})}},{key:"removeEventListeners",value:function(){this.removeMouseDown&&this.removeMouseDown(),this.removeMouseUp&&this.removeMouseUp()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.display;return o.default.createElement("div",{ref:this.setChildNodeRef,style:n!==h.BLOCK&&(0,c.default)(h).includes(n)?{display:n}:void 0},t)}}]),t}(o.default.Component);t.default=v,v.propTypes=m,v.defaultProps=p},ZoMV:function(e,t,n){},bIcD:function(e,t,n){},cTt9:function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},cmVu:function(e,t,n){"use strict";var r=n("jbjd");e.exports=function(){if("undefined"!=typeof document){if(document.contains)return document.contains;if(document.body&&document.body.contains)try{if("boolean"==typeof document.body.contains.call(document,""))return document.body.contains}catch(e){}}return r}},eY98:function(e,t,n){},ejHo:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),i=n("1v+d");t.a=function(e){return o.a.createElement(i.a,Object.assign({},e))}},ey2t:function(e,t,n){"use strict";var r=Array.prototype.slice,o=n("cTt9"),i=Object.keys,a=i?function(e){return i(e)}:n("F3Ih"),l=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?l(r.call(e)):l(e)}):Object.keys=a;return Object.keys||a},e.exports=a},f5W6:function(e,t,n){"use strict";var r=n("5L5q"),o=n("OoOd"),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),s=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(s)try{s({},"a",{value:1})}catch(f){s=null}e.exports=function(e){var t=l(r,a,arguments);if(c&&s){var n=c(t,"length");n.configurable&&s(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return l(r,i,arguments)};s?s(e.exports,"apply",{value:d}):e.exports.apply=d},ghTS:function(e,t,n){"use strict";var r=n("1JZ3");e.exports=function(){return"function"==typeof Object.values?Object.values:r}},hNyY:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r);n("bIcD");t.a=function(e){var t=e.more,n=e.color,r=e.closeable,i=void 0!==r&&r,a=e.limit,l=void 0!==a&&a,c=e.onClose,s=e.className,u=e.style,d=void 0===u?{}:u;return o.a.createElement("div",{className:"com-mail-tag ".concat(s," ").concat(t?"com-mail-tag-more":""," "),style:Object.assign(Object.assign({},d),{backgroundColor:n})},o.a.createElement("span",{className:"content ".concat(l?"com-mail-tag-limit":""," ")},e.children),i?o.a.createElement("div",{className:"tag-extra",onClick:function(){c&&c()},style:{backgroundColor:n}},o.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M2.25 7.75L5 5M5 5L2.25 2.25M5 5L7.75 7.75M5 5L7.75 2.25",stroke:"white",strokeLinejoin:"round"}))):"")}},jbjd:function(e,t,n){"use strict";e.exports=function(e){if(arguments.length<1)throw new TypeError("1 argument is required");if("object"!=typeof e)throw new TypeError("Argument 1 (”other“) to Node.contains must be an instance of Node");var t=e;do{if(this===t)return!0;t&&(t=t.parentNode)}while(t);return!1}},kI3F:function(e,t,n){"use strict";var r=n("zT+L"),o=n("cmVu");e.exports=function(){var e=o();return"undefined"!=typeof document&&(r(document,{contains:e},{contains:function(){return document.contains!==e}}),"undefined"!=typeof Element&&r(Element.prototype,{contains:e},{contains:function(){return Element.prototype.contains!==e}})),e}},ps6S:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return I}));var r,o=n("ERkP"),i=n.n(o),a=(n("z4YI"),n("DuHN")),l=n("/Oqt"),c=n("9xBf"),s=n("B79d"),u=n("Luec");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.INIT="mop-floder-init"}(r||(r={}));var h,m=function(e){var t=e.sum,n=void 0===t?0:t,r=d(Object(o.useState)("mop-floder-one"),2),a=r[0],l=r[1];return Object(o.useEffect)((function(){n<3?n<=1?l("mop-floder-one"):2==n&&l("mop-floder-two"):l(n%2==1?"mop-floder-three":"mop-floder-four")}),[n]),i.a.createElement("div",{className:"folder-svg-warp ".concat(a)},i.a.createElement("svg",{width:"140",height:"140",viewBox:"0 0 140 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("circle",{cx:"70",cy:"70",r:"70",fill:"white"}),i.a.createElement("path",{d:"M57.9071 30H30.0001C26.8441 30 24.2858 32.5584 24.2858 35.7143V104.286C24.2858 107.442 26.8441 110 30.0001 110H110C113.156 110 115.714 107.442 115.714 104.286V42.8139C115.714 39.6579 113.156 37.0996 110 37.0996H71.5282C70.3397 37.0996 69.1809 36.729 68.2129 36.0395L61.2225 31.0601C60.2545 30.3705 59.0956 30 57.9071 30Z",fill:"#386EE7"}),i.a.createElement("g",{filter:"url(#filter0_d)",className:"three"},i.a.createElement("rect",{x:"32",y:"41",width:"77.1429",height:"54.2857",rx:"2.85714",fill:"white"})),i.a.createElement("g",{filter:"url(#filter0_d)",className:"two"},i.a.createElement("rect",{x:"32",y:"41",width:"77.1429",height:"54.2857",rx:"2.85714",fill:"white"})),i.a.createElement("g",{filter:"url(#filter0_d)",className:"one"},i.a.createElement("rect",{x:"32",y:"41",width:"77.1429",height:"54.2857",rx:"2.85714",fill:"white"})),i.a.createElement("g",{filter:"url(#filter1_bi)"},i.a.createElement("path",{d:"M14.8896 56.2194C14.575 54.4673 15.9217 52.8572 17.7018 52.8572H122.298C124.078 52.8572 125.425 54.4673 125.11 56.2194L115.874 107.648C115.629 109.009 114.445 110 113.061 110H26.9386C25.5555 110 24.371 109.009 24.1265 107.648L14.8896 56.2194Z",fill:"#D4E5FF",fillOpacity:"0.6"})),i.a.createElement("defs",null,i.a.createElement("filter",{id:"filter0_d",x:"26.2857",y:"41",width:"88.5714",height:"65.7143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.a.createElement("feOffset",{dy:"5.71429"}),i.a.createElement("feGaussianBlur",{stdDeviation:"2.85714"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.04474 0 0 0 0 0.244417 0 0 0 0 0.700282 0 0 0 1 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter1_bi",x:"9.12959",y:"47.1429",width:"121.741",height:"68.5714",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feGaussianBlur",{in:"BackgroundImage",stdDeviation:"2.85714"}),i.a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur",result:"shape"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.a.createElement("feOffset",{dy:"1.14286"}),i.a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.693055 0 0 0 0 0.787119 0 0 0 0 1 0 0 0 1 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow"})))))},p=n("PXmc"),v=n("ejHo"),g=n("RbKB"),y=n("bIW9");function S(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C,x=s.f.api.getEventApi();!function(e){e[e.RED_FLAG=0]="RED_FLAG",e[e.READ=1]="READ",e[e.TAG=2]="TAG",e[e.MOVE=3]="MOVE",e[e.DELETE=4]="DELETE",e[e.REAL_DELETE=5]="REAL_DELETE",e[e.CUSTOM=6]="CUSTOM"}(C||(C={}));var I=(E(h={},p.a.DEFAULT,[C.RED_FLAG,C.READ,C.TAG,C.MOVE,C.DELETE]),E(h,p.a.SENT,[C.RED_FLAG,C.TAG,C.MOVE,C.DELETE]),E(h,p.a.DRAFT,[C.RED_FLAG,C.DELETE]),E(h,p.a.SPAM,[C.MOVE,C.DELETE]),E(h,p.a.DELETED,[C.MOVE,C.DELETE,C.REAL_DELETE]),E(h,p.a.WAITINGISSUE,[C.RED_FLAG,C.READ,C.TAG,C.DELETE]),E(h,p.a.READYISSUE,[C.RED_FLAG,C.READ,C.TAG,C.DELETE]),E(h,p.a.VIRUS,[C.DELETE]),E(h,"CUSTOM",[C.RED_FLAG,C.READ,C.TAG,C.MOVE,C.DELETE]),E(h,"VR",[C.RED_FLAG,C.READ,C.TAG,C.MOVE,C.DELETE]),h);t.b=function(e){var t=e.checkedMails,n=e.isMerge,r=(e.mailDataList,e.onDelete),s=e.onMove,d=b(Object(o.useState)(!1),2),f=d[0],h=d[1],w=b(Object(o.useState)({}),2),_=w[0],E=w[1],T=b(Object(g.a)("isSearching","doUpdateIsSearching"),2),O=T[0],R=(T[1],b(Object(g.a)("isAdvancedSearch","doUpdateIsAdvancedSearch"),2)),M=R[0],k=(R[1],b(Object(g.a)("selectedKeys","doUpdateSelectedKey"),2)),A=k[0],z=(k[1],b(Object(g.a)("activeIds","doUpdateActiveIds"),2)),P=(z[0],z[1],Object(y.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode}))),N=0;t.forEach((function(e){var t;(null==e?void 0:e.isThread)?N+=null===(t=null==e?void 0:e.entry)||void 0===t?void 0:t.threadMessageCount:N+=1}));var L=function(){a.b.warning({className:"u-tips",content:"未选中任何对象",duration:2,icon:i.a.createElement(i.a.Fragment,null)})},j=function(e,n){if(null==t?void 0:t.length){var r=[];null==t||t.map((function(e){var t;P?(t=r).push.apply(t,S(Object(p.v)(e))):r.push(e.entry.id)})),r=Array.from(new Set(r)),x.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:r,type:n},eventStrData:e?"mark":"unmark"})}else L()},D=null==t?void 0:t.filter((function(e){return"redFlag"==e.entry.mark})),F=null==t?void 0:t.filter((function(e){return"read"==e.entry.readStatus})),W=function(e,n){if(null==t?void 0:t.length){var r=[];null==t||t.map((function(e){r.push(e.entry.id)})),r=Array.from(new Set(r)),x.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:r,type:n},eventStrData:e?"read":"unread"})}else L()},H=function(){var e=[],o=0;if(null==t?void 0:t.length){var i=!1;null==t||t.map((function(t){4==t.entry.folder&&(o+=1),P?e.push.apply(e,S(Object(p.v)(t))):e.push(t.entry.id),!i&&Object(p.L)(t)&&(i=!0)})),r&&r(e,n,{detail:!0,realDeleteNum:o,isScheduleSend:i})}else L()};Object(o.useEffect)((function(){var e,t={},n=((e=A[0])>=100&&(e="CUSTOM"),O||M||"-199"==e||"-1"==e?I.VR:I[e]);n&&n.length&&(n.forEach((function(e){return t[e]=!0})),E(t))}),[t]);var G=i.a.createElement(l.a,{overlayClassName:"u-tree-dropmenu",overlay:i.a.createElement(v.a,{mailList:t,isMerge:n,Close:function(){h(!1)}}),trigger:["click"],placement:"topLeft",visible:f,onVisibleChange:function(e){h(e)}},i.a.createElement("div",{className:"oper-item"},i.a.createElement(c.a,{placement:"bottom",title:"打标签",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn"},i.a.createElement(u.b.TagSvg_Cof,{color:"rgba(60, 63, 71, 1)"}))))),U=i.a.createElement("div",{className:"oper-item",onClick:L},i.a.createElement(c.a,{placement:"bottom",title:"打标签",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn"},i.a.createElement(u.b.TagSvg_Cof,{color:"rgba(60, 63, 71, 1)"}))));return i.a.createElement("div",{className:"mail-mop-wrap"},i.a.createElement("div",{className:"mop-contetn"},i.a.createElement("div",{className:"detail-wrap"},i.a.createElement("div",{className:"logo-wrap"},i.a.createElement(m,{sum:N})),i.a.createElement("div",{className:"num-wrap"},i.a.createElement("div",{className:"num"},N),i.a.createElement("div",{className:"tip"},"已选择邮件"))),i.a.createElement("div",{className:"oper-wrap"},P?"":_[C.RED_FLAG]?i.a.createElement("div",{className:"oper-item"},(null==t?void 0:t.length)==(null==D?void 0:D.length)?i.a.createElement(c.a,{placement:"bottom",title:"取消红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:function(){return j(!1,"redFlag")}},i.a.createElement(u.b.RedFlagSvg,null))):i.a.createElement(c.a,{placement:"bottom",title:"标为红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:function(){return j(!0,"redFlag")}},i.a.createElement(u.b.FlagSvg_Cof,{color:"rgba(60, 63, 71, 1)"})))):"",P?"":_[C.READ]?i.a.createElement("div",{className:"oper-item"},(null==t?void 0:t.length)==(null==F?void 0:F.length)?i.a.createElement(c.a,{placement:"bottom",title:"标为未读",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:function(){return W(!1,"read")}},i.a.createElement(u.b.UnreadSvg_Cof,{color:"rgba(60, 63, 71, 1)"}))):i.a.createElement(c.a,{placement:"bottom",title:"标为已读",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:function(){return W(!0,"read")}},i.a.createElement(u.b.ReadSvg_Cof,{color:"rgba(60, 63, 71, 1)"})))):"",P?"":_[C.TAG]?(null==t?void 0:t.length)?G:U:"",_[C.MOVE]?i.a.createElement("div",{className:"oper-item"},i.a.createElement(c.a,{placement:"bottom",title:"移动",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:function(){var e=[];if(null==t?void 0:t.length){if(null==t||t.map((function(t){P?e.push.apply(e,S(Object(p.v)(t))):e.push(t.entry.id)})),s){var r=A[0];s(e,r,n)}}else L()}},i.a.createElement(u.b.MoveSvg_Cof,{color:"rgba(60, 63, 71, 1)"})))):"",_[C.DELETE]?_[C.REAL_DELETE]?i.a.createElement("div",{className:"oper-item"},i.a.createElement(c.a,{placement:"bottom",title:"彻底删除",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:H},i.a.createElement(u.b.RecycleSvg_Cof,{color:"rgba(60, 63, 71, 1)"})))):i.a.createElement("div",{className:"oper-item"},i.a.createElement(c.a,{placement:"bottom",title:"删除",mouseEnterDelay:.3,mouseLeaveDelay:.15},i.a.createElement("div",{className:"omp-circle-btn",onClick:H},i.a.createElement(u.b.RecycleSvg_Cof,{color:"rgba(60, 63, 71, 1)"})))):"")))}},qL1L:function(e,t,n){e.exports={riskReminder:"risk-reminder-module--risk-reminder--3aHkr",text:"risk-reminder-module--text--dHMR1",riskEmail:"risk-reminder-module--risk-email--3Cw2f",btnComfirm:"risk-reminder-module--btn-comfirm--20WwH",btnClose:"risk-reminder-module--btn-close--2qxG-",reminderModal:"risk-reminder-module--reminder-modal--zDkY8",title:"risk-reminder-module--title--3MZh_",footer:"risk-reminder-module--footer--2w1OO"}},r0UG:function(e,t,n){},tXYs:function(e,t,n){"use strict";n.d(t,"b",(function(){return _}));var r,o,i,a=n("ERkP"),l=n.n(a),c=n("ty1+"),s=n("PXmc"),u=n("RNvQ"),d=n.n(u),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{leading:!0},r=Object(a.useRef)(e);r.current=e;var o=Object(a.useCallback)(d()((function(){return r.current&&r.current.apply(r,arguments)}),t,n),[]);return o},h=n("Bcqe"),m=n.n(h),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{leading:!0},r=Object(a.useRef)(e);r.current=e;var o=Object(a.useCallback)(m()((function(){return r.current&&r.current.apply(r,arguments)}),t,n),[]);return o},v=n("Nbvm");function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.INIT="INIT",e.SINGLE="SINGLE",e.MULTIPLE="MULTIPE"}(o||(o={})),function(e){e[e.KEY_UP=0]="KEY_UP",e[e.KEY_DELETE=1]="KEY_DELETE",e[e.KEY_DOWN=2]="KEY_DOWN",e[e.SHIFT_KEY_UP=3]="SHIFT_KEY_UP",e[e.SHIFT_KEY_DOWN=4]="SHIFT_KEY_DOWN",e[e.COMMAND_A=5]="COMMAND_A",e[e.COMMAND_R=6]="COMMAND_R"}(i||(i={}));var _=(w(r={},i.KEY_UP,"up"),w(r,i.KEY_DELETE,["del","backspace"]),w(r,i.KEY_DOWN,"down"),w(r,i.SHIFT_KEY_UP,"shift+up"),w(r,i.SHIFT_KEY_DOWN,"shift+down"),w(r,i.COMMAND_A,["command+a","control+a","ctrl+a"]),w(r,i.COMMAND_R,"command+r"),r);t.a=function(e,t){return function(n){var r,u,d=n.mailDataList,h=n.onItemSelected,m=n.onItemUnSelected,S=n.onItemActive,b=n.onItemActiveInWindow,E=n.onItemContextmenu,C=n.onListModelChange,x=n.onItemDelete,I=n.activeIds,T=n.onCreated,O=n.scrollTop,R=n.onScroll,M=n.listHeight,k=y(Object(a.useState)(o.INIT),2),A=k[0],z=k[1],P=Object(a.useRef)(o.INIT),N=y(Object(a.useState)(null),2),L=N[0],j=N[1],D=y(Object(a.useState)(null),2),F=D[0],W=D[1],H=Object(a.useRef)([]),G=y(Object(a.useState)(new Map),2),U=G[0],B=G[1],V=Object(a.useRef)(new Map),q=Object(a.useRef)((function(e){})),K=y(Object(a.useState)(new Map),2),Y=K[0],$=K[1];Object(a.useEffect)((function(){null!=I&&Array.isArray(I)&&(I.length===H.current.length&&I.every((function(e){return Z(e)}))||(0==I.length?(te(),C&&C(o.INIT)):(H.current=I,1==I.length?(j(I[0]),W(I[0])):null!=X(L)&&null!=X(F)||(j(I[0]),W(I[0])))))}),[I]);var J=function(e){P.current=e,z(e)},X=function(e){return U.get(e)},Z=function(e){return!(!H.current||!H.current.length)&&!!V.current.get(e)},Q=function(e){Array.isArray(e)?H.current=e:e&&(H.current=e(H.current))},ee=function(e){e instanceof Map?V.current=e:e&&(V.current=e(V.current))},te=function(){var e,t;if(J(o.INIT),Q([]),ee(new Map),d&&d.length){var n=null===(t=null===(e=d[0])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id;j(n),W(n)}else j(null),W(null)},ne=function(){Q([]),ee(new Map)},re=function(e){if("string"==typeof e)Z(e)&&(Q((function(t){return t.filter((function(t){return t!=e}))})),ee((function(t){return t.delete(e),t})));else if(Array.isArray(e)){var t=e.filter((function(e){return Z(e)}));t&&t.length&&(Q((function(e){return e.filter((function(e){return!t.includes(e)}))})),ee((function(e){return t.forEach((function(t){e.delete(t)})),e})))}},oe=function(e){if("string"==typeof e){if(Z(e))return null;Q([e]),ee((function(t){return t.set(e,!0),t}))}},ie=function(e){if("string"==typeof e){if(Z(e))return null;Q((function(t){return[].concat(g(t),[e])})),ee((function(t){return t.set(e,!0),t}))}else if(Array.isArray(e)){var t=e.filter((function(e){return!Z(e)}));if(!t.length)return null;Q((function(e){return[].concat(g(e),g(t))})),ee((function(e){return t.forEach((function(t){e.set(t,!0)})),e}))}},ae=function(e){return Y.get(e)<O},le=function(e){return Y.get(e)+Object(s.A)(d[e])>O+M},ce=function(e){if(le(e))se(e);else if(ae(e)){var t=Y.get(e)||0;R&&R({scrollTop:t})}},se=function(e){if(ae(e))ce(e);else if(le(e)){var t=Y.get(e)-M+Object(s.A)(d[e])+24;R&&R({scrollTop:t})}},ue=function(e,t){h&&h(e,t)},de=function(e,t){m&&m(e,t)},fe=function(e){E&&E(e)},he=function(e){var t=X(e);S&&S(e,t,H.current)},me=function(e){x&&x(e)},pe=(w(r={},o.INIT,{handleClick:function(e){var t=e.entry.id;J(o.SINGLE),oe(t),j(t),ue([t],H.current),he(t),W(t)},handleShiftClick:function(e){var t=X(e.entry.id);t>0?J(o.MULTIPLE):(J(o.SINGLE),he(e.entry.id));var n=[];if(d&&d.length)for(var r=0;r<=t;r++){var i=d[r];n.push(i.entry.id)}ie(n),ue(n,H.current),W(e.entry.id)},handleComClick:function(e){var t=e.entry.id;J(o.SINGLE),he(t),ie(t),j(t),ue([t],H.current)},handleKeyUp:function(){},handleKeyDown:function(){if(d&&d.length){var e=d[0].entry.id;J(o.SINGLE),ne(),ie(e),j(e),ue([e],H.current),he(e),W(e)}},handleKeyShiftUp:function(){},handleKeyShiftDown:function(){var e,t;J(o.SINGLE);if(d&&d.length){var n=null===(t=null===(e=d[0])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id;ie(n),he(n),ue(n,H.current),W(n)}},handleKeyCommandA:function(){if(d&&d.length){var e=d.map((function(e){return e.entry.id}));J(o.MULTIPLE),ie(e),j(e[0]),ue(e,H.current),W(e[e.length-1])}},handleKeyDelete:function(){if(H&&H.current&&H.current.length){var e=H.current;me&&me(g(e))}}}),w(r,o.SINGLE,{handleClick:function(e){var t=e.entry.id;J(o.SINGLE),ne(),oe(t),j(t),ue([t],H.current),he(t),W(t)},handleShiftClick:function(e){J(o.MULTIPLE);var t=X(e.entry.id),n=X(L),r=[],i=n<t?n:t,a=t>n?t:n;if(d&&d.length)for(var l=i;l<=a;l++){var c=d[l];r.push(c.entry.id)}ie(r),ue(r,H.current),W(e.entry.id)},handleComClick:function(e){var t=e.entry.id;Z(t)?d.length>1&&H.current.length>1&&(J(o.MULTIPLE),re(t),j(t),de([t],H.current)):(J(o.MULTIPLE),ie(t),j(t),ue([t],H.current)),W(t)},handleKeyUp:function(){if(L){var e=X(L);if(e>=1){var t=d[e-1].entry.id;ne(),J(o.SINGLE),Q([t]),j(t),ue([t],H.current),W(t),he(t),ce(e-1)}}},handleKeyDown:function(){var e;if(L){var t=X(L);if(t<d.length-1){var n=d[t+1],r=null===(e=null==n?void 0:n.entry)||void 0===e?void 0:e.id;n&&r&&(ne(),J(o.SINGLE),Q([r]),j(r),ue([r],H.current),he(r),W(r),se(t+1))}}},handleKeyShiftUp:function(){var e,t,n=X(L);if(null!=n&&n-1>0){J(o.MULTIPLE);var r=null===(t=null===(e=d[n-1])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id;ie(r),ue(r,H.current),W(r),ce(n-1)}},handleKeyShiftDown:function(){var e,t,n=X(L);if(null!=n&&n+1<d.length-1){J(o.MULTIPLE);var r=null===(t=null===(e=d[n+1])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id;ie(r),ue(r,H.current),W(r),se(n+1)}},handleKeyCommandA:function(){if(d&&d.length){var e=d.map((function(e){return e.entry.id}));J(o.MULTIPLE),ie(e),j(e[0]),ue(e,H.current),W(e[e.length-1])}},handleKeyDelete:function(){if(H&&H.current&&H.current.length){var e=H.current;me&&me(g(e))}}}),w(r,o.MULTIPLE,{handleClick:function(e){var t=e.entry.id;J(o.SINGLE),ne(),ie(t),j(t),ue([t],H.current),he(t),W(t)},handleShiftClick:function(e){var t,n,r,i,a,l,c,s,u,f,h,m,p,v,g,y;J(o.MULTIPLE);var S=X(F),b=X(L),w=S>=b,_=w?b:S,E=w?S:b,C=[],x=e.entry.id,I=[];if(F)for(var T=_;T<=E;T++){var O=d[T];I.push(O.entry.id)}if(w=(S=X(e.entry.id))>=b,_=b<S?b:S,E=S>b?S:b,d&&d.length)for(var R=_;R<=E;R++){var M=d[R];C.push(M.entry.id)}if(w){if(S+1<d.length&&Z(null===(n=null===(t=d[S+1])||void 0===t?void 0:t.entry)||void 0===n?void 0:n.id))for(var k=S+1;k<d.length;k++){var A=null===(i=null===(r=d[k])||void 0===r?void 0:r.entry)||void 0===i?void 0:i.id;if(!Z(A))break;x=A}}else if(S-1<d.length&&Z(null===(l=null===(a=d[S-1])||void 0===a?void 0:a.entry)||void 0===l?void 0:l.id))for(var z=S-1;z>=0;z--){var P=null===(s=null===(c=d[z])||void 0===c?void 0:c.entry)||void 0===s?void 0:s.id;if(!Z(P))break;x=P}if(Z(e.entry.id))if(w){if(S+1<d.length&&Z(null===(f=null===(u=d[S+1])||void 0===u?void 0:u.entry)||void 0===f?void 0:f.id))for(var N=S+1;N<d.length;N++){var j=null===(m=null===(h=d[N])||void 0===h?void 0:h.entry)||void 0===m?void 0:m.id;if(!Z(j))break;I.push(j)}}else if(S-1>=0&&Z(null===(v=null===(p=d[S-1])||void 0===p?void 0:p.entry)||void 0===v?void 0:v.id))for(var D=S-1;D>=0;D--){var G=null===(y=null===(g=d[D])||void 0===g?void 0:g.entry)||void 0===y?void 0:y.id;if(!Z(G))break;I.push(G)}re(I),ie(C),ue(C,H.current),W(x)},handleComClick:function(e){var t=e.entry.id;if(Z(t)){if(d.length>1&&H.current.length>1){J(o.MULTIPLE),re(t),de([t],H.current);var n=X(t),r=n-1>=0?n-1:0,i=n+1<=d.length-1?n+1:d.length-1;if(!Z(X(r))&&!Z(X(i))){if(0==H.current.length)return j(d[0].entry.id),void W(d[0].entry.id);for(var a=n;a<d.length;a++){var l=d[a].entry.id;if(Z(l)){j(l);for(var c=a;c<d.length;c++){var s=d[c].entry.id;if(!Z(s))return void(c-1>=0&&W(d[c-1].entry.id))}return}}for(var u=n;u>=0;u--){var f=d[u].entry.id;if(Z(f)){j(f);for(var h=u;h>=0;h--){var m=d[h].entry.id;if(!Z(m))return void(h+1<d.length&&W(d[h+1].entry.id))}return}}}}}else J(o.MULTIPLE),ie(t),j(t),W(t),ue([t],H.current)},handleKeyUp:function(){if(L){var e=X(L);if(e>1){var t=d[e-1].entry.id;ne(),J(o.SINGLE),Q([t]),j(t),ue([t],H.current),W(t),he(t),ce(e-1)}}},handleKeyDown:function(){var e;if(L){var t=X(L);if(t<d.length-1){var n=d[t+1],r=null===(e=null==n?void 0:n.entry)||void 0===e?void 0:e.id;n&&r&&(ne(),J(o.SINGLE),Q([r]),j(r),ue([r],H.current),W(r),he(r),se(t+1))}}},handleKeyShiftUp:function(){var e,t,n,r,i,a,l=X(F||L),c=l>X(L);if(ce(l-1),J(o.MULTIPLE),c){if(null!=l&&l>=0){var s=null===(t=null===(e=d[l])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id;re(s),de([s],H.current),W(l-1>=0?null===(r=null===(n=d[l-1])||void 0===n?void 0:n.entry)||void 0===r?void 0:r.id:s)}}else if(null!=l&&l-1>=0){var u=null===(a=null===(i=d[l-1])||void 0===i?void 0:i.entry)||void 0===a?void 0:a.id;if(Z(u)&&l-2>=0)for(var f=l-2;f>=0;f--){var h=d[f].entry.id;if(!Z(h)){u=h;break}}ie(u),ue(u,H.current),W(u)}},handleKeyShiftDown:function(){var e,t,n,r,i,a,l,c,s=X(F),u=s>=X(L);if(se(s+1),J(o.MULTIPLE),u){if(null!=s&&s+1<d.length){for(var f=null===(t=null===(e=d[s+1])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id,h=null,m=s+2;m<d.length;m++){var p=null===(r=null===(n=d[m])||void 0===n?void 0:n.entry)||void 0===r?void 0:r.id;if(!p||!Z(p))break;h=p}ie(f),ue(f,H.current),W(h||f)}}else if(null!=s&&s<=d.length-1){var v=null===(a=null===(i=d[s])||void 0===i?void 0:i.entry)||void 0===a?void 0:a.id;re(v),de([v],H.current),s+1<=d.length-1?W(null===(c=null===(l=d[s+1])||void 0===l?void 0:l.entry)||void 0===c?void 0:c.id):W(v)}},handleKeyCommandA:function(){if(d&&d.length){var e=d.map((function(e){return e.entry.id}));J(o.MULTIPLE),ie(e),j(e[0]),ue(e,H.current),W(e[e.length-1])}},handleKeyDelete:function(){if(H&&H.current&&H.current.length){var e=H.current;me&&me(g(e))}}}),r),ve=function(e,t){var n=d[t],r=pe[P.current].handleClick;r&&r(n)},ge=function(e,t){var n=d[t],r=pe[P.current].handleComClick;r&&r(n)},ye=function(e,t){var n=d[t],r=pe[P.current].handleShiftClick;r&&r(n)},Se=p((function(e){e.preventDefault();var t=pe[P.current].handleKeyUp;t&&t()})),be=p((function(e){e.preventDefault();var t=pe[P.current].handleKeyDown;t&&t()})),we=p((function(e){e.preventDefault();var t=pe[P.current].handleKeyShiftUp;t&&t()})),_e=p((function(e){e.preventDefault();var t=pe[P.current].handleKeyShiftDown;t&&t()})),Ee=Object(v.a)((function(e){e.preventDefault();var t=pe[P.current].handleKeyCommandA;!e.repeat&&t&&t()})),Ce=p((function(e){e.preventDefault();var t=pe[P.current].handleKeyDelete;!e.repeat&&t&&t()}),800),xe=f((function(e){e.preventDefault(),!e.repeat&&b&&b(I)}),800),Ie=(w(u={},i.KEY_UP,Se),w(u,i.KEY_DOWN,be),w(u,i.SHIFT_KEY_UP,we),w(u,i.SHIFT_KEY_DOWN,_e),w(u,i.COMMAND_A,Ee),w(u,i.KEY_DELETE,Ce),w(u,i.COMMAND_R,xe),u);Object(a.useEffect)((function(){var e,t;if(d&&d.length&&(I&&0===I.length||!F||!L)){var n=null===(t=null===(e=d[0])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id;j(n),W(n)}}),[d]),Object(a.useEffect)((function(){U.clear(),Y.clear();var e=0;d.forEach((function(t,n){U.set(t.entry.id,n),Y.set(n,e),e+=Object(s.A)(t)})),B(U),$(Y)}),[d]),Object(a.useEffect)((function(){C&&C(A)}),[A]);var Te=t||c.HotKeys;return l.a.createElement(Te,{keyMap:_,handlers:Ie},l.a.createElement(e,Object.assign({activeIds:H.current},n,{onItemSelected:function(e,t){var n=t.altKey,r=t.metaKey,o=t.ctrlKey,i=t.shiftKey;r||o||n?ge(t,e):i?ye(t,e):ve(t,e)},onItemContextmenu:function(e,t){if(e){var n=e.entry.id;if(Z(n)){var r=H.current.map((function(e){return d[X(e)]}));fe(r)}else P.current==o.MULTIPLE?(J(o.SINGLE),ne(),ie(n),j(n),ue([n],H.current),he(n),W(n)):(ne(),ie(n),ue([n],H.current),W(n),j(n),setTimeout((function(){he(n)}),600)),fe(d[X(n)])}},onCreated:function(e){var t=e.scrollTo,n=void 0===t?function(e){}:t;q.current=n,T&&T(e)},_activeIdsMap:V.current,_mailId2ListIndexMap:U})))}}},"tsZ/":function(e,t,n){"use strict";n.r(t),n.d(t,"addEventListener",(function(){return c}));var r=!("undefined"==typeof window||!window.document||!window.document.createElement);var o=void 0;function i(){return void 0===o&&(o=function(){if(!r)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(o){}return e}()),o}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function l(e){this.target=e,this.events={}}l.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},l.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},l.prototype.add=function(e,t,n){var r=this,o=this.getEventHandlers(e,n);a(o),0===o.nextHandlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,a(o);var l=o.nextHandlers.indexOf(t);o.nextHandlers.splice(l,1),0===o.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}};function c(e,t,n,r){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new l(e));var o=function(e){if(e)return i()?e:!!e.capture}(r);return e.__consolidated_events_handlers__.add(t,n,o)}},uSCX:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),i=n("S0yW"),a=n("/Oqt"),l=n("/zI6"),c=n("O94r"),s=n.n(c),u=n("B79d"),d=n("R8Pv"),f=n("7pu+"),h=n("L5fd"),m=n("bIW9"),p=n("IGx9");function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,w,_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(r.useState)(0),a=g(i,2),l=a[0],c=a[1],s=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(l);return d.current=l,Object(r.useEffect)((function(){if(s.current)return u&&u.current||(o&&1===l&&e.apply(void 0,v(s.current)),u.current=setTimeout((function(){1!==d.current||o||e.apply(void 0,v(s.current)),c(0),u.current=null,s.current=null}),n)),2===l&&(t.apply(void 0,v(s.current)),u.current=null,s.current=null,u.current&&clearTimeout(u.current),c(0)),function(){return clearTimeout(u.current)}}),[l]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.current=t,c((function(e){return e+1}))}},E=n("NHwd"),C=n("Jdrj"),x=n.n(C);function I(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,l,"next",e)}function l(e){I(i,r,o,a,l,"throw",e)}a(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.download=0]="download",e[e.pause=1]="pause",e[e.abort=2]="abort",e[e.continue=3]="continue",e[e.reDownload=4]="reDownload",e[e.delete=5]="delete"}(w||(w={}));var k=u.f.api.getSystemApi(),A=k.isElectron(),z=u.f.api.getFileApi(),P=u.f.api.getEventApi(),N=u.f.api.getDataTransApi(),L=(M(b={},w.download,"下载"),M(b,w.pause,"暂停"),M(b,w.abort,"取消"),M(b,w.continue,"继续"),M(b,w.reDownload,"重试"),M(b,w.delete,"删除"),b);t.a=function(e){var t,n=e.downloadInfo,c=e.cancel,v=e.noneMoreOperate,g=e.className,y=e.id,S=e.from,b=e.irrevocable,C=void 0!==b&&b,I=e.attachments,R=void 0===I?[]:I,j=Object(m.m)(m.b),D=Object(m.o)((function(e){return e.attachmentReducer})),F=(D.attachments,D.downloadProgress,Object(u.i)("host")),W="chat"===S,H="mail"===S,G=O(Object(r.useState)("other"),2),U=G[0],B=G[1],V=O(Object(r.useState)(!1),2),q=V[0],K=V[1],Y=O(Object(r.useState)(!1),2),$=Y[0],J=Y[1],X=O(Object(r.useState)("0%"),2),Z=X[0],Q=X[1],ee=O(Object(r.useState)("initial"),2),te=ee[0],ne=ee[1],re=O(Object(r.useState)(""),2),oe=re[0],ie=re[1],ae=O(Object(r.useState)(0),2),le=ae[0],ce=ae[1],se=O(Object(r.useState)(!1),2),ue=se[0],de=se[1],fe=O(Object(r.useState)(4),2),he=fe[0],me=fe[1],pe=Object(r.useRef)(!1),ve=!H||!q||"downloading"===te||"downloadFailed"===te||"netfolder"===n.type||n.cloudAttachment,ge=!A||!W||"downloaded"!==te&&"initial"!==te,ye=!A||!W||"downloaded"!==te,Se=H&&"initial"===te||"downloaded"===te||C&&he===w.abort,be=!v&&!W&&q&&("downloaded"===te||"initial"===te),we=le>0?Object(f.c)(le,1024):"未知大小";if(!n)return null;var _e=function(){me(w.download),J(!1),Q("0%"),ne("initial")},Ee=function(){console.warn("click actionAbort"),z.abortFsDownload(n.fileUrl),pe.current=!0,_e(),c&&c()},Ce=function(){z.getFileInfo(n).then((function(e){e&&e.length>0?z.openFile(e[0]).then((function(e){e||h.a.warn({content:"无法打开文件，确认是否不支持或文件已被移动，请重新下载"}).then((function(){_e()}))})):(h.a.warn({content:"未找到文件，如确认文件未被清理或移动，请重新下载"}).then((function(){_e()})),Ee())}))},xe=function(){var e=T(regeneratorRuntime.mark((function e(){var t,r,o,i,a,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},r=t.choosePath,o=void 0===r||r,i=t.afterSuccessOpen,!o){e.next=8;break}return e.next=5,z.saveDownload(n);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,z.download(n);case 10:a=e.sent;case 11:if(a.succ){e.next=13;break}return e.abrupt("return");case 13:i&&Ce();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(e){n&&n.fileUrl&&(A?xe(e):W?window.open(N.buildUrl(n.fileUrl,{download:n.fileName})):window.open(n.fileUrl))},Te=function(){switch(he){case w.download:Ie();break;case w.pause:break;case w.abort:Ee();break;case w.continue:break;case w.reDownload:xe();break;case w.delete:}},Oe=function(){z.getFileInfo(n).then((function(e){e&&e.length>0?(z.testLocalFile(e[0]).then((function(e){e||h.a.warn({content:"未找到文件所在目录，请重新下载"}).then((function(){_e()}))})),z.show(e[0])):(h.a.warn({content:"未找到文件记录，请重新下载"}).then((function(){_e()})),Ee())}))},Re=function(){var e=T(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("initial"!==te){e.next=5;break}return e.next=3,xe({choosePath:!1,afterSuccessOpen:!0});case 3:e.next=6;break;case 5:Ce();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=["jpg","JPG","jpeg","JPEG","png","PNG","svg","SVG","gif","GIF"],ke=function(){var e,t,r=n.fileType;if(r&&Me.includes(r))return e=R.filter((function(e){return e.downloadContentId===(null==n?void 0:n.downloadContentId)&&e.fileType&&Me.includes(e.fileType)})).map((function(e){return Object.assign(Object.assign({},e),{nonOriginal:!0,downloadUrl:e.fileUrl,previewUrl:e.filePreviewUrl,name:e.fileName,size:e.fileSize})})),t=e.findIndex((function(e){return e.downloadId===n.downloadId})),void p.a.preview({data:e,startIndex:t});k.isElectron()&&window.electronLib?H&&k.createWindowWithInitData("resources",{eventName:"initPage",eventData:{downloadContentId:null==n?void 0:n.downloadContentId,downloadId:null==n?void 0:n.downloadId,filePreviewUrl:null==n?void 0:n.filePreviewUrl,attachments:[n],fileName:oe,type:"attachment",hash:"".concat(F,"/#type=attachment&mid=").concat(null==n?void 0:n.contentId,"&fileName=").concat(oe,"&size=").concat(null==n?void 0:n.fileSize,"&downloadId=").concat(null==n?void 0:n.downloadId,"&downloadContentId=").concat(null==n?void 0:n.downloadContentId)}}):j.doAttachmentPreview({visible:!0,downloadContentId:null==n?void 0:n.downloadContentId,downloadId:null==n?void 0:n.downloadId})},Ae=function(){A||(W&&"initial"===te?Ie({choosePath:!1,afterSuccessOpen:!0}):ve||ke())},ze=function(){var e=T(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=15;break}return e.next=3,z.getFileInfo(n);case 3:if(!((t=e.sent).length>0)){e.next=10;break}return e.next=7,z.testLocalFile(t[0]);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=!1;case 11:e.t0?Ce():xe({choosePath:!1,afterSuccessOpen:!0}),e.next=16;break;case 15:Ae();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=_(Ae,ze,500,!1),Ne=function(){ne("downloading"),J(!0),me(w.abort)},Le=function(e){J(!1),ne("downloaded"),ce(e.fileSize)},je=function(e){e?"downloading"!==e.fileStatus||pe.current?"downloaded"===e.fileStatus?Le(e):"downloadFailed"===e.fileStatus?pe.current?pe.current=!1:(J(!1),ne("downloadFailed"),me(w.reDownload)):"downloadStart"===e.fileStatus&&Ne():(Ne(),Q(100*e.fileDownloadProgress+"%")):_e()},De=function(){var e=T(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.fileType||"other",B(t),ie(n.fileName||"未知"),ce(n.fileSize||0),!A){e.next=20;break}return e.next=7,z.getFileInfo(n);case 7:if(r=e.sent,o=r[0],"downloaded"!==(null==o?void 0:o.fileStatus)){e.next=17;break}return e.next=13,z.testLocalFile(o);case 13:e.sent?Le(o):(z.delFileInfo(o),je(z.getFsDownloadStatus(n.fileUrl))),e.next=18;break;case 17:je(z.getFsDownloadStatus(n.fileUrl));case 18:e.next=21;break;case 20:_e();case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){De();var e=P.registerSysEventObserver("fsDownloadNotify",{name:"downloadCard_"+n.fileUrl+Math.random().toFixed(7),func:function(e){if(e.eventStrData===n.fileUrl){var t=e.eventData;je(t)}}});return function(){P.unregisterSysEventObserver("fsDownloadNotify",e)}}),[y]);return o.a.createElement("div",{className:s()(x.a.attachmentCard,g,(t={},M(t,x.a.error,"downloadFailed"===te),M(t,x.a.isChat,W),t)),onMouseLeave:function(){K(!1)},onMouseEnter:function(){K(!0)},onMouseOver:function(){K(!0)}},o.a.createElement("div",{className:x.a.content,onClick:Pe},o.a.createElement("div",{className:x.a.infoIcon},o.a.createElement(d.a,{type:U})),o.a.createElement("div",{className:x.a.infoRight},o.a.createElement("div",{className:x.a.info},o.a.createElement("div",{className:x.a.name,title:Object(f.a)(oe)},Object(f.a)(oe))),o.a.createElement("div",{className:x.a.operate},o.a.createElement("div",{className:x.a.operateItem},o.a.createElement("div",{className:x.a.size},we,"netfolder"===n.type||n.cloudAttachment?" | ".concat((null==n?void 0:n.expired)?new Date(n.expired):"过期时间:无期限"):""),"netfolder"===n.type||n.cloudAttachment?o.a.createElement("div",{className:x.a.netFolderTag},"云附件"):"",o.a.createElement("div",{className:s()(x.a.itemBox,M({},x.a.mail,H))},o.a.createElement("span",{className:x.a.itemOpe,hidden:ge,onClick:function(e){e.stopPropagation(),Re()}},"打开"),o.a.createElement("span",{className:x.a.itemOpe,hidden:ye,onClick:function(e){e.stopPropagation(),Oe()}},"打开文件夹"),o.a.createElement("span",{className:x.a.itemOpe,hidden:Se,onClick:function(e){e.stopPropagation(),Te()}},L[he]),be&&o.a.createElement("div",{className:x.a.itemOpe},o.a.createElement(a.a,{overlay:function(){return o.a.createElement(i.a,{className:x.a.operateMenu},!ve&&o.a.createElement(i.a.Item,{key:"0",className:x.a.item,onClick:function(e){var t;null===(t=e.domEvent)||void 0===t||t.stopPropagation(),ke()}},"云预览"),"downloaded"===te&&A&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a.Item,{key:"1",className:x.a.item,onClick:function(e){var t;null===(t=e.domEvent)||void 0===t||t.stopPropagation(),Ce()}},"打开"),o.a.createElement(i.a.Item,{key:"2",className:x.a.item,onClick:function(e){var t;null===(t=e.domEvent)||void 0===t||t.stopPropagation(),Oe()}},"打开目录")),"initial"===te&&o.a.createElement(i.a.Item,{key:"3",className:x.a.item,onClick:function(e){var t;null===(t=e.domEvent)||void 0===t||t.stopPropagation(),Ie()}},"下载"),o.a.createElement(i.a.Item,{key:"4",className:x.a.item,onClick:function(e){var t;null===(t=e.domEvent)||void 0===t||t.stopPropagation()}},o.a.createElement(E.a,{downloadInfo:n,onChange:function(e){return de(e)}})))},placement:"bottomCenter",trigger:["click"],getPopupContainer:function(){return document.body}},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement(d.a,{type:"more",className:x.a.moreBtn}))))))))),o.a.createElement("div",{className:x.a.processBox,hidden:!$},o.a.createElement("div",{className:x.a.process,style:{width:Z}})),o.a.createElement(l.a,{visible:ue,okText:"前往解锁",cancelText:"知道了",onCancel:function(){return de(!1)},closable:!1,onOk:function(){return k.openNewWindow("https://qiye.163.com",!1)}},o.a.createElement("h2",null,"个人空间已设置安全锁"),o.a.createElement("div",null,"可前往网易企业邮箱网页端解锁（qiye.163.com）")))}},vzvF:function(e,t,n){},wSS7:function(e,t,n){"use strict";var r=n("5L5q");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},wWVJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r,o=n("ERkP"),i=n.n(o),a=n("DuHN"),l=n("NwOV"),c=n("vVVv"),s=n("cUST"),u=n("ibId"),d=n("/zI6"),f=n("SCaQ"),h=n("B79d"),m=n("bIW9"),p=n("sR1h");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return o.createElement("svg",v({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.75a8.75 8.75 0 100-17.5 8.75 8.75 0 000 17.5zm-.73-7.292V5.625h1.46v5.833H9.27zm0 1.459v1.458h1.46v-1.458H9.27z",fill:"#F74F4F"})))}var y=n("3mOf");function S(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.mailId,n=e.hasReport,r=void 0!==n&&n,v=e.senderEmail,S=w(Object(o.useState)(!1),2),_=S[0],E=S[1],C=w(Object(o.useState)(!1),2),x=C[0],I=C[1],T=w(Object(o.useState)(-1),2),O=T[0],R=T[1],M=w(Object(o.useState)(!1),2),k=M[0],A=M[1],z=h.f.api.requireLogicalApi(h.h.mailApiImpl),P=h.f.api.requireLogicalApi(h.h.mailConfApiImpl),N=h.f.api.getEventApi(),L=Object(m.n)(),j=Object(m.m)(m.g);Object(o.useEffect)((function(){R(-1)}),[t]),Object(o.useEffect)((function(){_&&A(!1)}),[_]);var D=function(){var e=b(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.onLine){e.next=4;break}return a.b.error("网络不可用"),e.abrupt("return");case 4:if(r="设为信任成功",!k){e.next=13;break}return e.next=8,P.setBlackListOrWhiteList(v,!1);case 8:if("exist"!==e.sent){e.next=12;break}return I(!0),e.abrupt("return");case 12:r="设为信任成功，发件人已移入白名单";case 13:return L(p.a.doMoveMail([t,1,!1,!1])),e.next=16,z.doReportOrTrustMail(t,1);case 16:j.doDeleteMailById(t),a.b.success(r),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),a.b.info("设为信任失败");case 23:return e.prev=23,E(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=b(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.onLine){e.next=4;break}return a.b.error("网络不可用"),e.abrupt("return");case 4:if(r="举报成功，已移入垃圾邮件",!k||!v){e.next=13;break}return e.next=8,P.setBlackListOrWhiteList(v,!0);case 8:if("exist"!==e.sent){e.next=12;break}return I(!0),e.abrupt("return");case 12:r="举报成功，已移入垃圾邮件，发件人已加入黑名单";case 13:return L(p.a.doMoveMail([t,5,!1,!1])),e.next=16,z.doReportOrTrustMail(t,5,O);case 16:N.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:!1,id:t,type:"redFlag",hideMessage:!0},eventStrData:"unmark"}),j.doDeleteMailById(t),a.b.success(r),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),a.b.info("举报失败");case 24:return e.prev=24,E(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{width:"150%",padding:"8px 0px 8px 16px",margin:"-8px -16px"},onClick:function(){return E(!0)}},r?"信任":"举报"),i.a.createElement(d.a,{visible:_,bodyStyle:{padding:20},onCancel:function(){return E(!1)},onOk:r?D:F,closeIcon:i.a.createElement(y.a,null),destroyOnClose:!0,width:400,cancelText:"取消",okText:"确认",okButtonProps:{disabled:-1===O&&!r}},i.a.createElement("div",null,i.a.createElement("form",null,r?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h3",null,"设为信任后，所选邮件将被移动到收件箱"),i.a.createElement(u.a,{checked:k,onChange:function(e){return A(e.target.checked)}},"将发件人加入白名单"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"请选择举报类型"),i.a.createElement("div",null,i.a.createElement(l.a.Group,{onChange:function(e){return R(e.target.value)},value:O},i.a.createElement(c.b,{direction:"vertical"},i.a.createElement(l.a,{value:0},"仿冒邮件（仿冒各类信息）"),i.a.createElement(l.a,{value:1},"色情邮件"),i.a.createElement(l.a,{value:2},"钓鱼邮件（诱导骗取信息）"),i.a.createElement(l.a,{value:3},"违法邮件")),i.a.createElement(c.b,{direction:"vertical"},i.a.createElement(l.a,{value:4},"代发邮件"),i.a.createElement(l.a,{value:5},"推广邮件"),i.a.createElement(l.a,{value:6},"其他邮件")))),i.a.createElement(s.a,{style:{margin:"14px 0"}}),i.a.createElement("div",null,i.a.createElement(u.a,{checked:k,onChange:function(e){return A(e.target.checked)}},"将发件人加入黑名单")))))),i.a.createElement(d.a,{visible:x,footer:i.a.createElement(f.a,{type:"primary",onClick:function(){return I(!1)}},"知道了")},i.a.createElement("div",{style:{fontWeight:500,fontSize:"16px",display:"flex",alignItems:"center"}},i.a.createElement(g,{style:{marginRight:8}}),i.a.createElement("span",null,"添加失败，帐号已存在不能重复添加"))))}},wgxV:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),i=n("VrFO"),a=n.n(i),l=n("Y9Ll"),c=n.n(l),s=n("N+ot"),u=n.n(s),d=n("AuHH"),f=n.n(d),h=n("1Pcy"),m=n.n(h),p=n("5Yy7"),v=n.n(p),g=n("KEM+"),y=n.n(g),S=n("94VI"),b=n("97Jx"),w=n.n(b),_=n("7O4Y");function E(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,l=e.nextScrollToIndex,c=e.scrollToIndex,s=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),c>=0&&c===l&&s())}var C=n("m3Bd"),x=n.n(C),I=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;a()(this,e),y()(this,"_cellSizeAndPositionData",{}),y()(this,"_lastMeasuredIndex",-1),y()(this,"_lastBatchedIndex",-1),y()(this,"_cellCount",void 0),y()(this,"_cellSizeGetter",void 0),y()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return c()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,l=this.getSizeAndPositionOfCell(i),c=l.offset,s=c-r+l.size;switch(n){case"start":a=c;break;case"end":a=s;break;case"center":a=c-(r-l.size)/2;break;default:a=Math.max(s,Math.min(c,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),T=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},O=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?T():n,o=x()(t,["maxScrollSize"]);a()(this,e),y()(this,"_cellSizeAndPositionManager",void 0),y()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new I(o),this._maxScrollSize=r}return c()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}]),e}();function R(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),l=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&l&&r(o)}}function M(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,l=e.previousSize,c=e.scrollOffset,s=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,f=e.sizeJustIncreasedFromZero,h=e.updateScrollIndexCallback,m=n.getCellCount(),p=u>=0&&u<m;p&&(d!==l||f||!o||"number"==typeof t&&t!==o||s!==i||u!==a)?h(u):!p&&m>0&&(d<l||m<r)&&c>n.getTotalSize()-d&&h(m-1)}var k,A,z,P=n("McaJ"),N=(k="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||k.msRequestAnimationFrame||function(e){return k.setTimeout(e,1e3/60)},L=k.cancelAnimationFrame||k.webkitCancelAnimationFrame||k.mozCancelAnimationFrame||k.oCancelAnimationFrame||k.msCancelAnimationFrame||function(e){k.clearTimeout(e)},j=N,D=L,F=function(e){return D(e.id)},W=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:j((function o(){Date.now()-n>=t?e.call():r.id=j(o)}))};return r};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U="observed",B="requested",V=(z=A=function(e){function t(e){var n;a()(this,t),n=u()(this,f()(t).call(this,e)),y()(m()(n),"_onGridRenderedMemoizer",R()),y()(m()(n),"_onScrollMemoizer",R(!1)),y()(m()(n),"_deferredInvalidateColumnIndex",null),y()(m()(n),"_deferredInvalidateRowIndex",null),y()(m()(n),"_recomputeScrollLeftFlag",!1),y()(m()(n),"_recomputeScrollTopFlag",!1),y()(m()(n),"_horizontalScrollBarSize",0),y()(m()(n),"_verticalScrollBarSize",0),y()(m()(n),"_scrollbarPresenceChanged",!1),y()(m()(n),"_scrollingContainer",void 0),y()(m()(n),"_childrenToDisplay",void 0),y()(m()(n),"_columnStartIndex",void 0),y()(m()(n),"_columnStopIndex",void 0),y()(m()(n),"_rowStartIndex",void 0),y()(m()(n),"_rowStopIndex",void 0),y()(m()(n),"_renderedColumnStartIndex",0),y()(m()(n),"_renderedColumnStopIndex",0),y()(m()(n),"_renderedRowStartIndex",0),y()(m()(n),"_renderedRowStopIndex",0),y()(m()(n),"_initialScrollTop",void 0),y()(m()(n),"_initialScrollLeft",void 0),y()(m()(n),"_disablePointerEventsTimeoutId",void 0),y()(m()(n),"_styleCache",{}),y()(m()(n),"_cellCache",{}),y()(m()(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),y()(m()(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),y()(m()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),y()(m()(n),"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var r=new O({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new O({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return v()(t,e),c()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,l=G({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,l=i.autoWidth,c=i.height,s=i.width,u=this.state.instanceProps,d=u.scrollbarSize,f=u.rowSizeAndPositionManager.getTotalSize(),h=u.columnSizeAndPositionManager.getTotalSize(),m=Math.min(Math.max(0,h-s+d),n),p=Math.min(Math.max(0,f-c+d),o);if(this.state.scrollLeft!==m||this.state.scrollTop!==p){var v={isScrolling:!0,scrollDirectionHorizontal:m!==this.state.scrollLeft?m>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:p!==this.state.scrollTop?p>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:U};a||(v.scrollTop=p),l||(v.scrollLeft=m),v.needToResetStyleCache=!1,this.setState(v)}this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:p,totalColumnsWidth:h,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,l=i.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(n),c.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=l>=0&&(1===this.state.scrollDirectionVertical?o<=l:o>=l),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(G({},o,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(G({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,l=e.scrollToRow,c=e.width,s=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),s.scrollbarSizeMeasured||this.setState((function(e){var t=G({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=r>0&&c>0;i>=0&&d&&this._updateScrollLeftForScrollToColumn(),l>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:s.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:s.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,l=r.height,c=r.rowCount,s=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,f=r.width,h=this.state,m=h.scrollLeft,p=h.scrollPositionChangeReason,v=h.scrollTop,g=h.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===e.columnCount||c>0&&0===e.rowCount;p===B&&(!i&&m>=0&&(m!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=m),!o&&v>=0&&(v!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=v));var S=(0===e.width||0===e.height)&&l>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):M({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:m,scrollToAlignment:s,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):M({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:v,scrollToAlignment:s,scrollToIndex:d,size:l,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),m!==t.scrollLeft||v!==t.scrollTop){var b=g.rowSizeAndPositionManager.getTotalSize(),w=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:v,totalColumnsWidth:w,totalRowsHeight:b})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&F(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,i=e.className,a=e.containerProps,l=e.containerRole,c=e.containerStyle,s=e.height,u=e.id,d=e.noContentRenderer,f=e.role,h=e.style,m=e.tabIndex,p=e.width,v=this.state,g=v.instanceProps,y=v.needToResetStyleCache,S=this._isScrolling(),b={boxSizing:"border-box",direction:"ltr",height:n?"auto":s,position:"relative",width:o?"auto":p,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var E=g.columnSizeAndPositionManager.getTotalSize(),C=g.rowSizeAndPositionManager.getTotalSize(),x=C>s?g.scrollbarSize:0,I=E>p?g.scrollbarSize:0;I===this._horizontalScrollBarSize&&x===this._verticalScrollBarSize||(this._horizontalScrollBarSize=I,this._verticalScrollBarSize=x,this._scrollbarPresenceChanged=!0),b.overflowX=E+x<=p?"hidden":"auto",b.overflowY=C+I<=s?"hidden":"auto";var T=this._childrenToDisplay,O=0===T.length&&s>0&&p>0;return r.createElement("div",w()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Object(_.default)("ReactVirtualized__Grid",i),id:u,onScroll:this._onScroll,role:f,style:G({},b,{},h),tabIndex:m}),T.length>0&&r.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:G({width:t?"auto":E,height:C,maxWidth:E,maxHeight:C,overflow:"hidden",pointerEvents:S?"none":"",position:"relative"},c)},T),O&&d())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,l=e.overscanColumnCount,c=e.overscanIndicesGetter,s=e.overscanRowCount,u=e.rowCount,d=e.width,f=e.isScrollingOptOut,h=t.scrollDirectionHorizontal,m=t.scrollDirectionVertical,p=t.instanceProps,v=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&d>0){var S=p.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:g}),b=p.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:v}),w=p.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:g}),_=p.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:v});this._renderedColumnStartIndex=S.start,this._renderedColumnStopIndex=S.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var E=c({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:h,startIndex:"number"==typeof S.start?S.start:0,stopIndex:"number"==typeof S.stop?S.stop:-1}),C=c({direction:"vertical",cellCount:u,overscanCellsCount:s,scrollDirection:m,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),x=E.overscanStartIndex,I=E.overscanStopIndex,T=C.overscanStartIndex,O=C.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var R=T;R<=O;R++)if(!i.has(R,0)){x=0,I=o-1;break}if(!i.hasFixedWidth())for(var M=x;M<=I;M++)if(!i.has(0,M)){T=0,O=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:p.columnSizeAndPositionManager,columnStartIndex:x,columnStopIndex:I,deferredMeasurementCache:i,horizontalOffsetAdjustment:w,isScrolling:y,isScrollingOptOut:f,parent:this,rowSizeAndPositionManager:p.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:O,scrollLeft:g,scrollTop:v,styleCache:this._styleCache,verticalOffsetAdjustment:_,visibleColumnIndices:S,visibleRowIndices:b}),this._columnStartIndex=x,this._columnStopIndex=I,this._rowStartIndex=T,this._rowStopIndex=O}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&F(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=W(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),E({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),E({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,G({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:B};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,l=t.scrollLeft,c=t.instanceProps;if(n>0){var s=n-1,u=i<0?s:Math.min(s,i),d=c.rowSizeAndPositionManager.getTotalSize(),f=c.scrollbarSizeMeasured&&d>r?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,l=t.scrollTop,c=t.instanceProps;if(r>0){var s=r-1,u=i<0?s:Math.min(s,i),d=c.columnSizeAndPositionManager.getTotalSize(),f=c.scrollbarSizeMeasured&&d>a?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),t}(r.PureComponent),y()(A,"propTypes",null),z);y()(V,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,c=e.isScrolling,s=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,f=e.rowStartIndex,h=e.rowStopIndex,m=e.styleCache,p=e.verticalOffsetAdjustment,v=e.visibleColumnIndices,g=e.visibleRowIndices,y=[],S=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),b=!c&&!S,w=f;w<=h;w++)for(var _=d.getSizeAndPositionOfCell(w),E=o;E<=i;E++){var C=r.getSizeAndPositionOfCell(E),x=E>=v.start&&E<=v.stop&&w>=g.start&&w<=g.stop,I="".concat(w,"-").concat(E),T=void 0;b&&m[I]?T=m[I]:a&&!a.has(w,E)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:_.size,left:C.offset+l,position:"absolute",top:_.offset+p,width:C.size},m[I]=T);var O={columnIndex:E,isScrolling:c,isVisible:x,key:I,parent:u,rowIndex:w,style:T},R=void 0;!s&&!c||l||p?R=n(O):(t[I]||(t[I]=n(O)),R=t[I]),null!=R&&!1!==R&&y.push(R)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:P.default,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),Object(S.polyfill)(V);var q=V;function K(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}}var Y,$;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var X=($=Y=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),y()(m()(n),"_columnStartIndex",0),y()(m()(n),"_columnStopIndex",0),y()(m()(n),"_rowStartIndex",0),y()(m()(n),"_rowStopIndex",0),y()(m()(n),"_onKeyDown",(function(e){var t=n.props,r=t.columnCount,o=t.disabled,i=t.mode,a=t.rowCount;if(!o){var l=n._getScrollState(),c=l.scrollToColumn,s=l.scrollToRow,u=n._getScrollState(),d=u.scrollToColumn,f=u.scrollToRow;switch(e.key){case"ArrowDown":f="cells"===i?Math.min(f+1,a-1):Math.min(n._rowStopIndex+1,a-1);break;case"ArrowLeft":d="cells"===i?Math.max(d-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":d="cells"===i?Math.min(d+1,r-1):Math.min(n._columnStopIndex+1,r-1);break;case"ArrowUp":f="cells"===i?Math.max(f-1,0):Math.max(n._rowStartIndex-1,0)}d===c&&f===s||(e.preventDefault(),n._updateScrollState({scrollToColumn:d,scrollToRow:f}))}})),y()(m()(n),"_onSectionRendered",(function(e){var t=e.columnStartIndex,r=e.columnStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;n._columnStartIndex=t,n._columnStopIndex=r,n._rowStartIndex=o,n._rowStopIndex=i})),n}return v()(t,e),c()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=this._getScrollState(),i=o.scrollToColumn,a=o.scrollToRow;return r.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:t,scrollToRow:n}),o||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?{}:e.scrollToColumn!==t.instanceProps.prevScrollToColumn||e.scrollToRow!==t.instanceProps.prevScrollToRow?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}]),t}(r.PureComponent),y()(Y,"propTypes",null),$);y()(X,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),Object(S.polyfill)(X);var Z,Q,ee=n("78cO");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=(Q=Z=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),y()(m()(n),"_parentNode",void 0),y()(m()(n),"_autoSizer",void 0),y()(m()(n),"_window",void 0),y()(m()(n),"_detectElementResize",void 0),y()(m()(n),"_onResize",(function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,o=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,l=(n._window||window).getComputedStyle(n._parentNode)||{},c=parseInt(l.paddingLeft,10)||0,s=parseInt(l.paddingRight,10)||0,u=parseInt(l.paddingTop,10)||0,d=parseInt(l.paddingBottom,10)||0,f=i-u-d,h=a-c-s;(!t&&n.state.height!==f||!r&&n.state.width!==h)&&(n.setState({height:i-u-d,width:a-c-s}),o({height:i,width:a}))}})),y()(m()(n),"_setRef",(function(e){n._autoSizer=e})),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(ee.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.disableHeight,i=e.disableWidth,a=e.style,l=this.state,c=l.height,s=l.width,u={overflow:"visible"},d={};return o||(u.height=0,d.height=c),i||(u.width=0,d.width=s),r.createElement("div",{className:n,ref:this._setRef,style:ne({},u,{},a)},t(d))}}]),t}(r.Component),y()(Z,"propTypes",null),Q);y()(re,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var oe,ie,ae=n("7nmT"),le=(ie=oe=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"_child",void 0),y()(m()(n),"_measure",(function(){var e=n.props,t=e.cache,r=e.columnIndex,o=void 0===r?0:r,i=e.parent,a=e.rowIndex,l=void 0===a?n.props.index||0:a,c=n._getCellMeasurements(),s=c.height,u=c.width;s===t.getHeight(l,o)&&u===t.getWidth(l,o)||(t.set(l,o,u,s),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:l}))})),y()(m()(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=e,e&&n._maybeMeasureCell()})),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||Object(ae.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var l=this._getCellMeasurements(),c=l.height,s=l.width;t.set(a,r,s,c),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),t}(r.PureComponent),y()(oe,"propTypes",null),ie);y()(le,"__internalCellMeasurerFlag",!1);var ce=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),y()(this,"_cellHeightCache",{}),y()(this,"_cellWidthCache",{}),y()(this,"_columnWidthCache",{}),y()(this,"_rowHeightCache",{}),y()(this,"_defaultHeight",void 0),y()(this,"_defaultWidth",void 0),y()(this,"_minHeight",void 0),y()(this,"_minWidth",void 0),y()(this,"_keyMapper",void 0),y()(this,"_hasFixedHeight",void 0),y()(this,"_hasFixedWidth",void 0),y()(this,"_columnCount",0),y()(this,"_rowCount",0),y()(this,"columnWidth",(function(e){var n=e.index,r=t._keyMapper(0,n);return void 0!==t._columnWidthCache[r]?t._columnWidthCache[r]:t._defaultWidth})),y()(this,"rowHeight",(function(e){var n=e.index,r=t._keyMapper(n,0);return void 0!==t._rowHeightCache[r]?t._rowHeightCache[r]:t._defaultHeight}));var r=n.defaultHeight,o=n.defaultWidth,i=n.fixedHeight,l=n.fixedWidth,c=n.keyMapper,s=n.minHeight,u=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===l,this._minHeight=s||0,this._minWidth=u||0,this._keyMapper=c||se,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:100)}return c()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return void 0!==this._cellWidthCache[n]?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]}},{key:"set",value:function(e,t,n,r){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var l=this._keyMapper(e,0);this._rowHeightCache[l]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function se(e,t){return"".concat(e,"-").concat(t)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe="observed",he="requested",me=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),y()(m()(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),y()(m()(n),"_onSectionRenderedMemoizer",R()),y()(m()(n),"_onScrollMemoizer",R(!1)),y()(m()(n),"_invokeOnSectionRenderedHelper",(function(){var e=n.props,t=e.cellLayoutManager,r=e.onSectionRendered;n._onSectionRenderedMemoizer({callback:r,indices:{indices:t.getLastRenderedIndices()}})})),y()(m()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),y()(m()(n),"_updateScrollPositionForScrollToCell",(function(){var e=n.props,t=e.cellLayoutManager,r=e.height,o=e.scrollToAlignment,i=e.scrollToCell,a=e.width,l=n.state,c=l.scrollLeft,s=l.scrollTop;if(i>=0){var u=t.getScrollPositionForCell({align:o,cellIndex:i,height:r,scrollLeft:c,scrollTop:s,width:a});u.scrollLeft===c&&u.scrollTop===s||n._setScrollPosition(u)}})),y()(m()(n),"_onScroll",(function(e){if(e.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var t=n.props,r=t.cellLayoutManager,o=t.height,i=t.isScrollingChange,a=t.width,l=n._scrollbarSize,c=r.getTotalSize(),s=c.height,u=c.width,d=Math.max(0,Math.min(u-a+l,e.target.scrollLeft)),f=Math.max(0,Math.min(s-o+l,e.target.scrollTop));if(n.state.scrollLeft!==d||n.state.scrollTop!==f){var h=e.cancelable?fe:he;n.state.isScrolling||i(!0),n.setState({isScrolling:!0,scrollLeft:d,scrollPositionChangeReason:h,scrollTop:f})}n._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:f,totalWidth:u,totalHeight:s})}})),n._scrollbarSize=Object(P.default)(),void 0===n._scrollbarSize?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return v()(t,e),c()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,o=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Object(P.default)(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,l=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:l})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,l=this.state,c=l.scrollLeft,s=l.scrollPositionChangeReason,u=l.scrollTop;s===he&&(c>=0&&c!==t.scrollLeft&&c!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=c),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),r===e.height&&o===e.scrollToAlignment&&i===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,o=e.cellLayoutManager,i=e.className,a=e.height,l=e.horizontalOverscanSize,c=e.id,s=e.noContentRenderer,u=e.style,d=e.verticalOverscanSize,f=e.width,h=this.state,m=h.isScrolling,p=h.scrollLeft,v=h.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==o||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=o,this._calculateSizeAndPositionDataOnNextUpdate=!1,o.calculateSizeAndPositionData());var g=o.getTotalSize(),y=g.height,S=g.width,b=Math.max(0,p-l),w=Math.max(0,v-d),E=Math.min(S,p+f+l),C=Math.min(y,v+a+d),x=a>0&&f>0?o.cellRenderers({height:C-w,isScrolling:m,width:E-b,x:b,y:w}):[],I={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:f,willChange:"transform"},T=y>a?this._scrollbarSize:0,O=S>f?this._scrollbarSize:0;return I.overflowX=S+T<=f?"hidden":"auto",I.overflowY=y+O<=a?"hidden":"auto",r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Object(_.default)("ReactVirtualized__Collection",i),id:c,onScroll:this._onScroll,role:"grid",style:de({},I,{},u),tabIndex:0},n>0&&r.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:y,maxHeight:y,maxWidth:S,overflow:"hidden",pointerEvents:m?"none":"",width:S}},x),0===n&&s())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:he};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop,scrollPositionChangeReason:he}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:he}}}]),t}(r.PureComponent);y()(me,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),Object(S.polyfill)(me);var pe=me,ve=function(){function e(t){var n=t.height,r=t.width,o=t.x,i=t.y;a()(this,e),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}return c()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),e}(),ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;a()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return c()(e,[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,r=e.x,o=e.y,i={};return this.getSections({height:t,width:n,x:r,y:o}).forEach((function(e){return e.getCellIndices().forEach((function(e){i[e]=e}))})),Object.keys(i).map((function(e){return i[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,r=e.x,o=e.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),l=Math.floor(o/this._sectionSize),c=Math.floor((o+t-1)/this._sectionSize),s=[],u=i;u<=a;u++)for(var d=l;d<=c;d++){var f="".concat(u,".").concat(d);this._sections[f]||(this._sections[f]=new ve({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:d*this._sectionSize})),s.push(this._sections[f])}return s}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var e=this;return Object.keys(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}]),e}();function ye(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,o=e.cellSize,i=e.containerSize,a=e.currentOffset,l=r,c=l-i+o;switch(n){case"start":return l;case"end":return c;case"center":return l-(i-o)/2;default:return Math.max(c,Math.min(l,a))}}var Se=function(e){function t(e,n){var r;return a()(this,t),(r=u()(this,f()(t).call(this,e,n)))._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(m()(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(m()(r)),r}return v()(t,e),c()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=w()({},this.props);return r.createElement(pe,w()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,o=[],i=new ge(r),a=0,l=0,c=0;c<t;c++){var s=n({index:c});if(null==s.height||isNaN(s.height)||null==s.width||isNaN(s.width)||null==s.x||isNaN(s.x)||null==s.y||isNaN(s.y))throw Error("Invalid metadata returned for cell ".concat(c,":\n        x:").concat(s.x,", y:").concat(s.y,", width:").concat(s.width,", height:").concat(s.height));a=Math.max(a,s.y+s.height),l=Math.max(l,s.x+s.width),o[c]=s,i.registerCell({cellMetadatum:s,index:c})}return{cellMetadata:o,height:a,sectionManager:i,width:l}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,r=e.height,o=e.scrollLeft,i=e.scrollTop,a=e.width,l=this.props.cellCount;if(n>=0&&n<l){var c=this._cellMetadata[n];o=ye({align:t,cellOffset:c.x,cellSize:c.width,containerSize:a,currentOffset:o,targetIndex:n}),i=ye({align:t,cellOffset:c.y,cellSize:c.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,r=e.isScrolling,o=e.width,i=e.x,a=e.y,l=this.props,c=l.cellGroupRenderer,s=l.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),c({cellCache:this._cellCache,cellRenderer:s,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(r.PureComponent);y()(Se,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,o=e.indices,i=e.isScrolling;return o.map((function(e){var o=r({index:e}),a={index:e,isScrolling:i,key:e,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(e in t||(t[e]=n(a)),t[e]):n(a)})).filter((function(e){return!!e}))}});var be=function(e){function t(e,n){var r;return a()(this,t),(r=u()(this,f()(t).call(this,e,n)))._registerChild=r._registerChild.bind(m()(r)),r}return v()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width;n===e.columnMaxWidth&&r===e.columnMinWidth&&o===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width,a=r||1,l=n?Math.min(n,i):i,c=i/o;return c=Math.max(a,c),c=Math.min(l,c),c=Math.floor(c),t({adjustedWidth:Math.min(i,c*o),columnWidth:c,getColumnWidth:function(){return c},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(r.PureComponent);be.propTypes={};var we=n("RhWx"),_e=n.n(we),Ee=function(e){function t(e,n){var r;return a()(this,t),(r=u()(this,f()(t).call(this,e,n)))._loadMoreRowsMemoizer=R(),r._onRowsRendered=r._onRowsRendered.bind(m()(r)),r._registerChild=r._registerChild.bind(m()(r)),r}return v()(t,e),c()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=R(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var r=n(e);r&&r.then((function(){var n,r,o,i,a;n={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,r=this,o=this.props,i=o.isRowLoaded,a=o.minimumBatchSize,l=o.rowCount,c=o.threshold,s=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,o=e.startIndex,i=e.stopIndex,a=[],l=null,c=null,s=o;s<=i;s++){t({index:s})?null!==c&&(a.push({startIndex:l,stopIndex:c}),l=c=null):(c=s,null===l&&(l=s))}if(null!==c){for(var u=Math.min(Math.max(c,l+n-1),r-1),d=c+1;d<=u&&!t({index:d});d++)c=d;a.push({startIndex:l,stopIndex:c})}if(a.length)for(var f=a[0];f.stopIndex-f.startIndex+1<n&&f.startIndex>0;){var h=f.startIndex-1;if(t({index:h}))break;f.startIndex=h}return a}({isRowLoaded:i,minimumBatchSize:a,rowCount:l,startIndex:Math.max(0,e-c),stopIndex:Math.min(l-1,t+c)}),u=(n=[]).concat.apply(n,_e()(s.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(s)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(r.PureComponent);y()(Ee,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),Ee.propTypes={};var Ce,xe,Ie=(xe=Ce=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"Grid",void 0),y()(m()(n),"_cellRenderer",(function(e){var t=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,l=e.key,c=n.props.rowRenderer,s=Object.getOwnPropertyDescriptor(o,"width");return s&&s.writable&&(o.width="100%"),c({index:r,style:o,isScrolling:i,isVisible:a,key:l,parent:t})})),y()(m()(n),"_setRef",(function(e){n.Grid=e})),y()(m()(n),"_onScroll",(function(e){var t=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:o})})),y()(m()(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:i})})),n}return v()(t,e),c()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,i=e.width,a=Object(_.default)("ReactVirtualized__List",t);return r.createElement(q,w()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}]),t}(r.PureComponent),y()(Ce,"propTypes",null),xe);y()(Ie,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:K,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Te=n("ddV6"),Oe=n.n(Te);n("tQbP");var Re={ge:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>=0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>=r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},gt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},lt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},le:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<=0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<=r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},eq:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(;t<=n;){var i=t+n>>>1,a=o(e[i],r);if(0===a)return i;a<=0?t=i+1:n=i-1}return-1}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(;t<=n;){var o=t+n>>>1,i=e[o];if(i===r)return o;i<=r?t=o+1:n=o-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}};function Me(e,t,n,r,o){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var ke=Me.prototype;function Ae(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function ze(e,t){var n=Ge(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function Pe(e,t){var n=e.intervals([]);n.push(t),ze(e,n)}function Ne(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?0:(n.splice(r,1),ze(e,n),1)}function Le(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var o=n(e[r]);if(o)return o}}function je(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var o=n(e[r]);if(o)return o}}function De(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function Fe(e,t){return e-t}function We(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function He(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function Ge(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(Fe);var r=t[t.length>>1],o=[],i=[],a=[];for(n=0;n<e.length;++n){var l=e[n];l[1]<r?o.push(l):r<l[0]?i.push(l):a.push(l)}var c=a,s=a.slice();return c.sort(We),s.sort(He),new Me(r,Ge(o),Ge(i),c,s)}function Ue(e){this.root=e}ke.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},ke.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?Pe(this,e):this.left.insert(e):this.left=Ge([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?Pe(this,e):this.right.insert(e):this.right=Ge([e]);else{var n=Re.ge(this.leftPoints,e,We),r=Re.ge(this.rightPoints,e,He);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},ke.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?Ne(this,e):2===(i=this.left.remove(e))?(this.left=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?Ne(this,e):2===(i=this.right.remove(e))?(this.right=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(1===this.count)return this.leftPoints[0]===e?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}Ae(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Ae(this,this.left):Ae(this,this.right);return 1}for(o=Re.ge(this.leftPoints,e,We);o<this.leftPoints.length&&this.leftPoints[o][0]===e[0];++o)if(this.leftPoints[o]===e){this.count-=1,this.leftPoints.splice(o,1);for(i=Re.ge(this.rightPoints,e,He);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),1}return 0},ke.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(n=this.left.queryPoint(e,t))return n;return Le(this.leftPoints,e,t)}if(e>this.mid){var n;if(this.right)if(n=this.right.queryPoint(e,t))return n;return je(this.rightPoints,e,t)}return De(this.leftPoints,t)},ke.queryInterval=function(e,t,n){var r;if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n)))return r;return t<this.mid?Le(this.leftPoints,t,n):e>this.mid?je(this.rightPoints,e,n):De(this.leftPoints,n)};var Be=Ue.prototype;Be.insert=function(e){this.root?this.root.insert(e):this.root=new Me(e[0],null,null,[e],[e])},Be.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),0!==t}return!1},Be.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},Be.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(Be,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Be,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Ve,qe,Ke=function(){function e(){var t;a()(this,e),y()(this,"_columnSizeMap",{}),y()(this,"_intervalTree",t&&0!==t.length?new Ue(Ge(t)):new Ue(null)),y()(this,"_leftMap",{})}return c()(e,[{key:"estimateTotalHeight",value:function(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=Oe()(e,3),o=t[0],i=(t[1],t[2]);return n(i,r._leftMap[i],o)}))}},{key:"setPosition",value:function(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var o=this._columnSizeMap,i=o[t];o[t]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}]),e}();function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=(qe=Ve=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"state",{isScrolling:!1,scrollTop:0}),y()(m()(n),"_debounceResetIsScrollingId",void 0),y()(m()(n),"_invalidateOnUpdateStartIndex",null),y()(m()(n),"_invalidateOnUpdateStopIndex",null),y()(m()(n),"_positionCache",new Ke),y()(m()(n),"_startIndex",null),y()(m()(n),"_startIndexMemoized",null),y()(m()(n),"_stopIndex",null),y()(m()(n),"_stopIndexMemoized",null),y()(m()(n),"_debounceResetIsScrollingCallback",(function(){n.setState({isScrolling:!1})})),y()(m()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),y()(m()(n),"_onScroll",(function(e){var t=n.props.height,r=e.currentTarget.scrollTop,o=Math.min(Math.max(0,n._getEstimatedTotalHeight()-t),r);r===o&&(n._debounceResetIsScrolling(),n.state.scrollTop!==o&&n.setState({isScrolling:!0,scrollTop:o}))})),n}return v()(t,e),c()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new Ke,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Ke,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&F(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.autoHeight,i=n.cellCount,a=n.cellMeasurerCache,l=n.cellRenderer,c=n.className,s=n.height,u=n.id,d=n.keyMapper,f=n.overscanByPixels,h=n.role,m=n.style,p=n.tabIndex,v=n.width,g=n.rowDirection,S=this.state,b=S.isScrolling,w=S.scrollTop,E=[],C=this._getEstimatedTotalHeight(),x=this._positionCache.shortestColumnSize,I=this._positionCache.count,T=0;if(this._positionCache.range(Math.max(0,w-f),s+2*f,(function(n,r,o){var i;void 0===e?(T=n,e=n):(T=Math.min(T,n),e=Math.max(e,n)),E.push(l({index:n,isScrolling:b,key:d(n),parent:t,style:(i={height:a.getHeight(n)},y()(i,"ltr"===g?"left":"right",r),y()(i,"position","absolute"),y()(i,"top",o),y()(i,"width",a.getWidth(n)),i)}))})),x<w+s+f&&I<i)for(var O=Math.min(i-I,Math.ceil((w+s+f-x)/a.defaultHeight*v/a.defaultWidth)),R=I;R<I+O;R++)e=R,E.push(l({index:R,isScrolling:b,key:d(R),parent:this,style:{width:a.getWidth(R)}}));return this._startIndex=T,this._stopIndex=e,r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Object(_.default)("ReactVirtualized__Masonry",c),id:u,onScroll:this._onScroll,role:h,style:$e({boxSizing:"border-box",direction:"ltr",height:o?"auto":s,overflowX:"hidden",overflowY:C<s?"hidden":"auto",position:"relative",width:v,WebkitOverflowScrolling:"touch",willChange:"transform"},m),tabIndex:p},r.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:C,maxWidth:"100%",maxHeight:C,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},E))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&F(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=W(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=e;i<=t;i++){var a=o(i),l=a.left,c=a.top;this._positionCache.setPosition(i,l,c,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(r.PureComponent),y()(Ve,"propTypes",null),qe);function Xe(){}y()(Je,"defaultProps",{autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:Xe,onScroll:Xe,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"});Object(S.polyfill)(Je);var Ze=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),y()(this,"_cellMeasurerCache",void 0),y()(this,"_columnIndexOffset",void 0),y()(this,"_rowIndexOffset",void 0),y()(this,"columnWidth",(function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})})),y()(this,"rowHeight",(function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})}));var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=void 0===o?0:o,l=n.rowIndexOffset,c=void 0===l?0:l;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=c}return c()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}();function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=function(e){function t(e,n){var o;a()(this,t),o=u()(this,f()(t).call(this,e,n)),y()(m()(o),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),y()(m()(o),"_deferredInvalidateColumnIndex",null),y()(m()(o),"_deferredInvalidateRowIndex",null),y()(m()(o),"_bottomLeftGridRef",(function(e){o._bottomLeftGrid=e})),y()(m()(o),"_bottomRightGridRef",(function(e){o._bottomRightGrid=e})),y()(m()(o),"_cellRendererBottomLeftGrid",(function(e){var t=e.rowIndex,n=x()(e,["rowIndex"]),i=o.props,a=i.cellRenderer,l=i.fixedRowCount;return t===i.rowCount-l?r.createElement("div",{key:n.key,style:et({},n.style,{height:20})}):a(et({},n,{parent:m()(o),rowIndex:t+l}))})),y()(m()(o),"_cellRendererBottomRightGrid",(function(e){var t=e.columnIndex,n=e.rowIndex,r=x()(e,["columnIndex","rowIndex"]),i=o.props,a=i.cellRenderer,l=i.fixedColumnCount,c=i.fixedRowCount;return a(et({},r,{columnIndex:t+l,parent:m()(o),rowIndex:n+c}))})),y()(m()(o),"_cellRendererTopRightGrid",(function(e){var t=e.columnIndex,n=x()(e,["columnIndex"]),i=o.props,a=i.cellRenderer,l=i.columnCount,c=i.fixedColumnCount;return t===l-c?r.createElement("div",{key:n.key,style:et({},n.style,{width:20})}):a(et({},n,{columnIndex:t+c,parent:m()(o)}))})),y()(m()(o),"_columnWidthRightGrid",(function(e){var t=e.index,n=o.props,r=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,l=o.state,c=l.scrollbarSize;return l.showHorizontalScrollbar&&t===r-i?c:"function"==typeof a?a({index:t+i}):a})),y()(m()(o),"_onScroll",(function(e){var t=e.scrollLeft,n=e.scrollTop;o.setState({scrollLeft:t,scrollTop:n});var r=o.props.onScroll;r&&r(e)})),y()(m()(o),"_onScrollbarPresenceChange",(function(e){var t=e.horizontal,n=e.size,r=e.vertical,i=o.state,a=i.showHorizontalScrollbar,l=i.showVerticalScrollbar;if(t!==a||r!==l){o.setState({scrollbarSize:n,showHorizontalScrollbar:t,showVerticalScrollbar:r});var c=o.props.onScrollbarPresenceChange;"function"==typeof c&&c({horizontal:t,size:n,vertical:r})}})),y()(m()(o),"_onScrollLeft",(function(e){var t=e.scrollLeft;o._onScroll({scrollLeft:t,scrollTop:o.state.scrollTop})})),y()(m()(o),"_onScrollTop",(function(e){var t=e.scrollTop;o._onScroll({scrollTop:t,scrollLeft:o.state.scrollLeft})})),y()(m()(o),"_rowHeightBottomGrid",(function(e){var t=e.index,n=o.props,r=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,l=o.state,c=l.scrollbarSize;return l.showVerticalScrollbar&&t===i-r?c:"function"==typeof a?a({index:t+r}):a})),y()(m()(o),"_topLeftGridRef",(function(e){o._topLeftGrid=e})),y()(m()(o),"_topRightGridRef",(function(e){o._topRightGrid=e}));var i=e.deferredMeasurementCache,l=e.fixedColumnCount,c=e.fixedRowCount;return o._maybeCalculateCachedStyles(!0),i&&(o._deferredMeasurementCacheBottomLeftGrid=c>0?new Ze({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:c}):i,o._deferredMeasurementCacheBottomRightGrid=l>0||c>0?new Ze({cellMeasurerCache:i,columnIndexOffset:l,rowIndexOffset:c}):i,o._deferredMeasurementCacheTopRightGrid=l>0?new Ze({cellMeasurerCache:i,columnIndexOffset:l,rowIndexOffset:0}):i),o}return v()(t,e),c()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,l=i.fixedRowCount,c=Math.max(0,n-a),s=Math.max(0,o-l);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:s}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:c,rowIndex:s}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:c,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,o=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),a=x()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var l=this.state,c=l.scrollLeft,s=l.scrollTop;return r.createElement("div",{style:this._containerOuterStyle},r.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid(et({},a,{onScroll:t,scrollLeft:c}))),r.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(et({},a,{onScroll:t,scrollTop:s})),this._renderBottomRightGrid(et({},a,{onScroll:t,onSectionRendered:n,scrollLeft:c,scrollToColumn:o,scrollToRow:i,scrollTop:s}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,r=t.enableFixedColumnScroll,o=t.enableFixedRowScroll,i=t.height,a=t.fixedColumnCount,l=t.fixedRowCount,c=t.rowHeight,s=t.style,u=t.styleBottomLeftGrid,d=t.styleBottomRightGrid,f=t.styleTopLeftGrid,h=t.styleTopRightGrid,m=t.width,p=e||i!==this._lastRenderedHeight||m!==this._lastRenderedWidth,v=e||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,g=e||l!==this._lastRenderedFixedRowCount||c!==this._lastRenderedRowHeight;(e||p||s!==this._lastRenderedStyle)&&(this._containerOuterStyle=et({height:i,overflow:"visible",width:m},s)),(e||p||g)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:m},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:m}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=et({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},u)),(e||v||d!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=et({left:this._getLeftGridWidth(this.props),position:"absolute"},d)),(e||f!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=et({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},f)),(e||v||h!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=et({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},h)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=l,this._lastRenderedHeight=i,this._lastRenderedRowHeight=c,this._lastRenderedStyle=s,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=d,this._lastRenderedStyleTopLeftGrid=f,this._lastRenderedStyleTopRightGrid=h,this._lastRenderedWidth=m}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,o=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,l=this.state.showVerticalScrollbar;if(!n)return null;var c=l?1:0,s=this._getBottomGridHeight(e),u=this._getLeftGridWidth(e),d=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,f=a?u+d:u,h=r.createElement(q,w()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:s,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-o)+c,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:f}));return a?r.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:et({},this._bottomLeftGridStyle,{height:s,width:u,overflowY:"hidden"})},h):h}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,n=e.fixedColumnCount,o=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,l=e.scrollToRow;return r.createElement(q,w()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-o),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-n,scrollToRow:l-o,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?r.createElement(q,w()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,o=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,l=e.hideTopRightGridScrollbar,c=this.state,s=c.showHorizontalScrollbar,u=c.scrollbarSize;if(!i)return null;var d=s?1:0,f=this._getTopGridHeight(e),h=this._getRightGridWidth(e),m=s?u:0,p=f,v=this._topRightGridStyle;l&&(p=f+m,v=et({},this._topRightGridStyle,{left:0}));var g=r.createElement(q,w()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-o)+d,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:p,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:v,tabIndex:null,width:h}));return l?r.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:et({},this._topRightGridStyle,{height:f,width:h,overflowX:"hidden"})},g):g}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(r.PureComponent);y()(tt,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),Object(S.polyfill)(tt);var nt=function(e){function t(e,n){var r;return a()(this,t),(r=u()(this,f()(t).call(this,e,n))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(m()(r)),r}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,o=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,l=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:l})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),t}(r.PureComponent);nt.propTypes={};var rt={ASC:"ASC",DESC:"DESC"};function ot(e){var t=e.sortDirection,n=Object(_.default)("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===rt.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===rt.DESC});return r.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===rt.ASC?r.createElement("path",{d:"M7 14l5-5 5 5z"}):r.createElement("path",{d:"M7 10l5 5 5-5z"}),r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function it(e){var t=e.dataKey,n=e.label,o=e.sortBy,i=e.sortDirection,a=o===t,l=[r.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return a&&l.push(r.createElement(ot,{key:"SortIndicator",sortDirection:i})),l}it.propTypes=null;var at=function(e){function t(){return a()(this,t),u()(this,f()(t).apply(this,arguments))}return v()(t,e),t}(r.Component);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}y()(at,"defaultProps",{cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"==typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:rt.ASC,flexGrow:0,flexShrink:1,headerRenderer:it,style:{}}),at.propTypes={};var st=function(e){function t(e){var n;return a()(this,t),(n=u()(this,f()(t).call(this,e))).state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(m()(n)),n._createRow=n._createRow.bind(m()(n)),n._onScroll=n._onScroll.bind(m()(n)),n._onSectionRendered=n._onSectionRendered.bind(m()(n)),n._setRef=n._setRef.bind(m()(n)),n}return v()(t,e),c()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var e=Object(ae.findDOMNode)(this.Grid),t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,i=t.disableHeader,a=t.gridClassName,l=t.gridStyle,c=t.headerHeight,s=t.headerRowRenderer,u=t.height,d=t.id,f=t.noRowsRenderer,h=t.rowClassName,m=t.rowStyle,p=t.scrollToIndex,v=t.style,g=t.width,y=this.state.scrollbarWidth,S=i?u:u-c,b="function"==typeof h?h({index:-1}):h,E="function"==typeof m?m({index:-1}):m;return this._cachedColumnStyles=[],r.Children.toArray(n).forEach((function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=ct({overflow:"hidden"},r)})),r.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":r.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:Object(_.default)("ReactVirtualized__Table",o),id:d,role:"grid",style:v},!i&&s({className:Object(_.default)("ReactVirtualized__Table__headerRow",b),columns:this._getHeaderColumns(),style:ct({height:c,overflow:"hidden",paddingRight:y,width:g},E)}),r.createElement(q,w()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Object(_.default)("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:g,columnCount:1,height:S,id:void 0,noContentRenderer:f,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:p,style:ct({},l,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,o=e.isScrolling,i=e.parent,a=e.rowData,l=e.rowIndex,c=this.props.onColumnClick,s=t.props,u=s.cellDataGetter,d=s.cellRenderer,f=s.className,h=s.columnData,m=s.dataKey,p=s.id,v=d({cellData:u({columnData:h,dataKey:m,rowData:a}),columnData:h,columnIndex:n,dataKey:m,isScrolling:o,parent:i,rowData:a,rowIndex:l}),g=this._cachedColumnStyles[n],y="string"==typeof v?v:null;return r.createElement("div",{"aria-colindex":n+1,"aria-describedby":p,className:Object(_.default)("ReactVirtualized__Table__rowColumn",f),key:"Row"+l+"-Col"+n,onClick:function(e){c&&c({columnData:h,dataKey:m,event:e})},role:"gridcell",style:g,title:y},v)}},{key:"_createHeader",value:function(e){var t,n,o,i,a,l=e.column,c=e.index,s=this.props,u=s.headerClassName,d=s.headerStyle,f=s.onHeaderClick,h=s.sort,m=s.sortBy,p=s.sortDirection,v=l.props,g=v.columnData,y=v.dataKey,S=v.defaultSortDirection,b=v.disableSort,w=v.headerRenderer,E=v.id,C=v.label,x=!b&&h,I=Object(_.default)("ReactVirtualized__Table__headerColumn",u,l.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:x}),T=this._getFlexStyleForColumn(l,ct({},d,{},l.props.headerStyle)),O=w({columnData:g,dataKey:y,disableSort:b,label:C,sortBy:m,sortDirection:p});if(x||f){var R=m!==y?S:p===rt.DESC?rt.ASC:rt.DESC,M=function(e){x&&h({defaultSortDirection:S,event:e,sortBy:y,sortDirection:R}),f&&f({columnData:g,dataKey:y,event:e})};a=l.props["aria-label"]||C||y,i="none",o=0,t=M,n=function(e){"Enter"!==e.key&&" "!==e.key||M(e)}}return m===y&&(i=p===rt.ASC?"ascending":"descending"),r.createElement("div",{"aria-label":a,"aria-sort":i,className:I,id:E,key:"Header-Col"+c,onClick:t,onKeyDown:n,role:"columnheader",style:T,tabIndex:o},O)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,o=e.isScrolling,i=e.key,a=e.parent,l=e.style,c=this.props,s=c.children,u=c.onRowClick,d=c.onRowDoubleClick,f=c.onRowRightClick,h=c.onRowMouseOver,m=c.onRowMouseOut,p=c.rowClassName,v=c.rowGetter,g=c.rowRenderer,y=c.rowStyle,S=this.state.scrollbarWidth,b="function"==typeof p?p({index:n}):p,w="function"==typeof y?y({index:n}):y,E=v({index:n}),C=r.Children.toArray(s).map((function(e,r){return t._createColumn({column:e,columnIndex:r,isScrolling:o,parent:a,rowData:E,rowIndex:n,scrollbarWidth:S})})),x=Object(_.default)("ReactVirtualized__Table__row",b),I=ct({},l,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:S},w);return g({className:x,columns:C,index:n,isScrolling:o,key:i,onRowClick:u,onRowDoubleClick:d,onRowRightClick:f,onRowMouseOver:h,onRowMouseOut:m,rowData:E,style:I})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),r=ct({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:r.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,o=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}]),t}(r.PureComponent);y()(st,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:K,overscanRowCount:10,rowRenderer:function(e){var t=e.className,n=e.columns,o=e.index,i=e.key,a=e.onRowClick,l=e.onRowDoubleClick,c=e.onRowMouseOut,s=e.onRowMouseOver,u=e.onRowRightClick,d=e.rowData,f=e.style,h={"aria-rowindex":o+1};return(a||l||c||s||u)&&(h["aria-label"]="row",h.tabIndex=0,a&&(h.onClick=function(e){return a({event:e,index:o,rowData:d})}),l&&(h.onDoubleClick=function(e){return l({event:e,index:o,rowData:d})}),c&&(h.onMouseOut=function(e){return c({event:e,index:o,rowData:d})}),s&&(h.onMouseOver=function(e){return s({event:e,index:o,rowData:d})}),u&&(h.onContextMenu=function(e){return u({event:e,index:o,rowData:d})})),r.createElement("div",w()({},h,{className:t,key:i,role:"row",style:f}),n)},headerRowRenderer:function(e){var t=e.className,n=e.columns,o=e.style;return r.createElement("div",{className:t,role:"row",style:o},n)},rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var ut=[],dt=null,ft=null;function ht(){ft&&(ft=null,document.body&&null!=dt&&(document.body.style.pointerEvents=dt),dt=null)}function mt(){ht(),ut.forEach((function(e){return e.__resetIsScrolling()}))}function pt(e){e.currentTarget===window&&null==dt&&document.body&&(dt=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){ft&&F(ft);var e=0;ut.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),ft=W(mt,e)}(),ut.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function vt(e,t){ut.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",pt),ut.push(e)}function gt(e,t){(ut=ut.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",pt),ft&&(F(ft),ht()))}var yt,St,bt=function(e){return e===window},wt=function(e){return e.getBoundingClientRect()};function _t(e,t){if(e){if(bt(e)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return wt(e)}return{height:t.serverHeight,width:t.serverWidth}}function Et(e,t){if(bt(t)&&document.documentElement){var n=document.documentElement,r=wt(e),o=wt(n);return{top:r.top-o.top,left:r.left-o.left}}var i=Ct(t),a=wt(e),l=wt(t);return{top:a.top+i.top-l.top,left:a.left+i.left-l.left}}function Ct(e){return bt(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(n,!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=function(){return"undefined"!=typeof window?window:void 0},Ot=(St=yt=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"_window",Tt()),y()(m()(n),"_isMounted",!1),y()(m()(n),"_positionFromTop",0),y()(m()(n),"_positionFromLeft",0),y()(m()(n),"_detectElementResize",void 0),y()(m()(n),"_child",void 0),y()(m()(n),"state",It({},_t(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),y()(m()(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()})),y()(m()(n),"_onChildScroll",(function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var r=n.props.scrollElement;r&&("function"==typeof r.scrollTo?r.scrollTo(0,t+n._positionFromTop):r.scrollTop=t+n._positionFromTop)}})),y()(m()(n),"_registerResizeListener",(function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)})),y()(m()(n),"_unregisterResizeListener",(function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)})),y()(m()(n),"_onResize",(function(){n.updatePosition()})),y()(m()(n),"__handleWindowScrollEvent",(function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var r=Ct(t),o=Math.max(0,r.left-n._positionFromLeft),i=Math.max(0,r.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),e({scrollLeft:o,scrollTop:i})}}})),y()(m()(n),"__resetIsScrolling",(function(){n.setState({isScrolling:!1})})),n}return v()(t,e),c()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||ae.findDOMNode(this);if(i instanceof Element&&e){var a=Et(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var l=_t(e,this.props);r===l.height&&o===l.width||(this.setState({height:l.height,width:l.width}),t({height:l.height,width:l.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(ee.a)(),this.updatePosition(e),e&&(vt(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,r=e.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),gt(this,r),vt(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(gt(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,o=t.scrollLeft,i=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:o,scrollTop:r,width:a})}}]),t}(r.PureComponent),y()(yt,"propTypes",null),St);y()(Ot,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Tt(),serverHeight:0,serverWidth:0});var Rt=n("9xBf"),Mt=n("rAmn"),kt=n("QmBg"),At=n("O94r"),zt=n.n(At),Pt=n("RNvQ"),Nt=n.n(Pt),Lt=n("B79d"),jt=n("Luec"),Dt=n("Zm5h"),Ft=(n("ZoMV"),n("eY98"),n("T8uR")),Wt=n("Czhu"),Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},Gt=n("vspj"),Ut=function(e,t){return r.createElement(Gt.a,Object(Wt.a)(Object(Wt.a)({},e),{},{ref:t,icon:Ht}))};Ut.displayName="SyncOutlined";var Bt=r.forwardRef(Ut),Vt=n("5ouU"),qt=n("+Hko"),Kt=n("PXmc"),Yt=n("xq5O"),$t=n("wgY5"),Jt=n.n($t),Xt=n("7pu+"),Zt=n("zwwd"),Qt=n("R8Pv"),en=n("K7eP"),tn=n("hNyY"),nn=n("bIW9"),rn=n("IGx9");function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ln=Lt.f.api.requireLogicalApi("mailConfApiImpl"),cn=Lt.f.api.getSystemApi(),sn=["jpg","JPG","jpeg","JPEG","png","PNG","svg","SVG","gif","GIF"],un=function(e){var t=e;if(o.a.isValidElement(e))t=e;else if("function"==typeof e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=e.apply(void 0,r)}else"string"!=typeof e&&"number"!=typeof e||(t=o.a.createElement("div",null,e));return t};var dn=function(e){var t,n,i,a,l,c,s,u,d,f,h,m=e.item,p=e.order,v=e.active,g=void 0!==v&&v,y=e.isMerging,S=e.hideTag,b=e.className,w=void 0===b?"":b,_=e.avatar,E=e.desc,C=e.from,x=e.dot,I=e.fromFlagAfter,T=e.time,O=e.summary,R=e.summaryExtra,M=e.attachments,k=e.status,A=e.tag,z=e.summaryPreExtra,P=e.onClick,N=(e.onDoubelClick,e.onMouseEnter),L=e.onMouseLeave,j=e.onContextMenu,D="",F=m.entry.brief||"";D=!F||/^\s*(\r\n\s)*\s*$/.test(F)?"（无文字内容）":F;var W=m.entry,H=(W.id,W.title),G=W.mark,U=W.readStatus,B=W.receiveTime,V=W.folder,q=W.replayed,K=W.attachment,Y=W.sendStatus,$=W.threadMessageCount,J=W.sendTime,X=W.isIcs,Z=W.rcptCount,Q=W.readCount,ee=W.priority,te=m.tags,ne=m.isThread,re=(Object(r.useRef)(null),function(e,t){var n=[],r=2==e.entry.folder||3==e.entry.folder,o=new Set;function i(e){var t,r;if((null===(t=null==e?void 0:e.contactItem)||void 0===t?void 0:t.contactItemVal)&&!o.has(e.contactItem.contactItemVal)){var i=e.contact.contact;n.push((null===(r=cn.getCurrentUser())||void 0===r?void 0:r.id)==i.accountName?"我":e.originName||i.accountName),o.add(e.contactItem.contactItemVal)}}return r?e.receiver&&e.receiver.length>0&&e.receiver.forEach((function(e){i(e)})):e.senders&&e.senders.length>0?e.senders.forEach((function(e){i(e)})):i(null==e?void 0:e.sender),(r&&!t?"致：":"")+n.join("、")}(m,y)),oe=on(Object(r.useState)(!1),2),ie=oe[0],ae=oe[1],le=null==K?void 0:K.filter((function(e){return 0==e.inlined&&"ics"!==e.fileType&&"netfolder"!==e.type})),ce="read"==U,se=Object(nn.m)(nn.b),ue=function(e){var t,n,r=null==e?void 0:e.fileType;if(r&&sn.includes(r))return t=K.filter((function(e){return e.downloadContentId===(null==K?void 0:K.downloadContentId)&&e.fileType&&sn.includes(e.fileType)})).map((function(e){return Object.assign(Object.assign({},e),{nonOriginal:!0,downloadUrl:e.fileUrl,previewUrl:e.filePreviewUrl,name:e.fileName,size:e.fileSize})})),n=t.findIndex((function(e){return e.downloadId===K.downloadId})),void rn.a.preview({data:t,startIndex:n});cn.isElectron()&&window.electronLib?cn.createWindowWithInitData("attachment_preview",{eventName:"initPage",eventData:{downloadContentId:null==m?void 0:m.id,downloadId:null==e?void 0:e.downloadId,filePreviewUrl:null==e?void 0:e.filePreviewUrl,attachments:[Object.assign(Object.assign({},e),{downloadContentId:null==m?void 0:m.id})],fileName:null==e?void 0:e.fileName,type:"attachment",hash:"#type=attachment&mid=".concat(null==e?void 0:e.contentId,"&fileName=").concat(null==e?void 0:e.fileName,"&size=").concat(null==e?void 0:e.fileSize,"&downloadId=").concat(null==e?void 0:e.downloadId,"&downloadContentId=").concat(null==m?void 0:m.id)}}):se.doAttachmentPreview({visible:!0,downloadContentId:null==e?void 0:e.fileUrl,attachments:[Object.assign(Object.assign({},e),{downloadContentId:null==m?void 0:m.id})]})},de=Jt()(J).unix()>Jt()(B).unix()&&Jt()(J).unix()>Jt()().unix()&&4!==V,fe=ne&&$>1?o.a.createElement("div",{className:"from-count"},$>99?"99+":$,"封"):"",he=function(){var e="read"==U;return q?e?o.a.createElement("div",{className:"dot-replay"},g?o.a.createElement(jt.b.ReplyFullSvg,null):o.a.createElement(jt.b.ReplyFullActiveSvg,null)):o.a.createElement("div",{className:"dots"},g?o.a.createElement(jt.b.ReplyCircleSvg,null):o.a.createElement(jt.b.ReplyCircleActiveSvg,null)):e?"":o.a.createElement("div",{className:"dot"})}(),me=H?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:H}}):o.a.createElement("span",null,"无主题"),pe=X?o.a.createElement("div",{className:"summary-extra-pre-warp"},g?o.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.4 3.2V4H5.6V3.2H10.4V4H11.6V3.2H13.3V5.4H2.7V3.2H4.4ZM2.7 6.6V12.8H13.3V6.6H2.7ZM5.6 2H10.4V1H11.6V2H13.7C14.1418 2 14.5 2.35817 14.5 2.8V13.2C14.5 13.6418 14.1418 14 13.7 14H2.3C1.85817 14 1.5 13.6418 1.5 13.2V2.8C1.5 2.35817 1.85817 2 2.3 2H4.4V1H5.6V2Z",fill:"#ffffff"})):o.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.4 3.2V4H5.6V3.2H10.4V4H11.6V3.2H13.3V5.4H2.7V3.2H4.4ZM2.7 6.6V12.8H13.3V6.6H2.7ZM5.6 2H10.4V1H11.6V2H13.7C14.1418 2 14.5 2.35817 14.5 2.8V13.2C14.5 13.6418 14.1418 14 13.7 14H2.3C1.85817 14 1.5 13.6418 1.5 13.2V2.8C1.5 2.35817 1.85817 2 2.3 2H4.4V1H5.6V2Z",fill:"#386EE7"}))):o.a.createElement(o.a.Fragment,null),ve=o.a.createElement("div",{className:"red-flag"},"redFlag"==G?o.a.createElement(jt.b.RedFlagSvg,null):""),ge=o.a.createElement(o.a.Fragment,null,null==le?void 0:le.map((function(e,t){return t<2?o.a.createElement("div",{className:"attachment",style:{width:le.length<2?"":"50%"},key:t,onClick:function(){return ue(e)}},o.a.createElement("div",{className:"attachment-logo"},o.a.createElement(en.a,{type:e.fileType})),o.a.createElement("div",{className:"attachment-name"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(Xt.a)(e.fileName||"未命名")}}))):""})),le&&le.length>2?o.a.createElement("div",{className:"attachment-num"},"+".concat(le.length-2)):""),ye=Y?o.a.createElement("span",{className:"".concat("sending"==Y?"sending":"")},"sending"==Y?"发送中...":"","sentFailed"==Y?"邮件发送失败":"","sentNetworkFailed"==Y?"邮件发送失败，网络异常":""):null,Se=3==+V&&(Z||Q)?o.a.createElement("span",null,+Q," ","已读 ·"," ",+Z-+Q," ","未读"):null,be=o.a.createElement(Zt.a,{size:32,user:{avatar:null===(i=null===(n=null===(t=null==m?void 0:m.sender)||void 0===t?void 0:t.contact)||void 0===n?void 0:n.contact)||void 0===i?void 0:i.avatar,name:(null===(a=null==m?void 0:m.sender)||void 0===a?void 0:a.originName)?null===(l=null==m?void 0:m.sender)||void 0===l?void 0:l.originName:null===(u=null===(s=null===(c=null==m?void 0:m.sender)||void 0===c?void 0:c.contact)||void 0===s?void 0:s.contact)||void 0===u?void 0:u.contactName,color:null===(h=null===(f=null===(d=null==m?void 0:m.sender)||void 0===d?void 0:d.contact)||void 0===f?void 0:f.contact)||void 0===h?void 0:h.color}}),we=o.a.createElement("span",{dangerouslySetInnerHTML:{__html:D}}),_e=o.a.createElement("span",{dangerouslySetInnerHTML:{__html:re}}),Ee=null==te?void 0:te.filter((function(e){return e!=S})),Ce=Ee&&Ee.length?[o.a.createElement(tn.a,{limit:!0,color:ln.getTagColor(Ee[0])},Ee[0]),Ee.length>1?o.a.createElement(tn.a,{more:!0},"..."):""]:"",xe=un(_,m,p,be),Ie=un(E,m,p),Te=un(C,m,p,re),Oe=un(x,m,e,p),Re=un(I,m,p),Me=un(T,m,p),ke=un(O,m,p),Ae=un(R,m,p,g,ie),ze=un(z,m,p,g,ie),Pe=un(M,m,p),Ne=un(k,m,p),Le=un(A,m,p),je=Object(Kt.r)(J),De=Object(Kt.P)(J);return o.a.createElement("div",{className:"mailbox-list-item-wrap",onClick:function(e){e.persist(),P&&P(e)},onMouseEnter:function(e){ae(!0),N&&N(e)},onMouseLeave:function(e){ae(!1),L&&L(e)},onContextMenu:function(e){j&&j(e)}},o.a.createElement("div",{className:"mail-list-item ".concat(g?"active":""," ").concat(w)},o.a.createElement("div",{className:"avatar-wrap"},xe||be),o.a.createElement("div",{className:"content-warp"},o.a.createElement("div",{className:"from-wrap"},o.a.createElement("div",{className:"from-name-wrap"},o.a.createElement("div",{className:"from-flag-warp"},Oe||he),"number"==typeof ee&&ee<2&&o.a.createElement("div",{className:"list-alarm",title:"紧急邮件"},o.a.createElement(Qt.a,{type:"alarm"})),o.a.createElement("div",{className:"from-name ".concat(ce?"":"font-active")},Te||_e),o.a.createElement("div",{className:"from-flag-after-wrap"},Re||fe)),o.a.createElement("div",{className:"time"},de?o.a.createElement("span",{className:"schedule-icon"},g?o.a.createElement(jt.b.ScheduleSvgCof,{color:"#FFF"}):o.a.createElement(jt.b.ScheduleSvgCof,null),De):Me||je)),o.a.createElement("div",{className:"summary-warp"},ze||pe,o.a.createElement("div",{className:"summary"},ke||me),o.a.createElement("div",{className:"summary-extra-warp"},Ae||ve)),o.a.createElement("div",{className:"desc-wrap"},o.a.createElement("div",{className:"desc"},Ie||we),o.a.createElement("div",{className:"mail-tag-warp"},Le||Ce)),o.a.createElement("div",{className:"attachments-warp"},Pe||ge),Ne||ye?o.a.createElement("div",{className:"status-wrap"},Ne||ye):"",Se?o.a.createElement("div",{className:"status-wrap"},Se):"")))};function fn(e){return function(e){if(Array.isArray(e))return pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(r.useState)(0),a=hn(i,2),l=a[0],c=a[1],s=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(l),f=Object(r.useRef)(null),h=Object(r.useRef)(null),m=Object(r.useRef)(null);return d.current=l,Object(r.useEffect)((function(){if(h.current?m.current=f.current:h.current=f.current,s.current)return u&&u.current||(o&&1===l&&e.apply(void 0,fn(s.current)),u.current=setTimeout((function(){1!==d.current||o||e.apply(void 0,fn(s.current)),c(0),u.current=null,s.current=null,f.current=null,h.current=null,m.current=null}),n)),2===l&&(h.current==m.current&&t.apply(void 0,fn(s.current)),u.current=null,s.current=null,f.current=null,h.current=null,m.current=null,u.current&&clearTimeout(u.current),c(0)),function(){return clearTimeout(u.current)}}),[l]),function(e){f.current=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s.current=n,c((function(e){return e+1}))}};function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sn,bn=Lt.f.api.getEventApi();Lt.f.api.getSystemApi();!function(e){e.INIT="INIT",e.SINGLE="SINGLE",e.MULTIPLE="MULTIPE"}(Sn||(Sn={}));var wn=function(e){var t=e.itemSummaryExtra,n=e.itemWrap,i=e.itemDesc,a=e.itemTitle,l=e.onItemMouseEnter,c=e.onItemMouseLeave,s=e.onItemSelected,u=e.onItemContextmenu,d=e.onCreated,f=e.onScroll,h=e.onItemDragStart,m=e.onItemDragEnd,p=e.onItemDoubleClick,v=(e.isRowLoaded,e.mailDataList),g=e.loadMoreRows,y=e.rowCount,S=e.listHeight,b=e.rowHeight,w=e.listWidth,_=e.scrollTop,E=e.listLoading,C=e.selectedKeys,x=e.selected,I=e.notice,T=e.isMerging,O=e.tagName,R=e.isSearching,M=e.configItemClassName,k=void 0===M?function(){return""}:M,A=e.activeIds,z=void 0===A?[]:A,P=e.activeIdsMap,N=e.mailId2ListIndexMap,L=e.refreshPage,j=Object(r.useRef)(null),D=gn(Object(r.useState)(null),2),F=D[0],W=D[1],H=Object(r.useRef)(_);H.current=_;var G=new Ft.CellMeasurerCache({fixedWidth:!0,minHeight:70}),U=function(){if(R)return!1;var e=C[0];return![Kt.a.DRAFT,Kt.a.WAITINGISSUE,Kt.a.READYISSUE].some((function(t){return t===e}))},B=null!=n?n:function(e){return o.a.createElement("div",{draggable:U(),onDragStart:function(t){ne(t,e.item,e.index),re(t,e.item,e.index)},onDrag:function(t){re(t,e.item,e.index)},onDragEnd:function(t){re(t,e.item,e.index)}},e.children)},V=gn(Object(r.useState)(new Map),2),q=V[0],K=V[1],Y=gn(Object(r.useState)(new Map),2),$=Y[0],J=Y[1],X=null!=P?P:$,Z=gn(Object(r.useState)(null),2),Q=Z[0],ee=Z[1];Object(r.useEffect)((function(){d&&d({scrollTo:ie})}),[]),Object(r.useEffect)((function(){P||($.clear(),z&&z.length&&z.forEach((function(e){$.set(e,!0)})),J($)),W(null)}),[z]),Object(r.useEffect)((function(){!N&&v&&(q.clear(),v.forEach((function(e,t){q.set(e.entry.id,t)})),K(q))}),[v]),Object(r.useEffect)((function(){var e,t;if(Object(Kt.l)(C[0])&&0===x){for(var n=0,r=!1,o=0;o<v.length&&v[o].entry.top;o++)n+=1,r=!0;ee(r?null===(t=null===(e=v[n-1])||void 0===e?void 0:e.entry)||void 0===t?void 0:t.id:null)}else ee(null)}),[v]);var te=function(e){return z&&z.length?!!X.get(e):F==e},ne=function(e,t,n){ae(e,t,n),h&&h(e,t,n)},re=Object(r.useCallback)(Nt()((function(e,t,n){m&&m(e,t,n)}),300),[m]),oe=function(e,t){return te(e.entry.id)},ie=function(e){j&&j.current&&j.current.scrollToRow(e)},ae=function(e,t,n){if(e.dataTransfer.effectAllowed="move",e.persist(),e.dataTransfer.setData("isThread","".concat(null==t?void 0:t.isThread)),te(t.entry.id)){e.dataTransfer.setData("text",z);var r=document.getElementById("drag-active-icon-mult");e.dataTransfer.setDragImage(r,-10,-10)}else{e.dataTransfer.setData("text",t.entry.id);var o=document.getElementById("drag-active-icon");e.dataTransfer.setDragImage(o,-10,-10)}},le=o.a.createElement("div",{style:{position:"absolute",zIndex:-9999}},o.a.createElement("div",{className:"drag-active-icon-wrap",id:"drag-active-icon-mult"},o.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1.875 4.125C1.875 3.57272 2.32272 3.125 2.875 3.125H17.125C17.6773 3.125 18.125 3.57272 18.125 4.125V15.875C18.125 16.4273 17.6773 16.875 17.125 16.875H2.875C2.32272 16.875 1.875 16.4273 1.875 15.875V4.125Z",stroke:"#386EE7",strokeWidth:"1.5",strokeLinecap:"round"}),o.a.createElement("path",{d:"M2.5 3.75L9.55624 8.45416C9.82496 8.63331 10.175 8.63331 10.4438 8.45416L17.5 3.75",stroke:"#386EE7",strokeWidth:"1.5"})),o.a.createElement("div",{hidden:z&&z.length<=1,className:"drag-mail-number"},null==z?void 0:z.length))),ce=o.a.createElement("div",{style:{position:"absolute",zIndex:-9999}},o.a.createElement("div",{className:"drag-active-icon-wrap",id:"drag-active-icon"},o.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1.875 4.125C1.875 3.57272 2.32272 3.125 2.875 3.125H17.125C17.6773 3.125 18.125 3.57272 18.125 4.125V15.875C18.125 16.4273 17.6773 16.875 17.125 16.875H2.875C2.32272 16.875 1.875 16.4273 1.875 15.875V4.125Z",stroke:"#386EE7",strokeWidth:"1.5",strokeLinecap:"round"}),o.a.createElement("path",{d:"M2.5 3.75L9.55624 8.45416C9.82496 8.63331 10.175 8.63331 10.4438 8.45416L17.5 3.75",stroke:"#386EE7",strokeWidth:"1.5"})))),se=function(e,t){var n=e.entry,r=n.readStatus,i=(n.sendTime,n.receiveTime,n.folder,n.replayed),a="read"===r,l=C&&C[0],c=!(2==l||3==l||4==l||5==l),s=[];return i?a||!c?s.push(o.a.createElement("div",{className:"dot-replay"},t.active?o.a.createElement(jt.b.ReplyFullSvg,null):o.a.createElement(jt.b.ReplyFullActiveSvg,null))):s.push(o.a.createElement("div",{className:"dots"},t.active?o.a.createElement(jt.b.ReplyCircleSvg,null):o.a.createElement(jt.b.ReplyCircleActiveSvg,null))):!a&&c&&s.push(o.a.createElement("div",{className:"dot"})),o.a.createElement(o.a.Fragment,null,s)},ue=null!=t?t:function(e,t,n,r){var i=e.entry,a=i.id,l=(i.title,i.mark);i.folder,i.threadMessageCount,e.threadMails,e.isThread;return!C||4!=C[0]&&5!=C[0]?o.a.createElement("div",{className:"flag",onClick:function(e){e.stopPropagation(),bn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:"none"===l,id:a,type:"redFlag"},eventStrData:"none"===l?"mark":"unmark"})}},"redFlag"==l?o.a.createElement(Rt.a,{title:"取消红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},o.a.createElement("span",{className:"red"},o.a.createElement(jt.b.RedFlagSvg,null))):o.a.createElement(Rt.a,{title:"标为红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},r?n?o.a.createElement("span",{className:"white"},o.a.createElement(jt.b.WhiteFlagSvg,null)):o.a.createElement("span",{className:"grey"},o.a.createElement(jt.b.FlagSvg,null)):"")):o.a.createElement("span",null)},de=i,fe=Object(r.useMemo)((function(){for(var e=[],t=0;t<50;t++)e.push(o.a.createElement("div",{style:{height:"75px"},key:t},o.a.createElement(Yt.a,{active:!0,key:t,loading:!0,avatar:!0,paragraph:{rows:1}})));return e}),[]);Object(r.useEffect)((function(){var e;e=_,j&&j.current&&j.current.scrollToPosition(e)}),[_]);var he=function(e){return"default"==e?o.a.createElement("div",null,o.a.createElement(Bt,null)):"loading"==e?o.a.createElement("div",null,o.a.createElement(Bt,{spin:!0})):"success"==e?o.a.createElement("div",null,o.a.createElement(Vt.a,{twoToneColor:"#52c41a"})):"failed"==e?o.a.createElement("div",null,o.a.createElement(qt.a,null)):void 0},me=function(){return o.a.createElement("div",null,o.a.createElement(Bt,{spin:!0}))},pe=function(){return o.a.createElement("div",{className:"mail-list-topline"},o.a.createElement("span",null,"到底啦"))},ve=Object(r.useCallback)(vn((function(e,t,n){P||W(n.id),s&&s(e,t)}),p,500,!0),[]),ge=Object(r.useMemo)((function(){return o.a.createElement(Ft.List,{scrollToAlignment:"center",containerStyle:{marginTop:C&&(4==C[0]||5==C[0]||1==C[0]&&I)?0:"12px"},style:"/"!==window.location.pathname?{overflowX:"hidden",height:"95vh"}:{overflowX:"hidden"},noMoreRender:pe,className:"u-vlist",ref:j,height:S,rowHeight:function(e){var t,n,r=0;return(null===(n=null===(t=v[e.index])||void 0===t?void 0:t.entry)||void 0===n?void 0:n.id)==Q&&(r+=49),b(e)+r},width:w-3,onScroll:f,onLoadMore:g?function(e){return g({startIndex:e})}:null,scrollTop:H.current,initLoadMore:!1,batchSize:100,threshold:500,data:v,total:y,onPullRefresh:L,pullRefreshRender:he,loadMoreLoadingRender:me,rowRenderer:function(e){var t=e.index,n=e.key,r=e.style,i=e.parent,s=v[t];return o.a.createElement(Ft.CellMeasurer,{cache:G,columnIndex:0,key:n,parent:i,rowIndex:t},o.a.createElement("div",{key:n,style:r},s?o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{item:s,index:t},o.a.createElement(dn,{className:k(s),onContextMenu:function(e){e.preventDefault(),function(e,t){u&&u(e,t)}(s,t)},isMerging:T,order:t,item:s,from:a,active:oe(s),onClick:function(e){ve(s.entry.id,t,e,s)},dot:se,onMouseEnter:function(e){e.stopPropagation(),function(e){l&&l(e)}(t)},onMouseLeave:function(e){e.stopPropagation(),function(e){c&&c(e)}(t)},summaryExtra:ue,desc:de,hideTag:O})),Object(Kt.l)(C[0])&&0===x&&Q==s.entry.id?o.a.createElement("div",{className:"mail-list-topline"},o.a.createElement("span",null,"以上为置顶")):o.a.createElement(o.a.Fragment,null)):o.a.createElement(Yt.a,{active:!0,key:n,loading:!0,avatar:!0,paragraph:{rows:1}})))}})}),[x,C,S,b,y,v,E,T,O,w,I,Q,G]);return o.a.createElement("div",{className:"mail-list sirius-no-drag"},ge,o.a.createElement("div",{hidden:!E,style:{width:"100%",height:"100vh",overflow:"hidden",padding:"10px 5px",position:"absolute",background:"#FFFFFF",top:0,left:0}},fe),ce,le)},_n=n("/Oqt"),En=n("2srY"),Cn=n.n(En),xn=n("S0yW"),In=n("1v+d"),Tn=n("RbKB"),On=n("wWVJ"),Rn=n("L5fd"),Mn=n("xgAC");function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zn=Lt.f.api.requireLogicalApi(Lt.h.mailApiImpl),Pn=Lt.f.api.getEventApi(),Nn=function(e){var t=e.onDelete,n=e.onMove,r=e.item,i=e.visible,a=e.setVisible,l=(e.attachmentCount,e.isMerge),c=e.openNewWindow,s=xn.a.SubMenu;if(!r||0==r.length)return o.a.createElement(o.a.Fragment,null);var u=Array.isArray(r)?r[0]:r,d=Cn()(u,["sender","contactItem","contactItemVal"],""),f=u||{entry:{}},h=f.entry,m=h.id,p=h.mark,v=h.readStatus,g=h.folder,y=(h.threadMessageCount,h.threadMessageIds),S=h.top,b=h.title,w=(h.receiveTime,h.attachment,f.isThread),_=void 0!==w&&w,E=_,C="read"==v,x="redFlag"==p,I=kn(Object(Tn.a)("selectedKeys","doUpdateSelectedKey"),2),T=(I[0],I[1],kn(Object(Tn.a)("mailListStateTab","doUpdateMailListStateTab"),1)[0]),O=(Lt.f.api.getSystemApi().isElectron(),function(e){zn.doReplayMail(_?y[0]:m,e)}),R=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&t(m,E,E?{detail:e,showGlobalLoading:!0,showLoading:!1}:{detail:e,showLoading:!0,isScheduleSend:!!Object(Kt.L)(u)})},M=function(e){return!(!e||!e.length)&&e.some((function(e){return e==g}))},k=Object(nn.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode})),A=k&&y&&y.length>1;return o.a.createElement(xn.a,{selectable:!1},M([Kt.a.DRAFT,Kt.a.SENT])?[o.a.createElement(xn.a.Item,{key:"1-1",onClick:function(){a(!1),zn.doEditMail(_?y[0]:m,2==g)}},"再次编辑"),o.a.createElement(xn.a.Divider,{key:"divider1"})]:"",M([Kt.a.DRAFT])?"":[o.a.createElement(xn.a.Item,{key:"2-1",onClick:function(){a(!1),O(!1)}},"回复"),o.a.createElement(xn.a.Item,{key:"2-2",onClick:function(){a(!1),O(!0)}},"回复全部"),o.a.createElement(xn.a.Item,{key:"2-3",onClick:function(){a(!1),zn.doForwardMail(_?y[0]:m)}},"转发"),o.a.createElement(xn.a.Divider,{key:"divider2"})],A||M([Kt.a.DELETED,Kt.a.SPAM])?"":o.a.createElement(xn.a.Item,{key:"3-1",onClick:function(){a(!1),function(e,t){Pn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:m,type:t},eventStrData:e?"mark":"unmark"})}(!x,"redFlag")}},x?"取消":"标为","红旗"),A?"":E||!M([Kt.a.DELETED,Kt.a.SPAM,Kt.a.DRAFT,Kt.a.SENT])?[o.a.createElement(xn.a.Item,{key:"3-2",onClick:function(){a(!1),function(e,t){Pn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:m,type:t},eventStrData:e?"read":"unread"})}(!C,"read")}},C?"标为未读":"标为已读")]:"",k||M([Kt.a.DRAFT,Kt.a.SPAM,Kt.a.DELETED])?"":o.a.createElement(s,{title:o.a.createElement("span",null,"打标签"),popupOffset:[17,0]},o.a.createElement("div",{hidden:!i},o.a.createElement(In.a,{mailList:[u],isMerge:l,Close:function(){a(!1)}}))),A||M([Kt.a.REDFLAG,Kt.a.DELETED,Kt.a.SPAM,Kt.a.DRAFT])||0!==T?"":"/readMailComb"!==window.location.pathname&&o.a.createElement(xn.a.Item,{key:"5-1",onClick:function(){a(!1),Pn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:!S,id:m,isThread:l},eventStrData:S?"unTop":"top"})}},S?"取消置顶":"置顶"),A?"":!M([Kt.a.DELETED,Kt.a.SPAM])||E&&!M([Kt.a.DELETED,Kt.a.SPAM,Kt.a.DRAFT,Kt.a.SENT])?o.a.createElement(xn.a.Divider,{key:"divider3"}):"",M([Kt.a.DRAFT,Kt.a.WAITINGISSUE,Kt.a.READYISSUE])?"":o.a.createElement(xn.a.Item,{key:"4-1",onClick:function(e){a(!1),n&&n(m,g,E)}},"移动"),!k&&3!==g&&!E&&2!==g&&o.a.createElement(xn.a.Item,{key:"report",onClick:function(e){a(!1)}},o.a.createElement(On.a,{mailId:m,hasReport:5===g,senderEmail:d})),!k&&5===g&&!E&&2!==g&&o.a.createElement(xn.a.Item,{key:"report-1",onClick:function(e){a(!1)}},o.a.createElement(On.a,{mailId:m,hasReport:!1,senderEmail:d})),M([Kt.a.DELETED])?o.a.createElement(xn.a.Item,{key:"4-3",onClick:function(e){a(!1),R()}},o.a.createElement("div",{className:"menu-content-wrap"},o.a.createElement("div",{className:"menu-name"},"彻底删除"),o.a.createElement("div",{className:"menu-icon"},o.a.createElement(Mn.a,null)))):o.a.createElement(xn.a.Item,{key:"4-2",onClick:function(e){a(!1),R(!1)}},o.a.createElement("div",{className:"menu-content-wrap"},o.a.createElement("div",{className:"menu-name"},"删除"),o.a.createElement("div",{className:"menu-icon"},o.a.createElement(Mn.a,null)))),k?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(xn.a.Divider,{key:"divider4"}),o.a.createElement(xn.a.Item,{key:"6-3",hidden:2==g,onClick:function(){a(!1),c([m])}},o.a.createElement("div",{className:"menu-content-wrap"},o.a.createElement("div",{className:"menu-name"},"新窗口打开"),o.a.createElement("div",{className:"menu-icon"},"⌘R"))),o.a.createElement(xn.a.Item,{key:"6-2",onClick:function(){a(!1),zn.doExportMail(m,b).catch((function(){Rn.a.error({content:"导出失败，请稍后重试"})}))}},E?"导出聚合邮件":"导出邮件")))},Ln=n("ejHo"),jn=n("ps6S");function Dn(e){return function(e){if(Array.isArray(e))return Hn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||Wn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){if(e){if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hn(e,t):void 0}}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Lt.f.api.requireLogicalApi(Lt.h.mailApiImpl);var Gn=Lt.f.api.getEventApi(),Un=function(e){var t,n,i,a,l=e.onDelete,c=e.onMove,s=e.item,u=e.isMerge,d=e.visible,f=e.setVisible,h=xn.a.SubMenu;if(!s||0==s.length)return o.a.createElement(o.a.Fragment,null,e.children);var m=Fn(Object(r.useState)({}),2),p=m[0],v=m[1],g=Fn(Object(Tn.a)("isSearching","doUpdateIsSearching"),2),y=g[0],S=(g[1],Fn(Object(Tn.a)("isAdvancedSearch","doUpdateIsAdvancedSearch"),2)),b=S[0],w=(S[1],Fn(Object(Tn.a)("selectedKeys","doUpdateSelectedKey"),2)),_=w[0],E=(w[1],Object(nn.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode})));Object(r.useEffect)((function(){var e,t={},n=((e=_[0])>=100&&(e="CUSTOM"),y||b||"-199"==e||"-1"==e?jn.c.VR:jn.c[e]);n&&n.length&&(n.forEach((function(e){return t[e]=!0})),v(t))}),[s]);var C=u,x="read"==(null===(n=null===(t=s[0])||void 0===t?void 0:t.entry)||void 0===n?void 0:n.readStatus),I="redFlag"==(null===(a=null===(i=s[0])||void 0===i?void 0:i.entry)||void 0===a?void 0:a.mark),T=function(){var e=[],t=0;(null==s?void 0:s.length)&&(null==s||s.map((function(n){4==n.entry.folder&&(t+=1),E?e.push.apply(e,Dn(Object(Kt.v)(n))):e.push(n.entry.id)})),l&&l(e,u,{detail:!0,realDeleteNum:t}))};return o.a.createElement(xn.a,null,E?"":p[jn.a.RED_FLAG]?o.a.createElement(xn.a.Item,{key:"3-1",onClick:function(){f(!1),function(e,t){if(null==s?void 0:s.length){var n=[];null==s||s.map((function(e){n.push(e.entry.id)})),n=Array.from(new Set(n)),Gn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:n,type:t},eventStrData:e?"mark":"unmark"})}}(!I,"redFlag")}},I?"取消":"标为","红旗"):"",E?"":p[jn.a.READ]?[o.a.createElement(xn.a.Item,{key:"3-2",onClick:function(){f(!1),function(e,t){if(null==s?void 0:s.length){var n=[];null==s||s.map((function(e){n.push(e.entry.id)})),Gn.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:e,id:n,type:t},eventStrData:e?"read":"unread"})}}(!x,"read")}},x?"标为未读":"标为已读")]:"",E?"":!p[jn.a.RED_FLAG]||C&&!p[jn.a.READ]?o.a.createElement(xn.a.Divider,{key:"divider3"}):"",p[jn.a.TAG]&&!E?o.a.createElement(h,{title:o.a.createElement("span",null,"打标签"),popupOffset:[30,0]},o.a.createElement("div",{hidden:!d},o.a.createElement(Ln.a,{isMerge:u,mailList:s,Close:function(){f(!1)}}))):"",p[jn.a.MOVE]?o.a.createElement(xn.a.Item,{key:"4-1",onClick:function(e){f(!1),function(){var e=[];if((null==s?void 0:s.length)&&(null==s||s.map((function(t){E?e.push.apply(e,Dn(Object(Kt.v)(t))):e.push(t.entry.id)})),c)){var t=_[0];c(e,t,u)}}()}},"移动"):"",p[jn.a.DELETE]?p[jn.a.REAL_DELETE]?o.a.createElement(xn.a.Item,{key:"4-3",onClick:function(){f(!1),T()}},o.a.createElement("div",{className:"menu-content-wrap"},o.a.createElement("div",{className:"menu-name"},"彻底删除"),o.a.createElement("div",{className:"menu-icon"},o.a.createElement(Mn.a,null)))):o.a.createElement(xn.a.Item,{key:"4-2",onClick:function(){f(!1),T()}},o.a.createElement("div",{className:"menu-content-wrap"},o.a.createElement("div",{className:"menu-name"},"删除"),o.a.createElement("div",{className:"menu-icon"},o.a.createElement(Mn.a,null)))):"")};function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qn=function(e){var t=e.item,n=e.isMerge,r=Array.isArray(t)&&t.length>1,i=Bn(Object(Tn.a)("mailListMenuVisiable","doUpdateMailListMenuVisiable"),2),a=i[0],l=i[1];return o.a.createElement(_n.a,{overlayClassName:"u-tree-dropmenu",visible:a,onVisibleChange:function(e){!e&&l(e)},placement:"bottomLeft",overlay:r?o.a.createElement(Un,Object.assign({},e,{visible:a,setVisible:l})):o.a.createElement(Nn,Object.assign({},e,{visible:a,setVisible:l,isMerge:n})),trigger:["contextMenu"]},o.a.createElement("div",null,e.children))},Kn=n("tXYs"),Yn=n("S33Y"),$n=n("Nbvm"),Jn=n("hCDY"),Xn=n("f/wd"),Zn=n("sR1h");function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nr=Object(Kn.a)(wn,Yn.a);t.a=function(e){var t,n=e.onCreated,i=e.isSearching,a=e.loadMoreRows,l=e.listLoading,c=e.refreshPage,s=e.handleMailDelete,u=e.mailDataList,d=e.refreshEmailList,f=e.handleMailMove,h=e.selectedKeys,m=e.onListItemActive,p=e.selected,v=e.setSelected,g=e.refreshLoading,y=e.handleFresh,S=e.authLock,b=e.searchSelected,w=e.setSearchSelected,_=e.handleBackToTop,E=(e.setSelectedMail,e.setSearchMail,e.condition),C=e.treeMap,x=e.inputValue,I=e.isAdvancedSearch,T=e.tagName,O=e.onSearchCreated,R=(e.noMultChecked,e.noFLag),M=e.onListModelChange,k=void 0===M?function(){}:M,A=e.onListItemDragStart,z=e.onListItemDragEnd,P=e.onResizeProcessing,N=void 0===P?function(){}:P,L=e.selectedSearchKeys,j=e.mailTotal,D=e.listLoadIsFail,F=e.handleMailListHotKeyDelete,W=e.openNewWindow,H=er(Object(r.useState)(324),2),G=H[0],U=H[1],B=Object(nn.n)(),V=Lt.f.api.requireLogicalApi(Lt.h.mailConfApiImpl),q=Lt.f.api.requireLogicalApi(Lt.h.mailApiImpl),K=Lt.f.api.getSystemApi(),Y=Lt.f.api.getEventApi(),$=Lt.f.api.requireLogicalApi(Lt.h.htmlApi),J=er(Object(r.useState)([]),2),X=(J[0],J[1],er(Object(r.useState)(0),2)),Z=X[0],Q=X[1],ee=er(Object(r.useState)(30),2),te=ee[0],ne=(ee[1],er(Object(r.useState)("granted"!==K.isSysNotificationAvailable()),2)),re=ne[0],oe=ne[1],ie=er(Object(r.useState)(""),2),ae=(ie[0],ie[1],er(Object(r.useState)(),2)),le=(ae[0],ae[1],er(Object(r.useState)(),2)),se=le[0],ue=le[1],de=er(Object(r.useState)(!1),2),fe=(de[0],de[1],er(Object(r.useState)([]),2)),he=(fe[0],fe[1],er(Object(Tn.a)("scrollTop","doUpdateMailListScrollTop"),2)),me=he[0],pe=he[1],ve=er(Object(Tn.a)("noticeNum","doUpdateNoticeNum"),2),ge=ve[0],ye=ve[1],Se=er(Object(Tn.a)("activeIds","doUpdateActiveIds"),2),be=Se[0],we=Se[1],_e=er(Object(Tn.a)("mailListMenuVisiable","doUpdateMailListMenuVisiable"),2),Ee=(_e[0],_e[1]),Ce=er(Object(Tn.a)("showThreadBuildingTip","doUpdateShowTbTip"),2),xe=Ce[0],Ie=(Ce[1],Object(nn.o)((function(e){return e.mailReducer.MailFolderTreeMap}))),Te=Object(nn.o)((function(e){return e.loginReducer.loginInfo.isCorpMailMode})),Oe=Object(r.useRef)(d);Oe.current=d,Object(r.useEffect)((function(){Me()}),[h,L]);var Re=i?L&&(-3==L[0]||1==L[0]||+L[0]>=17):h&&(1==h[0]||+h[0]>=17),Me=function(){var e=i||!h||4!=h[0]&&5!=h[0]?0:40,t=i?L[0]:h[0],n=Object(Kt.M)(t,i)?60:0;void 0!==("undefined"==typeof window?"undefined":Qn(window))&&Q(window.document.body.offsetHeight-n-e)},ke=Object($n.a)(Me),Ae=function(e){return!!u[e.index]},ze=function(){return Object(Kt.z)(h[0],i)},Pe=function(e,t,n){var r=u[t];if(r&&r.entry&&r.entry.id){var o=Te?r.entry.threadMessageIds||[]:null;je(r.entry.id,t,r.entry.folder,o)}},Ne=(new ce({fixedWidth:!0,minHeight:70}),u&&u.length>0||l),Le=function(e){return Object(Kt.A)(u[e],i)},je=function(e,t,n,r){m&&m(e,t,n,r)},De=function(e){var t,n,r,o,i=e.receiver,a=[];return i.map((function(e){var t,n=e.contact.contact,r=(null===(t=K.getCurrentUser())||void 0===t?void 0:t.id)===n.accountName?"我":n.contactName||n.accountName,o=$.encodeHtml(r);a.includes(o)||a.push(o)})),"".concat(3==h[0]&&i&&i[0]&&(null===(n=null===(t=i[0].contact)||void 0===t?void 0:t.contact)||void 0===n?void 0:n.accountName)&&(!(null===(r=null==e?void 0:e.entry)||void 0===r?void 0:r.threadMessageCount)||(null===(o=null==e?void 0:e.entry)||void 0===o?void 0:o.threadMessageCount)<2)?"致：":"").concat(a.join("、"))},Fe=function(e,t,n){var r=null==n?void 0:n.isThread;K.isElectron()?2===n.entry.folder?q.doEditMail(n.id,!0):K.createWindowWithInitData("readMail",{eventName:"initPage",eventData:null==n?void 0:n.id,eventStrData:r?"isthread":""}):window.open("/readMail?id=".concat(null==n?void 0:n.id).concat(r?"&isthread=1":""),"readMail","menubar=0,scrollbars=1,resizable=1,width=800,height=600")},We=new Array(5).fill(null).reduce((function(e,t,n){return Le(n)+e}),0);Object(r.useEffect)((function(){var e="default"==K.isSysNotificationAvailable();return oe(e),void 0!==("undefined"==typeof window?"undefined":Qn(window))&&window.addEventListener("resize",ke),function(){void 0!==("undefined"==typeof window?"undefined":Qn(window))&&window.removeEventListener("resize",ke)}}),[]);var He=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"m-auth"},o.a.createElement("div",{className:"m-auth-lock"},o.a.createElement(jt.b.LockSvg,null)),o.a.createElement("div",{className:"m-auth-text"},"该文件夹已设置安全锁"),o.a.createElement("div",{className:"m-auth-text"},"当前版本暂不支持解锁"),o.a.createElement("div",{className:"m-auth-note"},"可前往旧版网页端",o.a.createElement("span",{className:"link",onClick:function(){return e=V.getSettingUrl("welcome.CorpWelcomeModule"),void K.openNewWindow(e,!0);var e}},"qiye.163.com")))),Ge=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"m-list-title"},o.a.createElement("div",{className:"m-list-tab"},E&&E.length>0?E.map((function(e,t){return o.a.createElement("span",{key:t,className:zt()(["text","sirius-no-drag",t==(i?b:p)?"on":""]),onClick:function(){i?w(t):v(t),setTimeout((function(){Oe.current&&Oe.current()}),0)}},e)})):null),!i&&h&&h[0]&&(null===(t=C[h[0]])||void 0===t?void 0:t.entry.mailBoxCurrentUnread)&&!Object(Kt.u)()?o.a.createElement("div",{className:"u-mark-read sirius-no-drag",onClick:function(){B(Zn.a.doActiveFolderAllRead({folderId:h[0],isThread:ze()}))}},"全标已读"):""),i||I?"":o.a.createElement("div",{className:"m-list-num",onClick:function(){ye(0);var e=Object(Kt.F)(u);pe(e)},hidden:ge<=0},ge,"封新邮件")),Ue=R?null:function(e,t,n,r){var i=e.entry,a=i.id,l=(i.title,i.mark);i.folder,i.threadMessageCount,i.threadMessageIds,e.isThread;return!h||4!=h[0]&&5!=h[0]?o.a.createElement("div",{className:"flag",onClick:function(e){e.stopPropagation(),Y.sendSysEvent({eventName:"mailStatesChanged",eventData:{mark:"none"===l,id:a,type:"redFlag"},eventStrData:"none"===l?"mark":"unmark"})}},"redFlag"==l?o.a.createElement(Rt.a,{title:"取消红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},o.a.createElement("span",{className:"red"},o.a.createElement(jt.b.RedFlagSvg,null))):o.a.createElement(Rt.a,{title:"标为红旗",mouseEnterDelay:.3,mouseLeaveDelay:.15},n?o.a.createElement("span",{className:"white flag-icon"},o.a.createElement(jt.b.WhiteFlagSvg,null)):o.a.createElement("span",{className:"grey flag-icon"},o.a.createElement(jt.b.FlagSvg,null)))):o.a.createElement("span",null)},Be=Object(r.useMemo)((function(){return o.a.createElement(qn,{onMove:f,onDelete:s,item:se,isMerge:!1,openNewWindow:W},o.a.createElement(nr,{activeIds:be,mailDataList:u,listHeight:Z,isRowLoaded:Ae,loadMoreRows:function(e){var t=e.startIndex;return a({startIndex:t,searchValue:x,advancedSearch:I,searchKeys:L})},refreshPage:c,isSearching:i,handleItemDoubleClick:Fe,rowCount:j,rowHeight:function(e){var t=e.index;return Le(t)},onItemDoubleClick:Fe,onItemActiveInWindow:W,listWidth:G,scrollTop:me,listLoading:l,selectedKeys:b,itemSummaryExtra:Ue,notice:re,isMerging:!1,onCreated:O,onScroll:function(e){pe(e.scrollTop)},onItemActive:Pe,onItemSelected:function(e,t){we(t)},onItemUnSelected:function(e,t){we(t)},onListModelChange:k,onItemContextmenu:function(e,t){Ee(!0),Array.isArray(e)?ue(e):ue([e])}}))}),[f,s,se,be,u,Z,G,Ae,i,j,l,h,re,wn,O,k,Ue,x,I,c,b,a]),Ve=Object(r.useMemo)((function(){var e,t;return o.a.createElement(qn,{onMove:f,onDelete:s,item:se,isMerge:!!u.length&&(null===(e=u[0])||void 0===e?void 0:e.isThread),openNewWindow:W},o.a.createElement(nr,{activeIds:be,onCreated:n,mailDataList:u,listHeight:Z,isRowLoaded:Ae,loadMoreRows:a,rowCount:j,rowHeight:function(e){var t=e.index;return Le(t)},onItemDoubleClick:Fe,onItemActiveInWindow:W,listWidth:G,scrollTop:me,listLoading:l,isSearching:i,notice:re,selected:p,selectedKeys:h,isMerging:!!u.length&&(null===(t=u[0])||void 0===t?void 0:t.isThread),tagName:T,refreshPage:c,itemTitle:function(e){return 2==h[0]||3==h[0]?e.receiver?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:De(e)}}):"无收件人":""},onScroll:function(e){pe(e.scrollTop),e.scrollTop<=Object(Kt.F)(u)&&0!=ge&&ye(0)},onItemActive:Pe,onItemSelected:function(e,t){we(t)},onItemUnSelected:function(e,t){we(t)},onItemDragStart:A,onItemDragEnd:z,onListModelChange:k,itemSummaryExtra:Ue,onItemContextmenu:function(e,t){Ee(!0),Array.isArray(e)?ue(e):ue([e])},onItemDelete:function(e){var t;e&&e.length&&F(1===e.length?e[0]:e,null===(t=u[0])||void 0===t?void 0:t.isThread)}}))}),[f,s,se,be,u,Z,Ae,i,l,re,wn,b,O,T,A,z,k,Ue,j,c]),qe=o.a.useCallback(Nt()((function(e,t){var n=t.size.width;U(n)}),150),[]),Ke=function(e){var t;if(!Te)return te;var n=Ie[e],r=null===(t=null==n?void 0:n.entry)||void 0===t?void 0:t.keepPeriod;return r||te};return o.a.createElement(Jn.a,{borderRight:!0,minWidth:Xn.f[2],defaultWidth:324,className:"m-email-list",onResize:qe,onResizeStop:function(){N(!1)},onResizeStart:function(){N(!0)}},S&&!i?He:o.a.createElement("div",{className:"m-list-container"},Re?Ge:"",!i&&h&&4==h[0]?o.a.createElement("div",{className:"u-alert"},"已删除邮件",Ke(4),"天后自动彻底删除"):"",!i&&h&&5==h[0]?o.a.createElement("div",{className:"u-alert"},"垃圾邮件",Ke(5),"天后自动删除(已开启自动拦截)"):"",ze()&&xe?o.a.createElement("div",{className:"u-alert"},"聚合邮件数据构建中，可稍后刷新再试。"):"",Ne?o.a.createElement("div",{className:"m-list"},i?Be:Ve):o.a.createElement("div",{className:"m-list"},o.a.createElement("div",{className:"m-list-empty"},o.a.createElement("div",{className:"empty"},D?"加载失败":"暂无邮件"),g?o.a.createElement(Mt.a,{indicator:o.a.createElement(kt.a,{style:{fontSize:24},spin:!0})}):o.a.createElement("div",{className:"refresh",onClick:function(){y&&y(D)}},D?"点击重试":"刷新")))),me>We&&o.a.createElement("div",{hidden:S,style:{marginLeft:G-58},className:zt()(["back-top-wrapper"])},o.a.createElement(Rt.a,{title:"回到顶部",mouseEnterDelay:1,mouseLeaveDelay:.15},o.a.createElement(Dt.d,{onClick:_,style:{cursor:"pointer"}}))))}},wszz:function(e,t,n){"use strict";var r=n("OoOd")("%TypeError%");e.exports=function(e,t){if(null==e)throw new r(t||"Cannot call method on "+e);return e}},xQ8p:function(e,t,n){"use strict";var r=n("ghTS"),o=n("zT+L");e.exports=function(){var e=r();return o(Object,{values:e},{values:function(){return Object.values!==e}}),e}},xgAC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o,i=n("ERkP");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){return i.createElement("svg",a({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.221 3.32a.8.8 0 01.615-.287h8.58a.8.8 0 01.8.8v7.917a.8.8 0 01-.8.8h-8.55a.8.8 0 01-.634-.313L1.05 8.102a.8.8 0 01.02-1l3.151-3.781z",stroke:"#262A33",strokeWidth:.9})),o||(o=i.createElement("path",{d:"M6.333 10.083l2.292-2.292m0 0L6.333 5.5M8.625 7.79l2.292 2.292M8.625 7.791L10.917 5.5",stroke:"#262A33",strokeWidth:.9,strokeLinejoin:"round"})))}},xu9V:function(e,t,n){e.exports=n("PXhU")},z4YI:function(e,t,n){},"zT+L":function(e,t,n){"use strict";var r=n("ey2t"),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,l=Object.defineProperty,c=l&&function(){var e={};try{for(var t in l(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),s=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(c?l(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var l=0;l<i.length;l+=1)s(e,i[l],t[i[l]],n[i[l]])};u.supportsDescriptors=!!c,e.exports=u},ztH8:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),i=n("/zI6"),a=n("SCaQ"),l=n("dRg2");n("X/nh");t.a=function(e){var t=e.isModalVisible,n=e.isPrompt,r=e.isCancel,c=e.title,s=void 0===c?"提示":c,u=e.content,d=void 0===u?"":u,f=e.okText,h=void 0===f?"知道了":f,m=e.onOk,p=e.onCancel,v=e.danger;return o.a.createElement("div",null,o.a.createElement(i.a,{wrapClassName:"u-dialog",visible:t,centered:!0,closable:!1,width:"480px",bodyStyle:{padding:"24px 40px"},footer:[r?o.a.createElement(a.a,{key:"cancel",className:"u-middle-btn",onClick:function(){p&&p()}},"取消"):"",o.a.createElement(a.a,{key:"confirm",type:"primary",className:"u-middle-btn",onClick:function(){m&&m()},danger:v},h)]},n?o.a.createElement("div",{className:"u-dialog-title"},o.a.createElement(l.a,{style:{color:"#386EE7",marginRight:"9px"}}),"提示"):o.a.createElement("div",{className:"u-dialog-title"},o.a.createElement(l.a,{style:{color:"#F74F4F",marginRight:"9px"}}),s),d?o.a.createElement("div",{className:"u-dialog-content"},d):null))}}}]);