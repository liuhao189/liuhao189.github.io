webpackJsonp([1],{"4rli":function(e,t){},"5/Yz":function(e,t){},"62KO":function(e,t,i){"use strict";var n=i("JkZY"),a=(n.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[n.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===e.layout}},[i("transition",{attrs:{name:e.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask",style:e.maskStyle,on:{click:e.hide}})]),e._v(" "),i("transition",{attrs:{name:e.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.dialogClass,style:e.dialogStyle},[e._t("default")],2)])],1)},staticRenderFns:[]};var o=i("VU/8")(a,s,!1,function(e){i("IBcj")},null,null).exports,l=(Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:o},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-confirm"},[i("x-dialog",{attrs:{"dialog-class":"android"===e.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":e.maskTransition,"dialog-transition":"android"===e.theme?"vux-fade":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){return e.$emit("on-hide")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[e.title?i("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!e.showContent}},[i("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.showContent?[e.showInput?i("div",{staticClass:"vux-prompt"},["checkbox"===e.getInputAttrs().type?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.msg)?e._i(e.msg,null)>-1:e.msg},on:{touchend:e.setInputFocus,change:function(t){var i=e.msg,n=t.target,a=!!n.checked;if(Array.isArray(i)){var s=e._i(i,null);n.checked?s<0&&(e.msg=i.concat([null])):s>-1&&(e.msg=i.slice(0,s).concat(i.slice(s+1)))}else e.msg=a}}},"input",e.getInputAttrs(),!1)):"radio"===e.getInputAttrs().type?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.msg,null)},on:{touchend:e.setInputFocus,change:function(t){e.msg=null}}},"input",e.getInputAttrs(),!1)):i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:e.getInputAttrs().type},domProps:{value:e.msg},on:{touchend:e.setInputFocus,input:function(t){t.target.composing||(e.msg=t.target.value)}}},"input",e.getInputAttrs(),!1))]):i("div",{staticClass:"weui-dialog__bd"},[e._t("default",[i("div",{domProps:{innerHTML:e._s(e.content)}})])],2)]:e._e(),e._v(" "),i("div",{staticClass:"weui-dialog__ft"},[e.showCancelButton?i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:e._onCancel}},[e._v(e._s(e.cancelText||"取消"))]):e._e(),e._v(" "),e.showConfirmButton?i("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+e.confirmType,attrs:{href:"javascript:;"},on:{click:e._onConfirm}},[e._v(e._s(e.confirmText||"确定"))]):e._e()])],2)],1)},staticRenderFns:[]};var u=i("VU/8")(l,r,!1,function(e){i("4rli")},null,null);t.a=u.exports},"67XJ":function(e,t){},"67t3":function(e,t){},IBcj:function(e,t){},J7hk:function(e,t){},gHxw:function(e,t){},nJXK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("/5sW"),a=i("gRE1"),s=i.n(a),o=i("woOf"),l=i.n(o),r=(String,String,String,Function,{props:{accept:{type:String,default:"*/*"},action:{type:String,required:!0},formName:{type:String,default:"file"},beforeUpload:{type:Function}},mounted:function(){this.fileInput=this.$refs.fileInput},methods:{fileChanged:function(e){var t=this;if(this.fileInput){var i=this.fileInput,n=i.files&&i.files.length?i.files[0]:null;if(setTimeout(function(){t.fileInput.value=null},50),this.beforeUpload)if(!this.beforeUpload(n))return}},showSelect:function(){this.fileInput&&this.fileInput.click()}}}),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-uploader"},[t("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:this.accept},on:{change:this.fileChanged}})])},staticRenderFns:[]};var c=i("VU/8")(r,u,!1,function(e){i("J7hk")},null,null).exports,h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-row"},[i("label",[e._v(e._s(e.name))]),e._v(" "),i("div",{staticClass:"form-row-val",on:{click:e.onValueClicked}},[e._v("\n    "+e._s(e.value)+"\n    "),e.noArrow?e._e():i("div",{staticClass:"arrow-right"})])])},staticRenderFns:[]};var d=i("VU/8")({name:"form-row",props:["name","noArrow","value"],methods:{onValueClicked:function(){this.$emit("on-value-click")}}},h,!1,function(e){i("pa8F")},null,null).exports,m=i("//Fk"),p=i.n(m);function f(e){return new p.a(function(t,i){if(e&&e instanceof File){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(e){t(e.srcElement.result)},n.onerror=function(e){i(e)}}else i("file shoule be a File object!")})}var v=[{name:"正面",value:1},{name:"后面",value:2},{name:"左面",value:3},{name:"右面",value:4},{name:"之前",value:5}],g=[{label:"可爱",value:1},{label:"知性",value:2},{label:"性感",value:3}],w=[{label:"直发",value:1},{label:"半卷",value:2},{label:"大卷",value:3},{label:"中卷",value:4},{label:"小卷",value:5}],_=[{label:"短发",value:1},{label:"中长发",value:2},{label:"长发",value:3}],y=[{label:"圆形脸",value:1},{label:"蛋形脸",value:2},{label:"长椭圆脸",value:3},{label:"长方形脸",value:4},{label:"倒三角形脸",value:5},{label:"菱形脸",value:6},{label:"五角脸",value:7},{label:"正方形脸",value:8},{label:"梯形脸",value:9}],x=[{label:"正常",value:1},{label:"细软",value:2},{label:"粗硬",value:3}],b=[{label:"正常",value:1},{label:"少",value:2},{label:"多",value:3}],C=[{label:"标准",value:1},{label:"较宽",value:2},{label:"较近",value:3}],k=[{label:"空气刘海",value:1},{label:"斜刘海",value:2},{label:"齐刘海",value:3}],S=[{label:"标准",value:1},{label:"上庭长",value:2},{label:"中庭长",value:3},{label:"下庭长",value:4},{label:"上庭短",value:5},{label:"中庭短",value:6},{label:"下庭短",value:7}],T=[{label:"较白",value:1},{label:"正常",value:2},{label:"较黑",value:3}],$={1:{dialog:"showTypeDialog",valuePropPrefix:"style"},2:{dialog:"showCurlDialog",valuePropPrefix:"curl"},3:{dialog:"showLenDialog",valuePropPrefix:"len"},4:{dialog:"showFaceDialog",valuePropPrefix:"face"},5:{dialog:"showTexturesDialog",valuePropPrefix:"hairTextures"},6:{dialog:"showCountsDialog",valuePropPrefix:"hairCounts"},7:{dialog:"showEyeDistancesDialog",valuePropPrefix:"eyeDistances"},8:{dialog:"showBangsDialog",valuePropPrefix:"bangs"},9:{dialog:"showThreePartsDialog",valuePropPrefix:"threeParts"},10:{dialog:"showSkinColorsDialog",valuePropPrefix:"skinColors"}},E={components:{Uploder:c,FormRow:d},data:function(){var e={model:{styleName:null,styleId:null,character:null,hairColor:null,popularElement:null,fitScene:null,fitCharacterDesc:null,hairStyleEffect:null,hairStyleTitle:null},info:{currentImgIndex:0,actionSheetTheme:"android",maxImgIndex:v.length-1,clientWidth:document.documentElement.clientWidth,inputPlaceholder:"请输入",inputTextAlign:"right",inputShowClear:!1,direLen:v.length},options:{types:g,curlTypes:w,lenTypes:_,faceTypes:y,hairTextures:x,hairCounts:b,eyeDistances:C,bangs:k,threeParts:S,skinColors:T}};e.model.imgs=v.map(function(e,t){return l()({imgUrl:"",url:"",isFirst:0===t,isLast:t===v.length-1},e)});var t=e.info;return s()($).forEach(function(e){t[e.dialog]=!1}),e.info=t,e},created:function(){this.swipeThreshold=200},mounted:function(){var e=this;this.uploader=this.$refs.uploader;var t=document.querySelector(".hair-type-imgs");new Hammer(t).on("swipe",function(t){t.deltaX<0-e.swipeThreshold&&e.changeCurrentIndex(1),t.deltaX>e.swipeThreshold&&e.changeCurrentIndex(-1)})},methods:{checkAndProcessModel:function(e){var t=[];return e.imgs.find(function(e){return 1===e.value}).imgUrl||t.push("正面图片不能为空"),e.faceId||t.push("请选择合适的脸型"),e.hairStyleTitle||t.push("请输入发型标题"),!t||!t.length||(this.$vux.toast.show({type:"text",text:t.join("<br/>")}),!1)},saveHairStyle:function(){var e=l()({},this.model);this.checkAndProcessModel(e)},showDialog:function(e){this.currentSelectType=e;var t=$[e];this.info[t.dialog]=!0},itemClicked:function(e,t){var i=this.model;if(this.currentSelectType){var n=$[this.currentSelectType].valuePropPrefix;i[n+"Name"]=t.label,i[n+"Id"]=t.value}},beforeImageUpload:function(e){e.imgItem=this.currentImgItem,f(e).then(function(t){e.imgItem.imgUrl=t})},addImage:function(e){this.currentImgItem=e,this.uploader.showSelect()},deleteImg:function(e){this.$vux.confirm.show({content:"确定删除该张图片吗?",onConfirm:function(){e.imgUrl=null}})},changeCurrentIndex:function(e){var t=this.info,i=t.currentImgIndex+e;i<0&&(i=0),i>=t.maxImgIndex&&(i=t.maxImgIndex),t.currentImgIndex=i}}},I={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"create-hair-style main-container"},[i("section",{staticClass:"form"},[e._m(0),e._v(" "),i("section",{staticClass:"hair-type-imgs-wrapper"},[i("section",{staticClass:"hair-type-imgs",style:{transform:"translateX("+e.info.currentImgIndex*-e.info.clientWidth+"px)",width:100*e.direLen+"%"}},e._l(e.model.imgs,function(t){return i("div",{key:t.value,staticClass:"hair-type-imgitem"},[i("div",{staticClass:"hair-type-imgitem-img"},[t.imgUrl?i("img",{attrs:{src:t.imgUrl},on:{click:function(i){return e.deleteImg(t)}}}):i("button",{on:{click:function(i){return e.addImage(t)}}},[e._v("+")])]),e._v(" "),i("div",{staticClass:"hair-type-imgitem-tip"},[i("span",[e._v("(单击可删除图片)")]),e._v(" "),i("span",{staticClass:"strong"},[e._v(e._s(t.name))]),e._v(" "),i("span",[e._v(e._s(t.isLast?"已到最后一个角度":"→滑动继续添加"))])])])}),0),e._v(" "),i("Uploder",{ref:"uploader",attrs:{accept:"image/jpeg, image/jpg, image/png",action:"/api/image/upload",beforeUpload:e.beforeImageUpload}})],1),e._v(" "),e._m(1),e._v(" "),i("section",{staticClass:"form-part-rows"},[i("FormRow",{staticClass:"required",attrs:{name:"脸型",value:e.model.faceName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(4)}}}),e._v(" "),i("FormRow",{attrs:{name:"风格",value:e.model.styleName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(1)}}}),e._v(" "),i("FormRow",{attrs:{name:"卷度",value:e.model.curlName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(2)}}}),e._v(" "),i("FormRow",{attrs:{name:"发长",value:e.model.lenName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(3)}}}),e._v(" "),i("XInput",{attrs:{title:"特点",placeholder:e.info.inputPlaceholder,"text-align":e.info.inputTextAlign,"show-clear":e.info.inputShowClear},model:{value:e.model.character,callback:function(t){e.$set(e.model,"character",t)},expression:"model.character"}}),e._v(" "),i("FormRow",{attrs:{name:"发质",value:e.model.hairTexturesName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(5)}}}),e._v(" "),i("FormRow",{attrs:{name:"发量",value:e.model.hairCountsName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(6)}}}),e._v(" "),i("XInput",{attrs:{title:"发色",placeholder:e.info.inputPlaceholder,"text-align":e.info.inputTextAlign,"show-clear":e.info.inputShowClear},model:{value:e.model.hairColor,callback:function(t){e.$set(e.model,"hairColor",t)},expression:"model.hairColor"}}),e._v(" "),i("FormRow",{attrs:{name:"眼间距",value:e.model.eyeDistancesName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(7)}}}),e._v(" "),i("FormRow",{attrs:{name:"刘海",value:e.model.bangsName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(8)}}}),e._v(" "),i("FormRow",{attrs:{name:"三庭",value:e.model.threePartsName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(9)}}}),e._v(" "),i("XInput",{attrs:{title:"流行元素",placeholder:e.info.inputPlaceholder,"text-align":e.info.inputTextAlign,"show-clear":e.info.inputShowClear},model:{value:e.model.popularElement,callback:function(t){e.$set(e.model,"popularElement",t)},expression:"model.popularElement"}}),e._v(" "),i("FormRow",{attrs:{name:"肤色",value:e.model.skinColorsName||"请选择"},on:{"on-value-click":function(t){return e.showDialog(10)}}}),e._v(" "),i("XInput",{attrs:{title:"适合场景",placeholder:e.info.inputPlaceholder,"text-align":e.info.inputTextAlign,"show-clear":e.info.inputShowClear},model:{value:e.model.fitScene,callback:function(t){e.$set(e.model,"fitScene",t)},expression:"model.fitScene"}})],1),e._v(" "),e._m(2),e._v(" "),i("section",{staticClass:"form-part-rows"},[i("div",{staticClass:"form-row textarea"},[i("label",[e._v("适合")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model.fitCharacterDesc,expression:"model.fitCharacterDesc"}],staticClass:"text-input",attrs:{placeholder:"本发型适合什么特征用户",rows:"2"},domProps:{value:e.model.fitCharacterDesc},on:{input:function(t){t.target.composing||e.$set(e.model,"fitCharacterDesc",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-row textarea"},[i("label",[e._v("效果")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model.hairStyleEffect,expression:"model.hairStyleEffect"}],staticClass:"text-input",attrs:{placeholder:"本发型能产生的效果",rows:"4"},domProps:{value:e.model.hairStyleEffect},on:{input:function(t){t.target.composing||e.$set(e.model,"hairStyleEffect",t.target.value)}}})])]),e._v(" "),e._m(3),e._v(" "),i("section",{staticClass:"form-part-rows"},[i("div",{staticClass:"form-row textarea required"},[i("label",[e._v("标题")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model.hairStyleTitle,expression:"model.hairStyleTitle"}],staticClass:"text-input",attrs:{placeholder:"最后给作品起个好名字吧",rows:"2"},domProps:{value:e.model.hairStyleTitle},on:{input:function(t){t.target.composing||e.$set(e.model,"hairStyleTitle",t.target.value)}}})])]),e._v(" "),i("section",{staticClass:"form-actions"},[i("button",{staticClass:"btn-primary",on:{click:e.saveHairStyle}},[e._v("保存作品")])]),e._v(" "),i("section",{staticClass:"form-tips"},[i("Divider",[e._v("从今天开始")]),e._v(" "),i("div",{staticClass:"strong tip"},[e._v("每一个创作者都值得被尊重")]),e._v(" "),i("div",{staticClass:"tip"},[e._v("有任何问题，找公众号:dying留言")])],1),e._v(" "),i("section",{staticClass:"form-dialogs"},[i("actionsheet",{attrs:{menus:e.options.types,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showTypeDialog,callback:function(t){e.$set(e.info,"showTypeDialog",t)},expression:"info.showTypeDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.curlTypes,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showCurlDialog,callback:function(t){e.$set(e.info,"showCurlDialog",t)},expression:"info.showCurlDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.lenTypes,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showLenDialog,callback:function(t){e.$set(e.info,"showLenDialog",t)},expression:"info.showLenDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.faceTypes,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showFaceDialog,callback:function(t){e.$set(e.info,"showFaceDialog",t)},expression:"info.showFaceDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.hairTextures,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showTexturesDialog,callback:function(t){e.$set(e.info,"showTexturesDialog",t)},expression:"info.showTexturesDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.hairCounts,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showCountsDialog,callback:function(t){e.$set(e.info,"showCountsDialog",t)},expression:"info.showCountsDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.eyeDistances,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showEyeDistancesDialog,callback:function(t){e.$set(e.info,"showEyeDistancesDialog",t)},expression:"info.showEyeDistancesDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.bangs,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showBangsDialog,callback:function(t){e.$set(e.info,"showBangsDialog",t)},expression:"info.showBangsDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.threeParts,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showThreePartsDialog,callback:function(t){e.$set(e.info,"showThreePartsDialog",t)},expression:"info.showThreePartsDialog"}}),e._v(" "),i("actionsheet",{attrs:{menus:e.options.skinColors,theme:e.info.actionSheetTheme},on:{"on-click-menu":e.itemClicked},model:{value:e.info.showSkinColorsDialog,callback:function(t){e.$set(e.info,"showSkinColorsDialog",t)},expression:"info.showSkinColorsDialog"}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"form-part-title"},[t("span",{staticClass:"form-part-num"},[this._v("1")]),this._v(" "),t("span",[this._v("添加发型图片")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"form-part-title"},[t("span",{staticClass:"form-part-num"},[this._v("2")]),this._v(" "),t("span",[this._v("设置发型参数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"form-part-title"},[t("span",{staticClass:"form-part-num"},[this._v("3")]),this._v(" "),t("span",[this._v("填写发型师说明")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"form-part-title"},[t("span",{staticClass:"form-part-num"},[this._v("4")]),this._v(" "),t("span",[this._v("加个标题")])])}]};var V=i("VU/8")(E,I,!1,function(e){i("5/Yz")},null,null).exports,D=(i("67t3"),i("mvHQ")),B=i.n(D),N=i("pFYg"),P=i.n(N),F=(Boolean,Boolean,String,String,Object,Array,Boolean,Boolean,{name:"actionsheet",mounted:function(){var e=this;this.hasHeaderSlot=!!this.$slots.header,this.$nextTick(function(){e.$tabbar=document.querySelector(".weui-tabbar"),e.$refs.iOSMenu&&e.$refs.iOSMenu.addEventListener("transitionend",e.onTransitionEnd)})},props:{value:Boolean,showCancel:Boolean,cancelText:String,theme:{type:String,default:"ios"},menus:{type:[Object,Array],default:function(){return{}}},closeOnClickingMask:{type:Boolean,default:!0},closeOnClickingMenu:{type:Boolean,default:!0}},data:function(){return{hasHeaderSlot:!1,show:!1}},methods:{onTransitionEnd:function(){this.$emit(this.show?"on-after-show":"on-after-hide")},onMenuClick:function(e,t){"string"==typeof e?this.emitEvent("on-click-menu",t,e):"disabled"!==e.type&&"info"!==e.type&&(e.value||0===e.value?this.emitEvent("on-click-menu",e.value,e):(this.emitEvent("on-click-menu","",e),this.show=!1))},onClickingMask:function(){this.$emit("on-click-mask"),this.closeOnClickingMask&&(this.show=!1)},emitEvent:function(e,t,i){if("on-click-menu"===e&&!/.noop/.test(t)){var n=i;"object"===(void 0===n?"undefined":P()(n))&&(n=JSON.parse(B()(n))),this.$emit(e,t,n),this.$emit(e+"-"+t),this.closeOnClickingMenu&&(this.show=!1)}},fixIos:function(e){this.$el.parentNode&&-1!==this.$el.parentNode.className.indexOf("v-transfer-dom")||this.$tabbar&&/iphone/i.test(navigator.userAgent)&&(this.$tabbar.style.zIndex=e)}},watch:{show:function(e){var t=this;this.$emit("input",e),e?this.fixIos(-1):setTimeout(function(){t.fixIos(100)},200)},value:{handler:function(e){this.show=e},immediate:!0}},beforeDestroy:function(){this.fixIos(100),this.$refs.iOSMenu&&this.$refs.iOSMenu.removeEventListener("transitionend",this.onTransitionEnd)}}),A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-actionsheet"},[i("transition",{attrs:{name:"vux-actionsheet-mask"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask weui-mask_transparent",on:{click:e.onClickingMask}})]),e._v(" "),"android"===e.theme?i("div",{staticClass:"weui-skin_android"},[i("transition",{attrs:{name:"vux-android-actionsheet"},on:{"after-enter":function(t){return e.$emit("on-after-show")},"after-leave":function(t){return e.$emit("on-after-hide")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-actionsheet"},[i("div",{staticClass:"weui-actionsheet__menu"},e._l(e.menus,function(t,n){return i("div",{staticClass:"weui-actionsheet__cell",domProps:{innerHTML:e._s(t.label||t)},on:{click:function(i){return e.onMenuClick(t,n)}}})}),0)])])],1):i("div",{ref:"iOSMenu",staticClass:"weui-actionsheet",class:{"weui-actionsheet_toggle":e.show}},[i("div",{staticClass:"weui-actionsheet__menu"},[e.hasHeaderSlot?i("div",{staticClass:"weui-actionsheet__cell"},[e._t("header")],2):e._e(),e._v(" "),e._l(e.menus,function(t,n){return i("div",{staticClass:"weui-actionsheet__cell",class:"vux-actionsheet-menu-"+(t.type||"default"),domProps:{innerHTML:e._s(t.label||t)},on:{click:function(i){return e.onMenuClick(t,n)}}})})],2),e._v(" "),e.showCancel?i("div",{staticClass:"weui-actionsheet__action",on:{click:function(t){return e.emitEvent("on-click-menu","cancel")}}},[i("div",{staticClass:"weui-actionsheet__cell"},[e._v(e._s(e.cancelText||"取消"))])]):e._e()])],1)},staticRenderFns:[]};var q=i("VU/8")(F,A,!1,function(e){i("nmiZ")},null,null).exports,R=i("fZjL"),W=i.n(R),O=i("f6Hi"),M=(String,Boolean,{name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}),U={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{class:[this.className,this.isMsg?"weui-icon_msg":""]})},staticRenderFns:[]};var L=i("VU/8")(M,U,!1,function(e){i("zKRC")},null,null).exports,H=i("rLAy"),j={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)},staticRenderFns:[]};var z=i("VU/8")({name:"inline-desc"},j,!1,function(e){i("67XJ")},null,null).exports,X=i("2LX0"),K=i.n(X),J=i("Ewe+"),Z=i.n(J),Y=i("nror"),G=i("lFEC"),Q=i.n(G),ee=(K.a,O.a,H.a,String,String,String,String,Number,String,Boolean,Boolean,String,String,String,Function,Number,Number,Boolean,String,String,String,String,String,String,Boolean,String,Number,String,String,String,Boolean,{email:{fn:K.a,msg:"邮箱格式"},"china-mobile":{fn:function(e){return Z()(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}}),te={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=Object(Y.a)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[O.a],components:{Icon:L,InlineDesc:z,Toast:H.a},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){var e=this.$parent,t=void 0===e?{}:e;return{width:this.labelWidthComputed||t.labelWidth||this.labelWidthComputed,textAlign:t.labelAlign,marginRight:t.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":this.$parent&&("justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign)}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return W()(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;/iphone/i.test(navigator.userAgent),"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){e.$refs.input.scrollIntoViewIfNeeded(!0)},t)},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?Q.a.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){var t=this;this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,setTimeout(function(){!t.$refs.input||t.$refs.input.scrollIntoViewIfNeeded(!1)},1e3)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=W()(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0===this.equalWith)if(this.errors={},this.currentValue||this.required){if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=ee[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var i=this.isType(this.currentValue);if(this.valid=i.valid,!this.valid)return this.errors.format=i.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0}else this.valid=!0;else this.validateEqual()},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))},_getInputMaskSelection:function(e,t,i,n){if(!this.mask||n&&0===t)return e;if((0===t&&(t=this.lastDirection),t>0)&&!this.mask.substr(e-t,1).match(/[9SA]/))return this._getInputMaskSelection(e+1,t,i,!0);return e}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e,t){var i=this,n=null;!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate();try{n=this.$refs.input.selectionStart;var a=e.length-t.length;n=this._getInputMaskSelection(n,a,this.maskValue(e)),this.lastDirection=a}catch(e){}this.$emit("input",this.maskValue(e)),this.$nextTick(function(){i.$refs.input.selectionStart!==n&&(i.$refs.input.selectionStart=n,i.$refs.input.selectionEnd=n),i.currentValue!==i.maskValue(e)&&(i.currentValue=i.maskValue(e))}),this._debounce?this._debounce():this.$emit("on-change",e)}}},ie={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":e.showWarn,disabled:e.disabled,"vux-x-input-has-right-full":e.hasRightFullHeightSlot}},[i("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?i("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?i("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.labelWidth||e.$parent.labelWidth||e.labelWidthComputed,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+e.uuid},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?i("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),i("div",{staticClass:"weui-cell__bd weui-cell__primary",class:e.placeholderAlign?"vux-x-input-placeholder-"+e.placeholderAlign:""},[e.type&&"text"!==e.type?e._e():i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"text",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),"number"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"number",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"email"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"email",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"password"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"password",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"tel"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"tel",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("icon",{directives:[{name:"show",rawName:"v-show",value:!e.hasRightFullHeightSlot&&!e.equalWith&&e.showClear&&""!==e.currentValue&&!e.readonly&&!e.disabled&&e.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:e.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.valid?"":e.firstError},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}),e._v(" "),!e.novalidate&&e.hasLengthEqual&&e.dirty&&e.equalWith&&!e.valid?i("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}):e._e(),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!e.novalidate&&e.equalWith&&e.equalWith===e.currentValue&&e.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"success"===e.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"error"===e.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),e._v(" "),e._t("right"),e._v(" "),e.hasRightFullHeightSlot?i("div",{staticClass:"vux-x-input-right-full"},[e._t("right-full-height")],2):e._e()],2),e._v(" "),i("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:e.showErrorToast,callback:function(t){e.showErrorToast=t},expression:"showErrorToast"}},[e._v(e._s(e.firstError))])],1)},staticRenderFns:[]};var ne=i("VU/8")(te,ie,!1,function(e){i("gHxw")},null,null).exports,ae={render:function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"vux-divider"},[this._t("default")],2)},staticRenderFns:[]};var se=i("VU/8")({name:"divider"},ae,!1,function(e){i("wpwk")},null,null).exports,oe=i("NXWw"),le=i("3BeM");n.a.component("actionsheet",q),n.a.component("XInput",ne),n.a.component("Divider",se),n.a.use(oe.a),n.a.use(le.a,{position:"top"}),new n.a({el:"#app",render:function(e){return e(V)}})},nmiZ:function(e,t){},pa8F:function(e,t){},rLAy:function(e,t,i){"use strict";var n=i("xNvf"),a=(n.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[n.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}),s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-toast"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask&&e.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),e._v(" "),i("transition",{attrs:{name:e.currentTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-toast",class:e.toastClass,style:{width:e.width}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==e.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),e.text?i("p",{staticClass:"weui-toast__content",style:e.style,domProps:{innerHTML:e._s(e.text)}}):i("p",{staticClass:"weui-toast__content",style:e.style},[e._t("default")],2)])])],1)},staticRenderFns:[]};var o=i("VU/8")(a,s,!1,function(e){i("t8ak")},null,null);t.a=o.exports},t8ak:function(e,t){},wpwk:function(e,t){},zKRC:function(e,t){}},["nJXK"]);
//# sourceMappingURL=appcreate.11ac78955385fa6435ab.js.map