<!DOCTYPE html>
<html>
<head>
  <title>Gatsby.js文档</title>
  <link rel="stylesheet" href="/note/note.css?ts=1646499517646">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><link rel="shortcut icon" href="/ico.png"></head>
<body><script>var _hmt = _hmt || [];
(function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?256376ad73e3e50091706bb3c032e74c";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>
<h1 id="gatsby-js-">Gatsby.js文档</h1>
<p>Gatsby是一个为React打造的快如闪电的现代化站点生成器。</p>
<h2 id="-">快速开始</h2>
<h3 id="-gatsby-cli">使用Gatsby-CLI</h3>
<p>安装gatsby-cli</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">npm</span> <span class="nx">i</span> <span class="nx">gatsby</span><span class="o">-</span><span class="nx">cli</span> <span class="o">-</span><span class="nx">g</span>
</pre></div>

</code></pre>
<p>创建站点</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">gatsby</span> <span class="k">new</span> <span class="nx">gatsby</span><span class="o">-</span><span class="nx">site</span>
</pre></div>

</code></pre>
<p>启动开发服务器，gatsby将会启动一个热更新的开发环境，可以通过访问locakhost:8000访问。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">gatsby</span> <span class="nx">develop</span>
</pre></div>

</code></pre>
<p>构建生产版本，gatsby将会为你站点的生产版本执行一些优化工作，生成静态HTML和预加载的JS代码包。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">gatsby</span> <span class="nx">build</span>
</pre></div>

</code></pre>
<p>在本地启动生产版本服务器，gatsby会启动一个本地HTML服务器，用于测试你构建的站点。记得先使用gatsby build构建你的站点。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">gatsby</span> <span class="nx">serve</span>
</pre></div>

</code></pre>
<p>查看CLI指定文档。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">gatsby</span> <span class="o">--</span><span class="nx">help</span>
<span class="nx">gatsby</span> <span class="nx">COMMAND_NAME</span> <span class="o">--</span><span class="nx">help</span>
</pre></div>

</code></pre>
<h2 id="-">设置开发环境</h2>
<p>在开发构建你的Gatsby站点之前，你需要首先熟悉一些web的技术：1、熟悉命令行；2、安装Node.js；3、安装Git。</p>
<h2 id="gatsby-">Gatsby构建步骤</h2>
<h3 id="gatsby-">Gatsby页面</h3>
<p>在IDE中打开src目录，你可以看到pages目录，这就是Gatsby页面。</p>
<p>其实Gatsby的每个页面都是一个导出的React组件。</p>
<p>任何在src/pages/*.(js|ts|tsx)的文件会自动变成一个页面。</p>
<h3 id="link-">Link组件</h3>
<p>使用Gatsby的Link组件来处理Gatsby生成的页面跳转。</p>
<h3 id="-gatsby-">部署Gatsby网站</h3>
<p>Gatsby build命令生成了静态的HTML和JS文件，这些文件可以被部署到任何静态资源服务器。</p>
<p>Gatsby Cloud和Surge是两个部署的选项。</p>
<h2 id="-gatsby-">在Gatsby中使用样式</h2>
<h3 id="-">使用全局样式</h3>
<p>主要实在gatsby-browser.js中引入全局样式文件。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="c1">//gatsby-browser.js</span>
<span class="kr">import</span> <span class="s1">&#39;./src/styles/global.css&#39;</span><span class="p">;</span>
</pre></div>

</code></pre>
<h3 id="css-">CSS模块</h3>
<p>CSS模块因为可以让你更加安全的书写CSS，所以最近比较流行。CSS模块会自动生成独一无二的class和animation名字，所以你不用担心选择器名字冲突。</p>
<p>Gatsby原生支持CSS模块。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">ContainerStyles</span> <span class="nx">from</span> <span class="s1">&#39;./styles/container.module.css&#39;</span><span class="p">;</span>
</pre></div>

</code></pre>
<h3 id="css-in-js">CSS-in-JS</h3>
<p>面向组件的样式组织方式，一般是用JS内联书写CSS。</p>
<h3 id="-css-">其它CSS选项</h3>
<p>Gatsby也支持Sass，JSS，Stylus，PostCSS，Typography.js等CSS技术。</p>
<pre><code class="lang-bash"><div class="highlight"><pre>npm i sass gatsby-plugin-sass --save-dev
</pre></div>

</code></pre>
<pre><code class="lang-js"><div class="highlight"><pre><span class="c1">// gatsby-config.js</span>
<span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;gatsby-plugin-sass&#39;</span><span class="p">]</span>
</pre></div>

</code></pre>
</body>
</html>
