<!DOCTYPE html>
<html>
<head>
  <title>electron-builder</title>
  <link rel="stylesheet" href="/note/note.css?ts=1647875668366">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><link rel="shortcut icon" href="/ico.png"></head>
<body><script>var _hmt = _hmt || [];
(function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?256376ad73e3e50091706bb3c032e74c";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>
<h1 id="electron-builder">electron-builder</h1>
<p>开箱就支持macOS，Windows和Linux，并支持自动更新。</p>
<p>功能：</p>
<p>1、npm包管理：原生模块依赖重编译；devDependencies不会被包含（你不用显式忽略)；支持两个package.json结构。</p>
<p>2、支持在CI服务器或开发机器上代码签名。</p>
<p>3、支持自定更新。</p>
<p>4、众多的打包格式：所有平台：7z，zip，tar.xz，tar.lz，tar.gz，tar.bz2，dir(未打包目录)。</p>
<p>macOS：dmg，pkg，mas，mas-dev。</p>
<p>Linux：appImage,snap,deb,rmp,fressbsd,pacman,p5p,apk。</p>
<p>Windows：nsis，nsis-web,portable,Appx。</p>
<p>5、发布到Github Releases，Amazon S3，DiitalOcean Spaces and Bintray。</p>
<p>6、高级构建：构建一个已打包app的分发模式；分开构建步骤；构建和发布并行，在CI服务器上使用硬链接来避免IO和硬盘空间损耗；支持electron-compile。</p>
<p>7、支持docker，拥有docker镜像，可以在任何平台上构建Linux或Windows包。</p>
<p>8、支持Proton Native。</p>
<p>9、懒下载所有需要的工具文件，而不是在初始化时。eg：windows上的code sign来生成appx。</p>
<h2 id="-">安装</h2>
<pre><code class="lang-js"><div class="highlight"><pre><span class="nx">npm</span> <span class="nx">i</span> <span class="nx">electron</span><span class="o">-</span><span class="nx">builder</span> <span class="o">--</span><span class="nx">dev</span>
</pre></div>

</code></pre>
<h2 id="-">快速设置</h2>
<p>1、确保package.json中有必要的字段。name，description, version and author。</p>
<p>2、在package.json中添加build配置。</p>
<pre><code class="lang-js"><div class="highlight"><pre><span class="s2">&quot;build&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="s2">&quot;appId&quot;</span><span class="o">:</span> <span class="s2">&quot;com.apple.liuhaoLearnElectron&quot;</span><span class="p">,</span>
  <span class="s2">&quot;mac&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;category&quot;</span><span class="o">:</span> <span class="s2">&quot;public.app-category.developer-tools&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

</code></pre>
<p>3、添加图标。</p>
<p>4、在package.json中添加scripts。</p>
<h2 id="-">参考文档</h2>
<p><a href="https://www.electron.build/">https://www.electron.build/</a></p>
</body>
</html>
